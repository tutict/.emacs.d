"use strict";require("core-js/modules/es.reflect.construct.js");require("core-js/modules/es.reflect.get.js");require("core-js/modules/es.object.get-own-property-descriptors.js");require("regenerator-runtime/runtime.js");require("core-js/modules/es.object.get-own-property-descriptor.js");require("core-js/modules/es.object.get-own-property-names.js");require("core-js/modules/es.object.get-prototype-of.js");require("core-js/modules/es.object.keys.js");require("core-js/modules/es.array.splice.js");require("core-js/modules/es.array.slice.js");require("core-js/modules/es.array.iterator.js");require("core-js/modules/es.map.js");require("core-js/modules/es.object.to-string.js");require("core-js/modules/es.string.iterator.js");require("core-js/modules/web.dom-collections.iterator.js");require("core-js/modules/es.regexp.exec.js");require("core-js/modules/es.string.split.js");require("core-js/modules/es.regexp.to-string.js");require("core-js/modules/es.string.trim.js");require("core-js/modules/es.typed-array.uint8-array.js");require("core-js/modules/es.typed-array.copy-within.js");require("core-js/modules/es.typed-array.every.js");require("core-js/modules/es.typed-array.fill.js");require("core-js/modules/es.typed-array.filter.js");require("core-js/modules/es.typed-array.find.js");require("core-js/modules/es.typed-array.find-index.js");require("core-js/modules/es.typed-array.for-each.js");require("core-js/modules/es.typed-array.includes.js");require("core-js/modules/es.typed-array.index-of.js");require("core-js/modules/es.typed-array.iterator.js");require("core-js/modules/es.typed-array.join.js");require("core-js/modules/es.typed-array.last-index-of.js");require("core-js/modules/es.typed-array.map.js");require("core-js/modules/es.typed-array.reduce.js");require("core-js/modules/es.typed-array.reduce-right.js");require("core-js/modules/es.typed-array.reverse.js");require("core-js/modules/es.typed-array.set.js");require("core-js/modules/es.typed-array.slice.js");require("core-js/modules/es.typed-array.some.js");require("core-js/modules/es.typed-array.sort.js");require("core-js/modules/es.typed-array.subarray.js");require("core-js/modules/es.typed-array.to-locale-string.js");require("core-js/modules/es.typed-array.to-string.js");require("core-js/modules/es.promise.js");require("core-js/modules/es.object.freeze.js");require("core-js/modules/es.array.concat.js");require("core-js/modules/es.number.constructor.js");require("core-js/modules/es.symbol.iterator.js");require("core-js/modules/es.symbol.js");require("core-js/modules/es.symbol.description.js");require("core-js/modules/web.dom-collections.for-each.js");require("core-js/modules/es.symbol.to-string-tag.js");require("core-js/modules/es.json.to-string-tag.js");require("core-js/modules/es.math.to-string-tag.js");require("core-js/modules/es.function.name.js");require("core-js/modules/es.array.join.js");require("core-js/modules/es.set.js");require("core-js/modules/es.array.map.js");require("core-js/modules/es.string.replace.js");require("core-js/modules/es.array.includes.js");require("core-js/modules/es.string.includes.js");require("core-js/modules/es.typed-array.uint32-array.js");require("core-js/modules/es.regexp.constructor.js");require("core-js/modules/es.string.match.js");require("core-js/modules/es.object.assign.js");require("core-js/modules/es.promise.finally.js");require("core-js/modules/es.array.from.js");require("core-js/modules/es.array.filter.js");require("core-js/modules/esnext.global-this.js");require("core-js/modules/es.number.to-fixed.js");require("core-js/modules/es.array.sort.js");require("core-js/modules/es.regexp.flags.js");require("core-js/modules/esnext.promise.all-settled.js");require("core-js/modules/es.number.max-safe-integer.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _get(){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(arguments.length<3?target:receiver);}return desc.value;};}return _get.apply(this,arguments);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}Object.defineProperty(subClass,"prototype",{value:Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}}),writable:false});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}else if(call!==void 0){throw new TypeError("Derived constructors may only return object or undefined");}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);}var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf;var __hasOwnProp=Object.prototype.hasOwnProperty;var __markAsModule=function __markAsModule(target){return __defProp(target,"__esModule",{value:true});};var __esm=function __esm(fn2,res){return function __init(){return fn2&&(res=(0,fn2[Object.keys(fn2)[0]])(fn2=0)),res;};};var __commonJS=function __commonJS(cb,mod){return function __require(){return mod||(0,cb[Object.keys(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports;};};var __export=function __export(target,all){__markAsModule(target);for(var name in all){__defProp(target,name,{get:all[name],enumerable:true});}};var __reExport=function __reExport(target,module2,desc){if(module2&&_typeof(module2)==="object"||typeof module2==="function"){var _iterator=_createForOfIteratorHelper(__getOwnPropNames(module2)),_step;try{var _loop=function _loop(){var key=_step.value;if(!__hasOwnProp.call(target,key)&&key!=="default")__defProp(target,key,{get:function get(){return module2[key];},enumerable:!(desc=__getOwnPropDesc(module2,key))||desc.enumerable});};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return target;};var __toModule=function __toModule(module2){return __reExport(__markAsModule(__defProp(module2!=null?__create(__getProtoOf(module2)):{},"default",module2&&module2.__esModule&&"default"in module2?{get:function get(){return module2.default;},enumerable:true}:{value:module2,enumerable:true})),module2);};// client/node_modules/vscode-jsonrpc/lib/common/ral.js
var require_ral=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/ral.js":function clientNode_modulesVscodeJsonrpcLibCommonRalJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ral;function RAL(){if(_ral===void 0){throw new Error("No runtime abstraction layer installed");}return _ral;}(function(RAL2){function install(ral){if(ral===void 0){throw new Error("No runtime abstraction layer provided");}_ral=ral;}RAL2.install=install;})(RAL||(RAL={}));exports.default=RAL;}});// client/node_modules/vscode-jsonrpc/lib/common/disposable.js
var require_disposable=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/disposable.js":function clientNode_modulesVscodeJsonrpcLibCommonDisposableJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Disposable=void 0;var Disposable3;(function(Disposable4){function create(func){return{dispose:func};}Disposable4.create=create;})(Disposable3=exports.Disposable||(exports.Disposable={}));}});// client/node_modules/vscode-jsonrpc/lib/common/events.js
var require_events=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/events.js":function clientNode_modulesVscodeJsonrpcLibCommonEventsJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Emitter=exports.Event=void 0;var ral_1=require_ral();var Event2;(function(Event3){var _disposable={dispose:function dispose(){}};Event3.None=function(){return _disposable;};})(Event2=exports.Event||(exports.Event={}));var CallbackList=/*#__PURE__*/function(){function CallbackList(){_classCallCheck(this,CallbackList);}_createClass(CallbackList,[{key:"add",value:function add(callback){var _this2=this;var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var bucket=arguments.length>2?arguments[2]:undefined;if(!this._callbacks){this._callbacks=[];this._contexts=[];}this._callbacks.push(callback);this._contexts.push(context);if(Array.isArray(bucket)){bucket.push({dispose:function dispose(){return _this2.remove(callback,context);}});}}},{key:"remove",value:function remove(callback){var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!this._callbacks){return;}var foundCallbackWithDifferentContext=false;for(var i=0,len=this._callbacks.length;i<len;i++){if(this._callbacks[i]===callback){if(this._contexts[i]===context){this._callbacks.splice(i,1);this._contexts.splice(i,1);return;}else{foundCallbackWithDifferentContext=true;}}}if(foundCallbackWithDifferentContext){throw new Error("When adding a listener with a context, you should remove it with the same context");}}},{key:"invoke",value:function invoke(){if(!this._callbacks){return[];}var ret=[],callbacks=this._callbacks.slice(0),contexts=this._contexts.slice(0);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}for(var i=0,len=callbacks.length;i<len;i++){try{ret.push(callbacks[i].apply(contexts[i],args));}catch(e){(0,ral_1.default)().console.error(e);}}return ret;}},{key:"isEmpty",value:function isEmpty(){return!this._callbacks||this._callbacks.length===0;}},{key:"dispose",value:function dispose(){this._callbacks=void 0;this._contexts=void 0;}}]);return CallbackList;}();var Emitter=/*#__PURE__*/function(){function Emitter(_options){_classCallCheck(this,Emitter);this._options=_options;}_createClass(Emitter,[{key:"event",get:function get(){var _this3=this;if(!this._event){this._event=function(listener,thisArgs,disposables){if(!_this3._callbacks){_this3._callbacks=new CallbackList();}if(_this3._options&&_this3._options.onFirstListenerAdd&&_this3._callbacks.isEmpty()){_this3._options.onFirstListenerAdd(_this3);}_this3._callbacks.add(listener,thisArgs);var result={dispose:function dispose(){if(!_this3._callbacks){return;}_this3._callbacks.remove(listener,thisArgs);result.dispose=Emitter._noop;if(_this3._options&&_this3._options.onLastListenerRemove&&_this3._callbacks.isEmpty()){_this3._options.onLastListenerRemove(_this3);}}};if(Array.isArray(disposables)){disposables.push(result);}return result;};}return this._event;}},{key:"fire",value:function fire(event){if(this._callbacks){this._callbacks.invoke.call(this._callbacks,event);}}},{key:"dispose",value:function dispose(){if(this._callbacks){this._callbacks.dispose();this._callbacks=void 0;}}}]);return Emitter;}();exports.Emitter=Emitter;Emitter._noop=function(){};}});// client/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js
var require_messageBuffer=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js":function clientNode_modulesVscodeJsonrpcLibCommonMessageBufferJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AbstractMessageBuffer=void 0;var CR=13;var LF=10;var CRLF="\r\n";var AbstractMessageBuffer=/*#__PURE__*/function(){function AbstractMessageBuffer(){var encoding=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"utf-8";_classCallCheck(this,AbstractMessageBuffer);this._encoding=encoding;this._chunks=[];this._totalLength=0;}_createClass(AbstractMessageBuffer,[{key:"encoding",get:function get(){return this._encoding;}},{key:"append",value:function append(chunk){var toAppend=typeof chunk==="string"?this.fromString(chunk,this._encoding):chunk;this._chunks.push(toAppend);this._totalLength+=toAppend.byteLength;}},{key:"tryReadHeaders",value:function tryReadHeaders(){if(this._chunks.length===0){return void 0;}var state=0;var chunkIndex=0;var offset=0;var chunkBytesRead=0;row:while(chunkIndex<this._chunks.length){var chunk=this._chunks[chunkIndex];offset=0;column:while(offset<chunk.length){var value=chunk[offset];switch(value){case CR:switch(state){case 0:state=1;break;case 2:state=3;break;default:state=0;}break;case LF:switch(state){case 1:state=2;break;case 3:state=4;offset++;break row;default:state=0;}break;default:state=0;}offset++;}chunkBytesRead+=chunk.byteLength;chunkIndex++;}if(state!==4){return void 0;}var buffer=this._read(chunkBytesRead+offset);var result=new Map();var headers=this.toString(buffer,"ascii").split(CRLF);if(headers.length<2){return result;}for(var i=0;i<headers.length-2;i++){var header=headers[i];var index=header.indexOf(":");if(index===-1){throw new Error("Message header must separate key and value using :");}var key=header.substr(0,index);var _value2=header.substr(index+1).trim();result.set(key,_value2);}return result;}},{key:"tryReadBody",value:function tryReadBody(length){if(this._totalLength<length){return void 0;}return this._read(length);}},{key:"numberOfBytes",get:function get(){return this._totalLength;}},{key:"_read",value:function _read(byteCount){if(byteCount===0){return this.emptyBuffer();}if(byteCount>this._totalLength){throw new Error("Cannot read so many bytes!");}if(this._chunks[0].byteLength===byteCount){var chunk=this._chunks[0];this._chunks.shift();this._totalLength-=byteCount;return this.asNative(chunk);}if(this._chunks[0].byteLength>byteCount){var _chunk=this._chunks[0];var result2=this.asNative(_chunk,byteCount);this._chunks[0]=_chunk.slice(byteCount);this._totalLength-=byteCount;return result2;}var result=this.allocNative(byteCount);var resultOffset=0;var chunkIndex=0;while(byteCount>0){var _chunk2=this._chunks[chunkIndex];if(_chunk2.byteLength>byteCount){var chunkPart=_chunk2.slice(0,byteCount);result.set(chunkPart,resultOffset);resultOffset+=byteCount;this._chunks[chunkIndex]=_chunk2.slice(byteCount);this._totalLength-=byteCount;byteCount-=byteCount;}else{result.set(_chunk2,resultOffset);resultOffset+=_chunk2.byteLength;this._chunks.shift();this._totalLength-=_chunk2.byteLength;byteCount-=_chunk2.byteLength;}}return result;}}]);return AbstractMessageBuffer;}();exports.AbstractMessageBuffer=AbstractMessageBuffer;}});// client/node_modules/vscode-jsonrpc/lib/browser/ril.js
var require_ril=__commonJS({"client/node_modules/vscode-jsonrpc/lib/browser/ril.js":function clientNode_modulesVscodeJsonrpcLibBrowserRilJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ral_1=require_ral();var disposable_1=require_disposable();var events_1=require_events();var messageBuffer_1=require_messageBuffer();var MessageBuffer=/*#__PURE__*/function(_messageBuffer_1$Abst){_inherits(MessageBuffer,_messageBuffer_1$Abst);var _super2=_createSuper(MessageBuffer);function MessageBuffer(){var _this4;var encoding=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"utf-8";_classCallCheck(this,MessageBuffer);_this4=_super2.call(this,encoding);_this4.asciiDecoder=new TextDecoder("ascii");return _this4;}_createClass(MessageBuffer,[{key:"emptyBuffer",value:function emptyBuffer(){return MessageBuffer.emptyBuffer;}},{key:"fromString",value:function fromString(value,_encoding){return new TextEncoder().encode(value);}},{key:"toString",value:function toString(value,encoding){if(encoding==="ascii"){return this.asciiDecoder.decode(value);}else{return new TextDecoder(encoding).decode(value);}}},{key:"asNative",value:function asNative(buffer,length){if(length===void 0){return buffer;}else{return buffer.slice(0,length);}}},{key:"allocNative",value:function allocNative(length){return new Uint8Array(length);}}]);return MessageBuffer;}(messageBuffer_1.AbstractMessageBuffer);MessageBuffer.emptyBuffer=new Uint8Array(0);var ReadableStreamWrapper=/*#__PURE__*/function(){function ReadableStreamWrapper(socket){var _this5=this;_classCallCheck(this,ReadableStreamWrapper);this.socket=socket;this._onData=new events_1.Emitter();this._messageListener=function(event){var blob=event.data;blob.arrayBuffer().then(function(buffer){_this5._onData.fire(new Uint8Array(buffer));},function(){(0,ral_1.default)().console.error("Converting blob to array buffer failed.");});};this.socket.addEventListener("message",this._messageListener);}_createClass(ReadableStreamWrapper,[{key:"onClose",value:function onClose(listener){var _this6=this;this.socket.addEventListener("close",listener);return disposable_1.Disposable.create(function(){return _this6.socket.removeEventListener("close",listener);});}},{key:"onError",value:function onError(listener){var _this7=this;this.socket.addEventListener("error",listener);return disposable_1.Disposable.create(function(){return _this7.socket.removeEventListener("error",listener);});}},{key:"onEnd",value:function onEnd(listener){var _this8=this;this.socket.addEventListener("end",listener);return disposable_1.Disposable.create(function(){return _this8.socket.removeEventListener("end",listener);});}},{key:"onData",value:function onData(listener){return this._onData.event(listener);}}]);return ReadableStreamWrapper;}();var WritableStreamWrapper=/*#__PURE__*/function(){function WritableStreamWrapper(socket){_classCallCheck(this,WritableStreamWrapper);this.socket=socket;}_createClass(WritableStreamWrapper,[{key:"onClose",value:function onClose(listener){var _this9=this;this.socket.addEventListener("close",listener);return disposable_1.Disposable.create(function(){return _this9.socket.removeEventListener("close",listener);});}},{key:"onError",value:function onError(listener){var _this10=this;this.socket.addEventListener("error",listener);return disposable_1.Disposable.create(function(){return _this10.socket.removeEventListener("error",listener);});}},{key:"onEnd",value:function onEnd(listener){var _this11=this;this.socket.addEventListener("end",listener);return disposable_1.Disposable.create(function(){return _this11.socket.removeEventListener("end",listener);});}},{key:"write",value:function write(data,encoding){if(typeof data==="string"){if(encoding!==void 0&&encoding!=="utf-8"){throw new Error("In a Browser environments only utf-8 text encoding is supported. But got encoding: ".concat(encoding));}this.socket.send(data);}else{this.socket.send(data);}return Promise.resolve();}},{key:"end",value:function end(){this.socket.close();}}]);return WritableStreamWrapper;}();var _textEncoder=new TextEncoder();var _ril=Object.freeze({messageBuffer:Object.freeze({create:function create(encoding){return new MessageBuffer(encoding);}}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:function encode(msg,options){if(options.charset!=="utf-8"){throw new Error("In a Browser environments only utf-8 text encoding is supported. But got encoding: ".concat(options.charset));}return Promise.resolve(_textEncoder.encode(JSON.stringify(msg,void 0,0)));}}),decoder:Object.freeze({name:"application/json",decode:function decode(buffer,options){if(!(buffer instanceof Uint8Array)){throw new Error("In a Browser environments only Uint8Arrays are supported.");}return Promise.resolve(JSON.parse(new TextDecoder(options.charset).decode(buffer)));}})}),stream:Object.freeze({asReadableStream:function asReadableStream(socket){return new ReadableStreamWrapper(socket);},asWritableStream:function asWritableStream(socket){return new WritableStreamWrapper(socket);}}),console:console,timer:Object.freeze({setTimeout:function(_setTimeout){function setTimeout(_x,_x2){return _setTimeout.apply(this,arguments);}setTimeout.toString=function(){return _setTimeout.toString();};return setTimeout;}(function(callback,ms2){for(var _len2=arguments.length,args=new Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++){args[_key2-2]=arguments[_key2];}var handle=setTimeout.apply(void 0,[callback,ms2].concat(args));return{dispose:function dispose(){return clearTimeout(handle);}};}),setImmediate:function setImmediate(callback){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3];}var handle=setTimeout.apply(void 0,[callback,0].concat(args));return{dispose:function dispose(){return clearTimeout(handle);}};},setInterval:function(_setInterval){function setInterval(_x3,_x4){return _setInterval.apply(this,arguments);}setInterval.toString=function(){return _setInterval.toString();};return setInterval;}(function(callback,ms2){for(var _len4=arguments.length,args=new Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++){args[_key4-2]=arguments[_key4];}var handle=setInterval.apply(void 0,[callback,ms2].concat(args));return{dispose:function dispose(){return clearInterval(handle);}};})})});function RIL(){return _ril;}(function(RIL2){function install(){ral_1.default.install(_ril);}RIL2.install=install;})(RIL||(RIL={}));exports.default=RIL;}});// client/node_modules/vscode-jsonrpc/lib/common/is.js
var require_is=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/is.js":function clientNode_modulesVscodeJsonrpcLibCommonIsJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stringArray=exports.array=exports.func=exports.error=exports.number=exports.string=exports.boolean=void 0;function boolean(value){return value===true||value===false;}exports.boolean=boolean;function string(value){return typeof value==="string"||value instanceof String;}exports.string=string;function number(value){return typeof value==="number"||value instanceof Number;}exports.number=number;function error(value){return value instanceof Error;}exports.error=error;function func(value){return typeof value==="function";}exports.func=func;function array(value){return Array.isArray(value);}exports.array=array;function stringArray(value){return array(value)&&value.every(function(elem){return string(elem);});}exports.stringArray=stringArray;}});// client/node_modules/vscode-jsonrpc/lib/common/messages.js
var require_messages=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/messages.js":function clientNode_modulesVscodeJsonrpcLibCommonMessagesJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Message=exports.NotificationType9=exports.NotificationType8=exports.NotificationType7=exports.NotificationType6=exports.NotificationType5=exports.NotificationType4=exports.NotificationType3=exports.NotificationType2=exports.NotificationType1=exports.NotificationType0=exports.NotificationType=exports.RequestType9=exports.RequestType8=exports.RequestType7=exports.RequestType6=exports.RequestType5=exports.RequestType4=exports.RequestType3=exports.RequestType2=exports.RequestType1=exports.RequestType=exports.RequestType0=exports.AbstractMessageSignature=exports.ParameterStructures=exports.ResponseError=exports.ErrorCodes=void 0;var is2=require_is();var ErrorCodes;(function(ErrorCodes2){ErrorCodes2.ParseError=-32700;ErrorCodes2.InvalidRequest=-32600;ErrorCodes2.MethodNotFound=-32601;ErrorCodes2.InvalidParams=-32602;ErrorCodes2.InternalError=-32603;ErrorCodes2.jsonrpcReservedErrorRangeStart=-32099;ErrorCodes2.serverErrorStart=ErrorCodes2.jsonrpcReservedErrorRangeStart;ErrorCodes2.MessageWriteError=-32099;ErrorCodes2.MessageReadError=-32098;ErrorCodes2.ServerNotInitialized=-32002;ErrorCodes2.UnknownErrorCode=-32001;ErrorCodes2.jsonrpcReservedErrorRangeEnd=-32e3;ErrorCodes2.serverErrorEnd=ErrorCodes2.jsonrpcReservedErrorRangeEnd;})(ErrorCodes=exports.ErrorCodes||(exports.ErrorCodes={}));var ResponseError=/*#__PURE__*/function(_Error){_inherits(ResponseError,_Error);var _super3=_createSuper(ResponseError);function ResponseError(code,message,data){var _this12;_classCallCheck(this,ResponseError);_this12=_super3.call(this,message);_this12.code=is2.number(code)?code:ErrorCodes.UnknownErrorCode;_this12.data=data;Object.setPrototypeOf(_assertThisInitialized(_this12),ResponseError.prototype);return _this12;}_createClass(ResponseError,[{key:"toJson",value:function toJson(){var result={code:this.code,message:this.message};if(this.data!==void 0){result.data=this.data;}return result;}}]);return ResponseError;}(/*#__PURE__*/_wrapNativeSuper(Error));exports.ResponseError=ResponseError;var ParameterStructures=/*#__PURE__*/function(){function ParameterStructures(kind){_classCallCheck(this,ParameterStructures);this.kind=kind;}_createClass(ParameterStructures,[{key:"toString",value:function toString(){return this.kind;}}],[{key:"is",value:function is(value){return value===ParameterStructures.auto||value===ParameterStructures.byName||value===ParameterStructures.byPosition;}}]);return ParameterStructures;}();exports.ParameterStructures=ParameterStructures;ParameterStructures.auto=new ParameterStructures("auto");ParameterStructures.byPosition=new ParameterStructures("byPosition");ParameterStructures.byName=new ParameterStructures("byName");var AbstractMessageSignature=/*#__PURE__*/function(){function AbstractMessageSignature(method,numberOfParams){_classCallCheck(this,AbstractMessageSignature);this.method=method;this.numberOfParams=numberOfParams;}_createClass(AbstractMessageSignature,[{key:"parameterStructures",get:function get(){return ParameterStructures.auto;}}]);return AbstractMessageSignature;}();exports.AbstractMessageSignature=AbstractMessageSignature;var RequestType0=/*#__PURE__*/function(_AbstractMessageSigna){_inherits(RequestType0,_AbstractMessageSigna);var _super4=_createSuper(RequestType0);function RequestType0(method){_classCallCheck(this,RequestType0);return _super4.call(this,method,0);}return _createClass(RequestType0);}(AbstractMessageSignature);exports.RequestType0=RequestType0;var RequestType=/*#__PURE__*/function(_AbstractMessageSigna2){_inherits(RequestType,_AbstractMessageSigna2);var _super5=_createSuper(RequestType);function RequestType(method){var _this13;var _parameterStructures=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ParameterStructures.auto;_classCallCheck(this,RequestType);_this13=_super5.call(this,method,1);_this13._parameterStructures=_parameterStructures;return _this13;}_createClass(RequestType,[{key:"parameterStructures",get:function get(){return this._parameterStructures;}}]);return RequestType;}(AbstractMessageSignature);exports.RequestType=RequestType;var RequestType1=/*#__PURE__*/function(_AbstractMessageSigna3){_inherits(RequestType1,_AbstractMessageSigna3);var _super6=_createSuper(RequestType1);function RequestType1(method){var _this14;var _parameterStructures=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ParameterStructures.auto;_classCallCheck(this,RequestType1);_this14=_super6.call(this,method,1);_this14._parameterStructures=_parameterStructures;return _this14;}_createClass(RequestType1,[{key:"parameterStructures",get:function get(){return this._parameterStructures;}}]);return RequestType1;}(AbstractMessageSignature);exports.RequestType1=RequestType1;var RequestType2=/*#__PURE__*/function(_AbstractMessageSigna4){_inherits(RequestType2,_AbstractMessageSigna4);var _super7=_createSuper(RequestType2);function RequestType2(method){_classCallCheck(this,RequestType2);return _super7.call(this,method,2);}return _createClass(RequestType2);}(AbstractMessageSignature);exports.RequestType2=RequestType2;var RequestType3=/*#__PURE__*/function(_AbstractMessageSigna5){_inherits(RequestType3,_AbstractMessageSigna5);var _super8=_createSuper(RequestType3);function RequestType3(method){_classCallCheck(this,RequestType3);return _super8.call(this,method,3);}return _createClass(RequestType3);}(AbstractMessageSignature);exports.RequestType3=RequestType3;var RequestType4=/*#__PURE__*/function(_AbstractMessageSigna6){_inherits(RequestType4,_AbstractMessageSigna6);var _super9=_createSuper(RequestType4);function RequestType4(method){_classCallCheck(this,RequestType4);return _super9.call(this,method,4);}return _createClass(RequestType4);}(AbstractMessageSignature);exports.RequestType4=RequestType4;var RequestType5=/*#__PURE__*/function(_AbstractMessageSigna7){_inherits(RequestType5,_AbstractMessageSigna7);var _super10=_createSuper(RequestType5);function RequestType5(method){_classCallCheck(this,RequestType5);return _super10.call(this,method,5);}return _createClass(RequestType5);}(AbstractMessageSignature);exports.RequestType5=RequestType5;var RequestType6=/*#__PURE__*/function(_AbstractMessageSigna8){_inherits(RequestType6,_AbstractMessageSigna8);var _super11=_createSuper(RequestType6);function RequestType6(method){_classCallCheck(this,RequestType6);return _super11.call(this,method,6);}return _createClass(RequestType6);}(AbstractMessageSignature);exports.RequestType6=RequestType6;var RequestType7=/*#__PURE__*/function(_AbstractMessageSigna9){_inherits(RequestType7,_AbstractMessageSigna9);var _super12=_createSuper(RequestType7);function RequestType7(method){_classCallCheck(this,RequestType7);return _super12.call(this,method,7);}return _createClass(RequestType7);}(AbstractMessageSignature);exports.RequestType7=RequestType7;var RequestType8=/*#__PURE__*/function(_AbstractMessageSigna10){_inherits(RequestType8,_AbstractMessageSigna10);var _super13=_createSuper(RequestType8);function RequestType8(method){_classCallCheck(this,RequestType8);return _super13.call(this,method,8);}return _createClass(RequestType8);}(AbstractMessageSignature);exports.RequestType8=RequestType8;var RequestType9=/*#__PURE__*/function(_AbstractMessageSigna11){_inherits(RequestType9,_AbstractMessageSigna11);var _super14=_createSuper(RequestType9);function RequestType9(method){_classCallCheck(this,RequestType9);return _super14.call(this,method,9);}return _createClass(RequestType9);}(AbstractMessageSignature);exports.RequestType9=RequestType9;var NotificationType=/*#__PURE__*/function(_AbstractMessageSigna12){_inherits(NotificationType,_AbstractMessageSigna12);var _super15=_createSuper(NotificationType);function NotificationType(method){var _this15;var _parameterStructures=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ParameterStructures.auto;_classCallCheck(this,NotificationType);_this15=_super15.call(this,method,1);_this15._parameterStructures=_parameterStructures;return _this15;}_createClass(NotificationType,[{key:"parameterStructures",get:function get(){return this._parameterStructures;}}]);return NotificationType;}(AbstractMessageSignature);exports.NotificationType=NotificationType;var NotificationType0=/*#__PURE__*/function(_AbstractMessageSigna13){_inherits(NotificationType0,_AbstractMessageSigna13);var _super16=_createSuper(NotificationType0);function NotificationType0(method){_classCallCheck(this,NotificationType0);return _super16.call(this,method,0);}return _createClass(NotificationType0);}(AbstractMessageSignature);exports.NotificationType0=NotificationType0;var NotificationType1=/*#__PURE__*/function(_AbstractMessageSigna14){_inherits(NotificationType1,_AbstractMessageSigna14);var _super17=_createSuper(NotificationType1);function NotificationType1(method){var _this16;var _parameterStructures=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ParameterStructures.auto;_classCallCheck(this,NotificationType1);_this16=_super17.call(this,method,1);_this16._parameterStructures=_parameterStructures;return _this16;}_createClass(NotificationType1,[{key:"parameterStructures",get:function get(){return this._parameterStructures;}}]);return NotificationType1;}(AbstractMessageSignature);exports.NotificationType1=NotificationType1;var NotificationType2=/*#__PURE__*/function(_AbstractMessageSigna15){_inherits(NotificationType2,_AbstractMessageSigna15);var _super18=_createSuper(NotificationType2);function NotificationType2(method){_classCallCheck(this,NotificationType2);return _super18.call(this,method,2);}return _createClass(NotificationType2);}(AbstractMessageSignature);exports.NotificationType2=NotificationType2;var NotificationType3=/*#__PURE__*/function(_AbstractMessageSigna16){_inherits(NotificationType3,_AbstractMessageSigna16);var _super19=_createSuper(NotificationType3);function NotificationType3(method){_classCallCheck(this,NotificationType3);return _super19.call(this,method,3);}return _createClass(NotificationType3);}(AbstractMessageSignature);exports.NotificationType3=NotificationType3;var NotificationType4=/*#__PURE__*/function(_AbstractMessageSigna17){_inherits(NotificationType4,_AbstractMessageSigna17);var _super20=_createSuper(NotificationType4);function NotificationType4(method){_classCallCheck(this,NotificationType4);return _super20.call(this,method,4);}return _createClass(NotificationType4);}(AbstractMessageSignature);exports.NotificationType4=NotificationType4;var NotificationType5=/*#__PURE__*/function(_AbstractMessageSigna18){_inherits(NotificationType5,_AbstractMessageSigna18);var _super21=_createSuper(NotificationType5);function NotificationType5(method){_classCallCheck(this,NotificationType5);return _super21.call(this,method,5);}return _createClass(NotificationType5);}(AbstractMessageSignature);exports.NotificationType5=NotificationType5;var NotificationType6=/*#__PURE__*/function(_AbstractMessageSigna19){_inherits(NotificationType6,_AbstractMessageSigna19);var _super22=_createSuper(NotificationType6);function NotificationType6(method){_classCallCheck(this,NotificationType6);return _super22.call(this,method,6);}return _createClass(NotificationType6);}(AbstractMessageSignature);exports.NotificationType6=NotificationType6;var NotificationType7=/*#__PURE__*/function(_AbstractMessageSigna20){_inherits(NotificationType7,_AbstractMessageSigna20);var _super23=_createSuper(NotificationType7);function NotificationType7(method){_classCallCheck(this,NotificationType7);return _super23.call(this,method,7);}return _createClass(NotificationType7);}(AbstractMessageSignature);exports.NotificationType7=NotificationType7;var NotificationType8=/*#__PURE__*/function(_AbstractMessageSigna21){_inherits(NotificationType8,_AbstractMessageSigna21);var _super24=_createSuper(NotificationType8);function NotificationType8(method){_classCallCheck(this,NotificationType8);return _super24.call(this,method,8);}return _createClass(NotificationType8);}(AbstractMessageSignature);exports.NotificationType8=NotificationType8;var NotificationType9=/*#__PURE__*/function(_AbstractMessageSigna22){_inherits(NotificationType9,_AbstractMessageSigna22);var _super25=_createSuper(NotificationType9);function NotificationType9(method){_classCallCheck(this,NotificationType9);return _super25.call(this,method,9);}return _createClass(NotificationType9);}(AbstractMessageSignature);exports.NotificationType9=NotificationType9;var Message;(function(Message2){function isRequest(message){var candidate=message;return candidate&&is2.string(candidate.method)&&(is2.string(candidate.id)||is2.number(candidate.id));}Message2.isRequest=isRequest;function isNotification(message){var candidate=message;return candidate&&is2.string(candidate.method)&&message.id===void 0;}Message2.isNotification=isNotification;function isResponse(message){var candidate=message;return candidate&&(candidate.result!==void 0||!!candidate.error)&&(is2.string(candidate.id)||is2.number(candidate.id)||candidate.id===null);}Message2.isResponse=isResponse;})(Message=exports.Message||(exports.Message={}));}});// client/node_modules/vscode-jsonrpc/lib/common/linkedMap.js
var require_linkedMap=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/linkedMap.js":function clientNode_modulesVscodeJsonrpcLibCommonLinkedMapJs(exports){"use strict";var _a4;Object.defineProperty(exports,"__esModule",{value:true});exports.LRUCache=exports.LinkedMap=exports.Touch=void 0;var Touch;(function(Touch2){Touch2.None=0;Touch2.First=1;Touch2.AsOld=Touch2.First;Touch2.Last=2;Touch2.AsNew=Touch2.Last;})(Touch=exports.Touch||(exports.Touch={}));var LinkedMap=/*#__PURE__*/function(_ref){function LinkedMap(){_classCallCheck(this,LinkedMap);this[_a4]="LinkedMap";this._map=new Map();this._head=void 0;this._tail=void 0;this._size=0;this._state=0;}_createClass(LinkedMap,[{key:"clear",value:function clear(){this._map.clear();this._head=void 0;this._tail=void 0;this._size=0;this._state++;}},{key:"isEmpty",value:function isEmpty(){return!this._head&&!this._tail;}},{key:"size",get:function get(){return this._size;}},{key:"first",get:function get(){var _this$_head;return(_this$_head=this._head)===null||_this$_head===void 0?void 0:_this$_head.value;}},{key:"last",get:function get(){var _this$_tail;return(_this$_tail=this._tail)===null||_this$_tail===void 0?void 0:_this$_tail.value;}},{key:"has",value:function has(key){return this._map.has(key);}},{key:"get",value:function get(key){var touch=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Touch.None;var item=this._map.get(key);if(!item){return void 0;}if(touch!==Touch.None){this.touch(item,touch);}return item.value;}},{key:"set",value:function set(key,value){var touch=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Touch.None;var item=this._map.get(key);if(item){item.value=value;if(touch!==Touch.None){this.touch(item,touch);}}else{item={key:key,value:value,next:void 0,previous:void 0};switch(touch){case Touch.None:this.addItemLast(item);break;case Touch.First:this.addItemFirst(item);break;case Touch.Last:this.addItemLast(item);break;default:this.addItemLast(item);break;}this._map.set(key,item);this._size++;}return this;}},{key:"delete",value:function _delete(key){return!!this.remove(key);}},{key:"remove",value:function remove(key){var item=this._map.get(key);if(!item){return void 0;}this._map.delete(key);this.removeItem(item);this._size--;return item.value;}},{key:"shift",value:function shift(){if(!this._head&&!this._tail){return void 0;}if(!this._head||!this._tail){throw new Error("Invalid list");}var item=this._head;this._map.delete(item.key);this.removeItem(item);this._size--;return item.value;}},{key:"forEach",value:function forEach(callbackfn,thisArg){var state=this._state;var current=this._head;while(current){if(thisArg){callbackfn.bind(thisArg)(current.value,current.key,this);}else{callbackfn(current.value,current.key,this);}if(this._state!==state){throw new Error("LinkedMap got modified during iteration.");}current=current.next;}}},{key:"keys",value:function keys(){var _this17=this,_iterator2;var state=this._state;var current=this._head;var iterator=(_iterator2={},_defineProperty(_iterator2,Symbol.iterator,function(){return iterator;}),_defineProperty(_iterator2,"next",function next(){if(_this17._state!==state){throw new Error("LinkedMap got modified during iteration.");}if(current){var result={value:current.key,done:false};current=current.next;return result;}else{return{value:void 0,done:true};}}),_iterator2);return iterator;}},{key:"values",value:function values(){var _this18=this,_iterator3;var state=this._state;var current=this._head;var iterator=(_iterator3={},_defineProperty(_iterator3,Symbol.iterator,function(){return iterator;}),_defineProperty(_iterator3,"next",function next(){if(_this18._state!==state){throw new Error("LinkedMap got modified during iteration.");}if(current){var result={value:current.value,done:false};current=current.next;return result;}else{return{value:void 0,done:true};}}),_iterator3);return iterator;}},{key:"entries",value:function entries(){var _this19=this,_iterator4;var state=this._state;var current=this._head;var iterator=(_iterator4={},_defineProperty(_iterator4,Symbol.iterator,function(){return iterator;}),_defineProperty(_iterator4,"next",function next(){if(_this19._state!==state){throw new Error("LinkedMap got modified during iteration.");}if(current){var result={value:[current.key,current.value],done:false};current=current.next;return result;}else{return{value:void 0,done:true};}}),_iterator4);return iterator;}},{key:_ref,value:function value(){return this.entries();}},{key:"trimOld",value:function trimOld(newSize){if(newSize>=this.size){return;}if(newSize===0){this.clear();return;}var current=this._head;var currentSize=this.size;while(current&&currentSize>newSize){this._map.delete(current.key);current=current.next;currentSize--;}this._head=current;this._size=currentSize;if(current){current.previous=void 0;}this._state++;}},{key:"addItemFirst",value:function addItemFirst(item){if(!this._head&&!this._tail){this._tail=item;}else if(!this._head){throw new Error("Invalid list");}else{item.next=this._head;this._head.previous=item;}this._head=item;this._state++;}},{key:"addItemLast",value:function addItemLast(item){if(!this._head&&!this._tail){this._head=item;}else if(!this._tail){throw new Error("Invalid list");}else{item.previous=this._tail;this._tail.next=item;}this._tail=item;this._state++;}},{key:"removeItem",value:function removeItem(item){if(item===this._head&&item===this._tail){this._head=void 0;this._tail=void 0;}else if(item===this._head){if(!item.next){throw new Error("Invalid list");}item.next.previous=void 0;this._head=item.next;}else if(item===this._tail){if(!item.previous){throw new Error("Invalid list");}item.previous.next=void 0;this._tail=item.previous;}else{var next=item.next;var previous=item.previous;if(!next||!previous){throw new Error("Invalid list");}next.previous=previous;previous.next=next;}item.next=void 0;item.previous=void 0;this._state++;}},{key:"touch",value:function touch(item,_touch){if(!this._head||!this._tail){throw new Error("Invalid list");}if(_touch!==Touch.First&&_touch!==Touch.Last){return;}if(_touch===Touch.First){if(item===this._head){return;}var next=item.next;var previous=item.previous;if(item===this._tail){previous.next=void 0;this._tail=previous;}else{next.previous=previous;previous.next=next;}item.previous=void 0;item.next=this._head;this._head.previous=item;this._head=item;this._state++;}else if(_touch===Touch.Last){if(item===this._tail){return;}var _next=item.next;var _previous=item.previous;if(item===this._head){_next.previous=void 0;this._head=_next;}else{_next.previous=_previous;_previous.next=_next;}item.next=void 0;item.previous=this._tail;this._tail.next=item;this._tail=item;this._state++;}}},{key:"toJSON",value:function toJSON(){var data=[];this.forEach(function(value,key){data.push([key,value]);});return data;}},{key:"fromJSON",value:function fromJSON(data){this.clear();var _iterator5=_createForOfIteratorHelper(data),_step2;try{for(_iterator5.s();!(_step2=_iterator5.n()).done;){var _step2$value=_slicedToArray(_step2.value,2),key=_step2$value[0],value=_step2$value[1];this.set(key,value);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}]);return LinkedMap;}((_a4=Symbol.toStringTag,Symbol.iterator));exports.LinkedMap=LinkedMap;var LRUCache=/*#__PURE__*/function(_LinkedMap){_inherits(LRUCache,_LinkedMap);var _super26=_createSuper(LRUCache);function LRUCache(limit){var _this20;var ratio=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;_classCallCheck(this,LRUCache);_this20=_super26.call(this);_this20._limit=limit;_this20._ratio=Math.min(Math.max(0,ratio),1);return _this20;}_createClass(LRUCache,[{key:"limit",get:function get(){return this._limit;},set:function set(limit){this._limit=limit;this.checkTrim();}},{key:"ratio",get:function get(){return this._ratio;},set:function set(ratio){this._ratio=Math.min(Math.max(0,ratio),1);this.checkTrim();}},{key:"get",value:function get(key){var touch=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Touch.AsNew;return _get(_getPrototypeOf(LRUCache.prototype),"get",this).call(this,key,touch);}},{key:"peek",value:function peek(key){return _get(_getPrototypeOf(LRUCache.prototype),"get",this).call(this,key,Touch.None);}},{key:"set",value:function set(key,value){_get(_getPrototypeOf(LRUCache.prototype),"set",this).call(this,key,value,Touch.Last);this.checkTrim();return this;}},{key:"checkTrim",value:function checkTrim(){if(this.size>this._limit){this.trimOld(Math.round(this._limit*this._ratio));}}}]);return LRUCache;}(LinkedMap);exports.LRUCache=LRUCache;}});// client/node_modules/vscode-jsonrpc/lib/common/cancellation.js
var require_cancellation=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/cancellation.js":function clientNode_modulesVscodeJsonrpcLibCommonCancellationJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CancellationTokenSource=exports.CancellationToken=void 0;var ral_1=require_ral();var Is2=require_is();var events_1=require_events();var CancellationToken;(function(CancellationToken2){CancellationToken2.None=Object.freeze({isCancellationRequested:false,onCancellationRequested:events_1.Event.None});CancellationToken2.Cancelled=Object.freeze({isCancellationRequested:true,onCancellationRequested:events_1.Event.None});function is2(value){var candidate=value;return candidate&&(candidate===CancellationToken2.None||candidate===CancellationToken2.Cancelled||Is2.boolean(candidate.isCancellationRequested)&&!!candidate.onCancellationRequested);}CancellationToken2.is=is2;})(CancellationToken=exports.CancellationToken||(exports.CancellationToken={}));var shortcutEvent=Object.freeze(function(callback,context){var handle=(0,ral_1.default)().timer.setTimeout(callback.bind(context),0);return{dispose:function dispose(){handle.dispose();}};});var MutableToken=/*#__PURE__*/function(){function MutableToken(){_classCallCheck(this,MutableToken);this._isCancelled=false;}_createClass(MutableToken,[{key:"cancel",value:function cancel(){if(!this._isCancelled){this._isCancelled=true;if(this._emitter){this._emitter.fire(void 0);this.dispose();}}}},{key:"isCancellationRequested",get:function get(){return this._isCancelled;}},{key:"onCancellationRequested",get:function get(){if(this._isCancelled){return shortcutEvent;}if(!this._emitter){this._emitter=new events_1.Emitter();}return this._emitter.event;}},{key:"dispose",value:function dispose(){if(this._emitter){this._emitter.dispose();this._emitter=void 0;}}}]);return MutableToken;}();var CancellationTokenSource=/*#__PURE__*/function(){function CancellationTokenSource(){_classCallCheck(this,CancellationTokenSource);}_createClass(CancellationTokenSource,[{key:"token",get:function get(){if(!this._token){this._token=new MutableToken();}return this._token;}},{key:"cancel",value:function cancel(){if(!this._token){this._token=CancellationToken.Cancelled;}else{this._token.cancel();}}},{key:"dispose",value:function dispose(){if(!this._token){this._token=CancellationToken.None;}else if(this._token instanceof MutableToken){this._token.dispose();}}}]);return CancellationTokenSource;}();exports.CancellationTokenSource=CancellationTokenSource;}});// client/node_modules/vscode-jsonrpc/lib/common/messageReader.js
var require_messageReader=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/messageReader.js":function clientNode_modulesVscodeJsonrpcLibCommonMessageReaderJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ReadableStreamMessageReader=exports.AbstractMessageReader=exports.MessageReader=void 0;var ral_1=require_ral();var Is2=require_is();var events_1=require_events();var MessageReader;(function(MessageReader2){function is2(value){var candidate=value;return candidate&&Is2.func(candidate.listen)&&Is2.func(candidate.dispose)&&Is2.func(candidate.onError)&&Is2.func(candidate.onClose)&&Is2.func(candidate.onPartialMessage);}MessageReader2.is=is2;})(MessageReader=exports.MessageReader||(exports.MessageReader={}));var AbstractMessageReader=/*#__PURE__*/function(){function AbstractMessageReader(){_classCallCheck(this,AbstractMessageReader);this.errorEmitter=new events_1.Emitter();this.closeEmitter=new events_1.Emitter();this.partialMessageEmitter=new events_1.Emitter();}_createClass(AbstractMessageReader,[{key:"dispose",value:function dispose(){this.errorEmitter.dispose();this.closeEmitter.dispose();}},{key:"onError",get:function get(){return this.errorEmitter.event;}},{key:"fireError",value:function fireError(error){this.errorEmitter.fire(this.asError(error));}},{key:"onClose",get:function get(){return this.closeEmitter.event;}},{key:"fireClose",value:function fireClose(){this.closeEmitter.fire(void 0);}},{key:"onPartialMessage",get:function get(){return this.partialMessageEmitter.event;}},{key:"firePartialMessage",value:function firePartialMessage(info){this.partialMessageEmitter.fire(info);}},{key:"asError",value:function asError(error){if(error instanceof Error){return error;}else{return new Error("Reader received error. Reason: ".concat(Is2.string(error.message)?error.message:"unknown"));}}}]);return AbstractMessageReader;}();exports.AbstractMessageReader=AbstractMessageReader;var ResolvedMessageReaderOptions;(function(ResolvedMessageReaderOptions2){function fromOptions(options){var charset;var result;var contentDecoder;var contentDecoders=new Map();var contentTypeDecoder;var contentTypeDecoders=new Map();if(options===void 0||typeof options==="string"){charset=options!==null&&options!==void 0?options:"utf-8";}else{var _options$charset;charset=(_options$charset=options.charset)!==null&&_options$charset!==void 0?_options$charset:"utf-8";if(options.contentDecoder!==void 0){contentDecoder=options.contentDecoder;contentDecoders.set(contentDecoder.name,contentDecoder);}if(options.contentDecoders!==void 0){var _iterator6=_createForOfIteratorHelper(options.contentDecoders),_step3;try{for(_iterator6.s();!(_step3=_iterator6.n()).done;){var decoder=_step3.value;contentDecoders.set(decoder.name,decoder);}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}if(options.contentTypeDecoder!==void 0){contentTypeDecoder=options.contentTypeDecoder;contentTypeDecoders.set(contentTypeDecoder.name,contentTypeDecoder);}if(options.contentTypeDecoders!==void 0){var _iterator7=_createForOfIteratorHelper(options.contentTypeDecoders),_step4;try{for(_iterator7.s();!(_step4=_iterator7.n()).done;){var _decoder=_step4.value;contentTypeDecoders.set(_decoder.name,_decoder);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}if(contentTypeDecoder===void 0){contentTypeDecoder=(0,ral_1.default)().applicationJson.decoder;contentTypeDecoders.set(contentTypeDecoder.name,contentTypeDecoder);}return{charset:charset,contentDecoder:contentDecoder,contentDecoders:contentDecoders,contentTypeDecoder:contentTypeDecoder,contentTypeDecoders:contentTypeDecoders};}ResolvedMessageReaderOptions2.fromOptions=fromOptions;})(ResolvedMessageReaderOptions||(ResolvedMessageReaderOptions={}));var ReadableStreamMessageReader=/*#__PURE__*/function(_AbstractMessageReade){_inherits(ReadableStreamMessageReader,_AbstractMessageReade);var _super27=_createSuper(ReadableStreamMessageReader);function ReadableStreamMessageReader(readable,options){var _this21;_classCallCheck(this,ReadableStreamMessageReader);_this21=_super27.call(this);_this21.readable=readable;_this21.options=ResolvedMessageReaderOptions.fromOptions(options);_this21.buffer=(0,ral_1.default)().messageBuffer.create(_this21.options.charset);_this21._partialMessageTimeout=1e4;_this21.nextMessageLength=-1;_this21.messageToken=0;return _this21;}_createClass(ReadableStreamMessageReader,[{key:"partialMessageTimeout",get:function get(){return this._partialMessageTimeout;},set:function set(timeout){this._partialMessageTimeout=timeout;}},{key:"listen",value:function listen(callback){var _this22=this;this.nextMessageLength=-1;this.messageToken=0;this.partialMessageTimer=void 0;this.callback=callback;var result=this.readable.onData(function(data){_this22.onData(data);});this.readable.onError(function(error){return _this22.fireError(error);});this.readable.onClose(function(){return _this22.fireClose();});return result;}},{key:"onData",value:function onData(data){var _this23=this;this.buffer.append(data);while(true){if(this.nextMessageLength===-1){var headers=this.buffer.tryReadHeaders();if(!headers){return;}var contentLength=headers.get("Content-Length");if(!contentLength){throw new Error("Header must provide a Content-Length property.");}var length=parseInt(contentLength);if(isNaN(length)){throw new Error("Content-Length value must be a number.");}this.nextMessageLength=length;}var body=this.buffer.tryReadBody(this.nextMessageLength);if(body===void 0){this.setPartialMessageTimer();return;}this.clearPartialMessageTimer();this.nextMessageLength=-1;var p=void 0;if(this.options.contentDecoder!==void 0){p=this.options.contentDecoder.decode(body);}else{p=Promise.resolve(body);}p.then(function(value){_this23.options.contentTypeDecoder.decode(value,_this23.options).then(function(msg){_this23.callback(msg);},function(error){_this23.fireError(error);});},function(error){_this23.fireError(error);});}}},{key:"clearPartialMessageTimer",value:function clearPartialMessageTimer(){if(this.partialMessageTimer){this.partialMessageTimer.dispose();this.partialMessageTimer=void 0;}}},{key:"setPartialMessageTimer",value:function setPartialMessageTimer(){var _this24=this;this.clearPartialMessageTimer();if(this._partialMessageTimeout<=0){return;}this.partialMessageTimer=(0,ral_1.default)().timer.setTimeout(function(token,timeout){_this24.partialMessageTimer=void 0;if(token===_this24.messageToken){_this24.firePartialMessage({messageToken:token,waitingTime:timeout});_this24.setPartialMessageTimer();}},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout);}}]);return ReadableStreamMessageReader;}(AbstractMessageReader);exports.ReadableStreamMessageReader=ReadableStreamMessageReader;}});// client/node_modules/vscode-jsonrpc/lib/common/semaphore.js
var require_semaphore=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/semaphore.js":function clientNode_modulesVscodeJsonrpcLibCommonSemaphoreJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Semaphore=void 0;var ral_1=require_ral();var Semaphore=/*#__PURE__*/function(){function Semaphore(){var capacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;_classCallCheck(this,Semaphore);if(capacity<=0){throw new Error("Capacity must be greater than 0");}this._capacity=capacity;this._active=0;this._waiting=[];}_createClass(Semaphore,[{key:"lock",value:function lock(thunk){var _this25=this;return new Promise(function(resolve,reject){_this25._waiting.push({thunk:thunk,resolve:resolve,reject:reject});_this25.runNext();});}},{key:"active",get:function get(){return this._active;}},{key:"runNext",value:function runNext(){var _this26=this;if(this._waiting.length===0||this._active===this._capacity){return;}(0,ral_1.default)().timer.setImmediate(function(){return _this26.doRunNext();});}},{key:"doRunNext",value:function doRunNext(){var _this27=this;if(this._waiting.length===0||this._active===this._capacity){return;}var next=this._waiting.shift();this._active++;if(this._active>this._capacity){throw new Error("To many thunks active");}try{var result=next.thunk();if(result instanceof Promise){result.then(function(value){_this27._active--;next.resolve(value);_this27.runNext();},function(err){_this27._active--;next.reject(err);_this27.runNext();});}else{this._active--;next.resolve(result);this.runNext();}}catch(err){this._active--;next.reject(err);this.runNext();}}}]);return Semaphore;}();exports.Semaphore=Semaphore;}});// client/node_modules/vscode-jsonrpc/lib/common/messageWriter.js
var require_messageWriter=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/messageWriter.js":function clientNode_modulesVscodeJsonrpcLibCommonMessageWriterJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WriteableStreamMessageWriter=exports.AbstractMessageWriter=exports.MessageWriter=void 0;var ral_1=require_ral();var Is2=require_is();var semaphore_1=require_semaphore();var events_1=require_events();var ContentLength="Content-Length: ";var CRLF="\r\n";var MessageWriter;(function(MessageWriter2){function is2(value){var candidate=value;return candidate&&Is2.func(candidate.dispose)&&Is2.func(candidate.onClose)&&Is2.func(candidate.onError)&&Is2.func(candidate.write);}MessageWriter2.is=is2;})(MessageWriter=exports.MessageWriter||(exports.MessageWriter={}));var AbstractMessageWriter=/*#__PURE__*/function(){function AbstractMessageWriter(){_classCallCheck(this,AbstractMessageWriter);this.errorEmitter=new events_1.Emitter();this.closeEmitter=new events_1.Emitter();}_createClass(AbstractMessageWriter,[{key:"dispose",value:function dispose(){this.errorEmitter.dispose();this.closeEmitter.dispose();}},{key:"onError",get:function get(){return this.errorEmitter.event;}},{key:"fireError",value:function fireError(error,message,count){this.errorEmitter.fire([this.asError(error),message,count]);}},{key:"onClose",get:function get(){return this.closeEmitter.event;}},{key:"fireClose",value:function fireClose(){this.closeEmitter.fire(void 0);}},{key:"asError",value:function asError(error){if(error instanceof Error){return error;}else{return new Error("Writer received error. Reason: ".concat(Is2.string(error.message)?error.message:"unknown"));}}}]);return AbstractMessageWriter;}();exports.AbstractMessageWriter=AbstractMessageWriter;var ResolvedMessageWriterOptions;(function(ResolvedMessageWriterOptions2){function fromOptions(options){if(options===void 0||typeof options==="string"){return{charset:options!==null&&options!==void 0?options:"utf-8",contentTypeEncoder:(0,ral_1.default)().applicationJson.encoder};}else{var _options$charset2,_options$contentTypeE;return{charset:(_options$charset2=options.charset)!==null&&_options$charset2!==void 0?_options$charset2:"utf-8",contentEncoder:options.contentEncoder,contentTypeEncoder:(_options$contentTypeE=options.contentTypeEncoder)!==null&&_options$contentTypeE!==void 0?_options$contentTypeE:(0,ral_1.default)().applicationJson.encoder};}}ResolvedMessageWriterOptions2.fromOptions=fromOptions;})(ResolvedMessageWriterOptions||(ResolvedMessageWriterOptions={}));var WriteableStreamMessageWriter=/*#__PURE__*/function(_AbstractMessageWrite){_inherits(WriteableStreamMessageWriter,_AbstractMessageWrite);var _super28=_createSuper(WriteableStreamMessageWriter);function WriteableStreamMessageWriter(writable,options){var _this28;_classCallCheck(this,WriteableStreamMessageWriter);_this28=_super28.call(this);_this28.writable=writable;_this28.options=ResolvedMessageWriterOptions.fromOptions(options);_this28.errorCount=0;_this28.writeSemaphore=new semaphore_1.Semaphore(1);_this28.writable.onError(function(error){return _this28.fireError(error);});_this28.writable.onClose(function(){return _this28.fireClose();});return _this28;}_createClass(WriteableStreamMessageWriter,[{key:"write",value:function(){var _write=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(msg){var _this29=this;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",this.writeSemaphore.lock(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var payload;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_this29.options.contentTypeEncoder.encode(msg,_this29.options).then(function(buffer){if(_this29.options.contentEncoder!==void 0){return _this29.options.contentEncoder.encode(buffer);}else{return buffer;}});return _context.abrupt("return",payload.then(function(buffer){var headers=[];headers.push(ContentLength,buffer.byteLength.toString(),CRLF);headers.push(CRLF);return _this29.doWrite(msg,headers,buffer);},function(error){_this29.fireError(error);throw error;}));case 2:case"end":return _context.stop();}}},_callee);}))));case 1:case"end":return _context2.stop();}}},_callee2,this);}));function write(_x5){return _write.apply(this,arguments);}return write;}()},{key:"doWrite",value:function(){var _doWrite=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(msg,headers,data){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return this.writable.write(headers.join(""),"ascii");case 3:return _context3.abrupt("return",this.writable.write(data));case 6:_context3.prev=6;_context3.t0=_context3["catch"](0);this.handleError(_context3.t0,msg);return _context3.abrupt("return",Promise.reject(_context3.t0));case 10:case"end":return _context3.stop();}}},_callee3,this,[[0,6]]);}));function doWrite(_x6,_x7,_x8){return _doWrite.apply(this,arguments);}return doWrite;}()},{key:"handleError",value:function handleError(error,msg){this.errorCount++;this.fireError(error,msg,this.errorCount);}},{key:"end",value:function end(){this.writable.end();}}]);return WriteableStreamMessageWriter;}(AbstractMessageWriter);exports.WriteableStreamMessageWriter=WriteableStreamMessageWriter;}});// client/node_modules/vscode-jsonrpc/lib/common/connection.js
var require_connection=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/connection.js":function clientNode_modulesVscodeJsonrpcLibCommonConnectionJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createMessageConnection=exports.ConnectionOptions=exports.CancellationStrategy=exports.CancellationSenderStrategy=exports.CancellationReceiverStrategy=exports.ConnectionStrategy=exports.ConnectionError=exports.ConnectionErrors=exports.LogTraceNotification=exports.SetTraceNotification=exports.TraceFormat=exports.Trace=exports.NullLogger=exports.ProgressType=exports.ProgressToken=void 0;var ral_1=require_ral();var Is2=require_is();var messages_1=require_messages();var linkedMap_1=require_linkedMap();var events_1=require_events();var cancellation_1=require_cancellation();var CancelNotification;(function(CancelNotification2){CancelNotification2.type=new messages_1.NotificationType("$/cancelRequest");})(CancelNotification||(CancelNotification={}));var ProgressToken;(function(ProgressToken2){function is2(value){return typeof value==="string"||typeof value==="number";}ProgressToken2.is=is2;})(ProgressToken=exports.ProgressToken||(exports.ProgressToken={}));var ProgressNotification;(function(ProgressNotification2){ProgressNotification2.type=new messages_1.NotificationType("$/progress");})(ProgressNotification||(ProgressNotification={}));var ProgressType=/*#__PURE__*/_createClass(function ProgressType(){_classCallCheck(this,ProgressType);});exports.ProgressType=ProgressType;var StarRequestHandler;(function(StarRequestHandler2){function is2(value){return Is2.func(value);}StarRequestHandler2.is=is2;})(StarRequestHandler||(StarRequestHandler={}));exports.NullLogger=Object.freeze({error:function error(){},warn:function warn(){},info:function info(){},log:function log(){}});var Trace;(function(Trace2){Trace2[Trace2["Off"]=0]="Off";Trace2[Trace2["Messages"]=1]="Messages";Trace2[Trace2["Compact"]=2]="Compact";Trace2[Trace2["Verbose"]=3]="Verbose";})(Trace=exports.Trace||(exports.Trace={}));(function(Trace2){function fromString(value){if(!Is2.string(value)){return Trace2.Off;}value=value.toLowerCase();switch(value){case"off":return Trace2.Off;case"messages":return Trace2.Messages;case"compact":return Trace2.Compact;case"verbose":return Trace2.Verbose;default:return Trace2.Off;}}Trace2.fromString=fromString;function toString(value){switch(value){case Trace2.Off:return"off";case Trace2.Messages:return"messages";case Trace2.Compact:return"compact";case Trace2.Verbose:return"verbose";default:return"off";}}Trace2.toString=toString;})(Trace=exports.Trace||(exports.Trace={}));var TraceFormat;(function(TraceFormat2){TraceFormat2["Text"]="text";TraceFormat2["JSON"]="json";})(TraceFormat=exports.TraceFormat||(exports.TraceFormat={}));(function(TraceFormat2){function fromString(value){if(!Is2.string(value)){return TraceFormat2.Text;}value=value.toLowerCase();if(value==="json"){return TraceFormat2.JSON;}else{return TraceFormat2.Text;}}TraceFormat2.fromString=fromString;})(TraceFormat=exports.TraceFormat||(exports.TraceFormat={}));var SetTraceNotification;(function(SetTraceNotification2){SetTraceNotification2.type=new messages_1.NotificationType("$/setTrace");})(SetTraceNotification=exports.SetTraceNotification||(exports.SetTraceNotification={}));var LogTraceNotification;(function(LogTraceNotification2){LogTraceNotification2.type=new messages_1.NotificationType("$/logTrace");})(LogTraceNotification=exports.LogTraceNotification||(exports.LogTraceNotification={}));var ConnectionErrors;(function(ConnectionErrors2){ConnectionErrors2[ConnectionErrors2["Closed"]=1]="Closed";ConnectionErrors2[ConnectionErrors2["Disposed"]=2]="Disposed";ConnectionErrors2[ConnectionErrors2["AlreadyListening"]=3]="AlreadyListening";})(ConnectionErrors=exports.ConnectionErrors||(exports.ConnectionErrors={}));var ConnectionError=/*#__PURE__*/function(_Error2){_inherits(ConnectionError,_Error2);var _super29=_createSuper(ConnectionError);function ConnectionError(code,message){var _this30;_classCallCheck(this,ConnectionError);_this30=_super29.call(this,message);_this30.code=code;Object.setPrototypeOf(_assertThisInitialized(_this30),ConnectionError.prototype);return _this30;}return _createClass(ConnectionError);}(/*#__PURE__*/_wrapNativeSuper(Error));exports.ConnectionError=ConnectionError;var ConnectionStrategy;(function(ConnectionStrategy2){function is2(value){var candidate=value;return candidate&&Is2.func(candidate.cancelUndispatched);}ConnectionStrategy2.is=is2;})(ConnectionStrategy=exports.ConnectionStrategy||(exports.ConnectionStrategy={}));var CancellationReceiverStrategy;(function(CancellationReceiverStrategy2){CancellationReceiverStrategy2.Message=Object.freeze({createCancellationTokenSource:function createCancellationTokenSource(_){return new cancellation_1.CancellationTokenSource();}});function is2(value){var candidate=value;return candidate&&Is2.func(candidate.createCancellationTokenSource);}CancellationReceiverStrategy2.is=is2;})(CancellationReceiverStrategy=exports.CancellationReceiverStrategy||(exports.CancellationReceiverStrategy={}));var CancellationSenderStrategy;(function(CancellationSenderStrategy2){CancellationSenderStrategy2.Message=Object.freeze({sendCancellation:function sendCancellation(conn,id){return conn.sendNotification(CancelNotification.type,{id:id});},cleanup:function cleanup(_){}});function is2(value){var candidate=value;return candidate&&Is2.func(candidate.sendCancellation)&&Is2.func(candidate.cleanup);}CancellationSenderStrategy2.is=is2;})(CancellationSenderStrategy=exports.CancellationSenderStrategy||(exports.CancellationSenderStrategy={}));var CancellationStrategy;(function(CancellationStrategy2){CancellationStrategy2.Message=Object.freeze({receiver:CancellationReceiverStrategy.Message,sender:CancellationSenderStrategy.Message});function is2(value){var candidate=value;return candidate&&CancellationReceiverStrategy.is(candidate.receiver)&&CancellationSenderStrategy.is(candidate.sender);}CancellationStrategy2.is=is2;})(CancellationStrategy=exports.CancellationStrategy||(exports.CancellationStrategy={}));var ConnectionOptions;(function(ConnectionOptions2){function is2(value){var candidate=value;return candidate&&(CancellationStrategy.is(candidate.cancellationStrategy)||ConnectionStrategy.is(candidate.connectionStrategy));}ConnectionOptions2.is=is2;})(ConnectionOptions=exports.ConnectionOptions||(exports.ConnectionOptions={}));var ConnectionState;(function(ConnectionState2){ConnectionState2[ConnectionState2["New"]=1]="New";ConnectionState2[ConnectionState2["Listening"]=2]="Listening";ConnectionState2[ConnectionState2["Closed"]=3]="Closed";ConnectionState2[ConnectionState2["Disposed"]=4]="Disposed";})(ConnectionState||(ConnectionState={}));function createMessageConnection(messageReader,messageWriter,_logger,options){var logger=_logger!==void 0?_logger:exports.NullLogger;var sequenceNumber=0;var notificationSequenceNumber=0;var unknownResponseSequenceNumber=0;var version2="2.0";var starRequestHandler=void 0;var requestHandlers=Object.create(null);var starNotificationHandler=void 0;var notificationHandlers=Object.create(null);var progressHandlers=new Map();var timer;var messageQueue=new linkedMap_1.LinkedMap();var responsePromises=Object.create(null);var knownCanceledRequests=new Set();var requestTokens=Object.create(null);var _trace=Trace.Off;var traceFormat=TraceFormat.Text;var tracer;var state=ConnectionState.New;var errorEmitter=new events_1.Emitter();var closeEmitter=new events_1.Emitter();var unhandledNotificationEmitter=new events_1.Emitter();var unhandledProgressEmitter=new events_1.Emitter();var disposeEmitter=new events_1.Emitter();var cancellationStrategy=options&&options.cancellationStrategy?options.cancellationStrategy:CancellationStrategy.Message;function createRequestQueueKey(id){if(id===null){throw new Error("Can't send requests with id null since the response can't be correlated.");}return"req-"+id.toString();}function createResponseQueueKey(id){if(id===null){return"res-unknown-"+(++unknownResponseSequenceNumber).toString();}else{return"res-"+id.toString();}}function createNotificationQueueKey(){return"not-"+(++notificationSequenceNumber).toString();}function addMessageToQueue(queue,message){if(messages_1.Message.isRequest(message)){queue.set(createRequestQueueKey(message.id),message);}else if(messages_1.Message.isResponse(message)){queue.set(createResponseQueueKey(message.id),message);}else{queue.set(createNotificationQueueKey(),message);}}function cancelUndispatched(_message){return void 0;}function isListening(){return state===ConnectionState.Listening;}function isClosed(){return state===ConnectionState.Closed;}function isDisposed(){return state===ConnectionState.Disposed;}function closeHandler(){if(state===ConnectionState.New||state===ConnectionState.Listening){state=ConnectionState.Closed;closeEmitter.fire(void 0);}}function readErrorHandler(error){errorEmitter.fire([error,void 0,void 0]);}function writeErrorHandler(data){errorEmitter.fire(data);}messageReader.onClose(closeHandler);messageReader.onError(readErrorHandler);messageWriter.onClose(closeHandler);messageWriter.onError(writeErrorHandler);function triggerMessageQueue(){if(timer||messageQueue.size===0){return;}timer=(0,ral_1.default)().timer.setImmediate(function(){timer=void 0;processMessageQueue();});}function processMessageQueue(){if(messageQueue.size===0){return;}var message=messageQueue.shift();try{if(messages_1.Message.isRequest(message)){handleRequest(message);}else if(messages_1.Message.isNotification(message)){handleNotification(message);}else if(messages_1.Message.isResponse(message)){handleResponse(message);}else{handleInvalidMessage(message);}}finally{triggerMessageQueue();}}var callback=function callback(message){try{if(messages_1.Message.isNotification(message)&&message.method===CancelNotification.type.method){var cancelId=message.params.id;var key=createRequestQueueKey(cancelId);var toCancel=messageQueue.get(key);if(messages_1.Message.isRequest(toCancel)){var strategy=options===null||options===void 0?void 0:options.connectionStrategy;var response=strategy&&strategy.cancelUndispatched?strategy.cancelUndispatched(toCancel,cancelUndispatched):cancelUndispatched(toCancel);if(response&&(response.error!==void 0||response.result!==void 0)){messageQueue.delete(key);response.id=toCancel.id;traceSendingResponse(response,message.method,Date.now());messageWriter.write(response).catch(function(){return logger.error("Sending response for canceled message failed.");});return;}}var tokenKey=String(cancelId);var cancellationToken=requestTokens[tokenKey];if(cancellationToken!==void 0){cancellationToken.cancel();traceReceivedNotification(message);return;}else{knownCanceledRequests.add(cancelId);}}addMessageToQueue(messageQueue,message);}finally{triggerMessageQueue();}};function handleRequest(requestMessage){if(isDisposed()){return;}function reply(resultOrError,method,startTime2){var message={jsonrpc:version2,id:requestMessage.id};if(resultOrError instanceof messages_1.ResponseError){message.error=resultOrError.toJson();}else{message.result=resultOrError===void 0?null:resultOrError;}traceSendingResponse(message,method,startTime2);messageWriter.write(message).catch(function(){return logger.error("Sending response failed.");});}function replyError(error,method,startTime2){var message={jsonrpc:version2,id:requestMessage.id,error:error.toJson()};traceSendingResponse(message,method,startTime2);messageWriter.write(message).catch(function(){return logger.error("Sending response failed.");});}function replySuccess(result,method,startTime2){if(result===void 0){result=null;}var message={jsonrpc:version2,id:requestMessage.id,result:result};traceSendingResponse(message,method,startTime2);messageWriter.write(message).catch(function(){return logger.error("Sending response failed.");});}traceReceivedRequest(requestMessage);var element=requestHandlers[requestMessage.method];var type;var requestHandler;if(element){type=element.type;requestHandler=element.handler;}var startTime=Date.now();if(requestHandler||starRequestHandler){var tokenKey=String(requestMessage.id);var cancellationSource=cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);if(requestMessage.id!==null&&knownCanceledRequests.has(requestMessage.id)){cancellationSource.cancel();}requestTokens[tokenKey]=cancellationSource;try{var handlerResult;if(requestHandler){if(requestMessage.params===void 0){if(type!==void 0&&type.numberOfParams!==0){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,"Request ".concat(requestMessage.method," defines ").concat(type.numberOfParams," params but received none.")),requestMessage.method,startTime);return;}handlerResult=requestHandler(cancellationSource.token);}else if(Array.isArray(requestMessage.params)){if(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byName){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,"Request ".concat(requestMessage.method," defines parameters by name but received parameters by position")),requestMessage.method,startTime);return;}handlerResult=requestHandler.apply(void 0,_toConsumableArray(requestMessage.params).concat([cancellationSource.token]));}else{if(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byPosition){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,"Request ".concat(requestMessage.method," defines parameters by position but received parameters by name")),requestMessage.method,startTime);return;}handlerResult=requestHandler(requestMessage.params,cancellationSource.token);}}else if(starRequestHandler){handlerResult=starRequestHandler(requestMessage.method,requestMessage.params,cancellationSource.token);}var promise=handlerResult;if(!handlerResult){delete requestTokens[tokenKey];replySuccess(handlerResult,requestMessage.method,startTime);}else if(promise.then){promise.then(function(resultOrError){delete requestTokens[tokenKey];reply(resultOrError,requestMessage.method,startTime);},function(error){delete requestTokens[tokenKey];if(error instanceof messages_1.ResponseError){replyError(error,requestMessage.method,startTime);}else if(error&&Is2.string(error.message)){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,"Request ".concat(requestMessage.method," failed with message: ").concat(error.message)),requestMessage.method,startTime);}else{replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,"Request ".concat(requestMessage.method," failed unexpectedly without providing any details.")),requestMessage.method,startTime);}});}else{delete requestTokens[tokenKey];reply(handlerResult,requestMessage.method,startTime);}}catch(error){delete requestTokens[tokenKey];if(error instanceof messages_1.ResponseError){reply(error,requestMessage.method,startTime);}else if(error&&Is2.string(error.message)){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,"Request ".concat(requestMessage.method," failed with message: ").concat(error.message)),requestMessage.method,startTime);}else{replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,"Request ".concat(requestMessage.method," failed unexpectedly without providing any details.")),requestMessage.method,startTime);}}}else{replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound,"Unhandled method ".concat(requestMessage.method)),requestMessage.method,startTime);}}function handleResponse(responseMessage){if(isDisposed()){return;}if(responseMessage.id===null){if(responseMessage.error){logger.error("Received response message without id: Error is: \n".concat(JSON.stringify(responseMessage.error,void 0,4)));}else{logger.error("Received response message without id. No further error information provided.");}}else{var key=String(responseMessage.id);var responsePromise=responsePromises[key];traceReceivedResponse(responseMessage,responsePromise);if(responsePromise){delete responsePromises[key];try{if(responseMessage.error){var error=responseMessage.error;responsePromise.reject(new messages_1.ResponseError(error.code,error.message,error.data));}else if(responseMessage.result!==void 0){responsePromise.resolve(responseMessage.result);}else{throw new Error("Should never happen.");}}catch(error){if(error.message){logger.error("Response handler '".concat(responsePromise.method,"' failed with message: ").concat(error.message));}else{logger.error("Response handler '".concat(responsePromise.method,"' failed unexpectedly."));}}}}}function handleNotification(message){if(isDisposed()){return;}var type=void 0;var notificationHandler;if(message.method===CancelNotification.type.method){var cancelId=message.params.id;knownCanceledRequests.delete(cancelId);traceReceivedNotification(message);return;}else{var element=notificationHandlers[message.method];if(element){notificationHandler=element.handler;type=element.type;}}if(notificationHandler||starNotificationHandler){try{traceReceivedNotification(message);if(notificationHandler){if(message.params===void 0){if(type!==void 0){if(type.numberOfParams!==0&&type.parameterStructures!==messages_1.ParameterStructures.byName){logger.error("Notification ".concat(message.method," defines ").concat(type.numberOfParams," params but received none."));}}notificationHandler();}else if(Array.isArray(message.params)){var params=message.params;if(message.method===ProgressNotification.type.method&&params.length===2&&ProgressToken.is(params[0])){notificationHandler({token:params[0],value:params[1]});}else{if(type!==void 0){if(type.parameterStructures===messages_1.ParameterStructures.byName){logger.error("Notification ".concat(message.method," defines parameters by name but received parameters by position"));}if(type.numberOfParams!==message.params.length){logger.error("Notification ".concat(message.method," defines ").concat(type.numberOfParams," params but received ").concat(params.length," arguments"));}}notificationHandler.apply(void 0,_toConsumableArray(params));}}else{if(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byPosition){logger.error("Notification ".concat(message.method," defines parameters by position but received parameters by name"));}notificationHandler(message.params);}}else if(starNotificationHandler){starNotificationHandler(message.method,message.params);}}catch(error){if(error.message){logger.error("Notification handler '".concat(message.method,"' failed with message: ").concat(error.message));}else{logger.error("Notification handler '".concat(message.method,"' failed unexpectedly."));}}}else{unhandledNotificationEmitter.fire(message);}}function handleInvalidMessage(message){if(!message){logger.error("Received empty message.");return;}logger.error("Received message which is neither a response nor a notification message:\n".concat(JSON.stringify(message,null,4)));var responseMessage=message;if(Is2.string(responseMessage.id)||Is2.number(responseMessage.id)){var key=String(responseMessage.id);var responseHandler=responsePromises[key];if(responseHandler){responseHandler.reject(new Error("The received response has neither a result nor an error property."));}}}function stringifyTrace(params){if(params===void 0||params===null){return void 0;}switch(_trace){case Trace.Verbose:return JSON.stringify(params,null,4);case Trace.Compact:return JSON.stringify(params);default:return void 0;}}function traceSendingRequest(message){if(_trace===Trace.Off||!tracer){return;}if(traceFormat===TraceFormat.Text){var data=void 0;if((_trace===Trace.Verbose||_trace===Trace.Compact)&&message.params){data="Params: ".concat(stringifyTrace(message.params),"\n\n");}tracer.log("Sending request '".concat(message.method," - (").concat(message.id,")'."),data);}else{logLSPMessage("send-request",message);}}function traceSendingNotification(message){if(_trace===Trace.Off||!tracer){return;}if(traceFormat===TraceFormat.Text){var data=void 0;if(_trace===Trace.Verbose||_trace===Trace.Compact){if(message.params){data="Params: ".concat(stringifyTrace(message.params),"\n\n");}else{data="No parameters provided.\n\n";}}tracer.log("Sending notification '".concat(message.method,"'."),data);}else{logLSPMessage("send-notification",message);}}function traceSendingResponse(message,method,startTime){if(_trace===Trace.Off||!tracer){return;}if(traceFormat===TraceFormat.Text){var data=void 0;if(_trace===Trace.Verbose||_trace===Trace.Compact){if(message.error&&message.error.data){data="Error data: ".concat(stringifyTrace(message.error.data),"\n\n");}else{if(message.result){data="Result: ".concat(stringifyTrace(message.result),"\n\n");}else if(message.error===void 0){data="No result returned.\n\n";}}}tracer.log("Sending response '".concat(method," - (").concat(message.id,")'. Processing request took ").concat(Date.now()-startTime,"ms"),data);}else{logLSPMessage("send-response",message);}}function traceReceivedRequest(message){if(_trace===Trace.Off||!tracer){return;}if(traceFormat===TraceFormat.Text){var data=void 0;if((_trace===Trace.Verbose||_trace===Trace.Compact)&&message.params){data="Params: ".concat(stringifyTrace(message.params),"\n\n");}tracer.log("Received request '".concat(message.method," - (").concat(message.id,")'."),data);}else{logLSPMessage("receive-request",message);}}function traceReceivedNotification(message){if(_trace===Trace.Off||!tracer||message.method===LogTraceNotification.type.method){return;}if(traceFormat===TraceFormat.Text){var data=void 0;if(_trace===Trace.Verbose||_trace===Trace.Compact){if(message.params){data="Params: ".concat(stringifyTrace(message.params),"\n\n");}else{data="No parameters provided.\n\n";}}tracer.log("Received notification '".concat(message.method,"'."),data);}else{logLSPMessage("receive-notification",message);}}function traceReceivedResponse(message,responsePromise){if(_trace===Trace.Off||!tracer){return;}if(traceFormat===TraceFormat.Text){var data=void 0;if(_trace===Trace.Verbose||_trace===Trace.Compact){if(message.error&&message.error.data){data="Error data: ".concat(stringifyTrace(message.error.data),"\n\n");}else{if(message.result){data="Result: ".concat(stringifyTrace(message.result),"\n\n");}else if(message.error===void 0){data="No result returned.\n\n";}}}if(responsePromise){var error=message.error?" Request failed: ".concat(message.error.message," (").concat(message.error.code,")."):"";tracer.log("Received response '".concat(responsePromise.method," - (").concat(message.id,")' in ").concat(Date.now()-responsePromise.timerStart,"ms.").concat(error),data);}else{tracer.log("Received response ".concat(message.id," without active response promise."),data);}}else{logLSPMessage("receive-response",message);}}function logLSPMessage(type,message){if(!tracer||_trace===Trace.Off){return;}var lspMessage={isLSPMessage:true,type:type,message:message,timestamp:Date.now()};tracer.log(lspMessage);}function throwIfClosedOrDisposed(){if(isClosed()){throw new ConnectionError(ConnectionErrors.Closed,"Connection is closed.");}if(isDisposed()){throw new ConnectionError(ConnectionErrors.Disposed,"Connection is disposed.");}}function throwIfListening(){if(isListening()){throw new ConnectionError(ConnectionErrors.AlreadyListening,"Connection is already listening");}}function throwIfNotListening(){if(!isListening()){throw new Error("Call listen() first.");}}function undefinedToNull(param){if(param===void 0){return null;}else{return param;}}function nullToUndefined(param){if(param===null){return void 0;}else{return param;}}function isNamedParam(param){return param!==void 0&&param!==null&&!Array.isArray(param)&&_typeof(param)==="object";}function computeSingleParam(parameterStructures,param){switch(parameterStructures){case messages_1.ParameterStructures.auto:if(isNamedParam(param)){return nullToUndefined(param);}else{return[undefinedToNull(param)];}case messages_1.ParameterStructures.byName:if(!isNamedParam(param)){throw new Error("Received parameters by name but param is not an object literal.");}return nullToUndefined(param);case messages_1.ParameterStructures.byPosition:return[undefinedToNull(param)];default:throw new Error("Unknown parameter structure ".concat(parameterStructures.toString()));}}function computeMessageParams(type,params){var result;var numberOfParams=type.numberOfParams;switch(numberOfParams){case 0:result=void 0;break;case 1:result=computeSingleParam(type.parameterStructures,params[0]);break;default:result=[];for(var i=0;i<params.length&&i<numberOfParams;i++){result.push(undefinedToNull(params[i]));}if(params.length<numberOfParams){for(var _i3=params.length;_i3<numberOfParams;_i3++){result.push(null);}}break;}return result;}var connection={sendNotification:function sendNotification(type){throwIfClosedOrDisposed();var method;var messageParams;for(var _len5=arguments.length,args=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){args[_key5-1]=arguments[_key5];}if(Is2.string(type)){method=type;var first=args[0];var paramStart=0;var parameterStructures=messages_1.ParameterStructures.auto;if(messages_1.ParameterStructures.is(first)){paramStart=1;parameterStructures=first;}var paramEnd=args.length;var numberOfParams=paramEnd-paramStart;switch(numberOfParams){case 0:messageParams=void 0;break;case 1:messageParams=computeSingleParam(parameterStructures,args[paramStart]);break;default:if(parameterStructures===messages_1.ParameterStructures.byName){throw new Error("Received ".concat(numberOfParams," parameters for 'by Name' notification parameter structure."));}messageParams=args.slice(paramStart,paramEnd).map(function(value){return undefinedToNull(value);});break;}}else{var params=args;method=type.method;messageParams=computeMessageParams(type,params);}var notificationMessage={jsonrpc:version2,method:method,params:messageParams};traceSendingNotification(notificationMessage);return messageWriter.write(notificationMessage).catch(function(){return logger.error("Sending notification failed.");});},onNotification:function onNotification(type,handler){throwIfClosedOrDisposed();var method;if(Is2.func(type)){starNotificationHandler=type;}else if(handler){if(Is2.string(type)){method=type;notificationHandlers[type]={type:void 0,handler:handler};}else{method=type.method;notificationHandlers[type.method]={type:type,handler:handler};}}return{dispose:function dispose(){if(method!==void 0){delete notificationHandlers[method];}else{starNotificationHandler=void 0;}}};},onProgress:function onProgress(_type,token,handler){if(progressHandlers.has(token)){throw new Error("Progress handler for token ".concat(token," already registered"));}progressHandlers.set(token,handler);return{dispose:function dispose(){progressHandlers.delete(token);}};},sendProgress:function sendProgress(_type,token,value){return connection.sendNotification(ProgressNotification.type,{token:token,value:value});},onUnhandledProgress:unhandledProgressEmitter.event,sendRequest:function sendRequest(type){throwIfClosedOrDisposed();throwIfNotListening();var method;var messageParams;var token=void 0;for(var _len6=arguments.length,args=new Array(_len6>1?_len6-1:0),_key6=1;_key6<_len6;_key6++){args[_key6-1]=arguments[_key6];}if(Is2.string(type)){method=type;var first=args[0];var last=args[args.length-1];var paramStart=0;var parameterStructures=messages_1.ParameterStructures.auto;if(messages_1.ParameterStructures.is(first)){paramStart=1;parameterStructures=first;}var paramEnd=args.length;if(cancellation_1.CancellationToken.is(last)){paramEnd=paramEnd-1;token=last;}var numberOfParams=paramEnd-paramStart;switch(numberOfParams){case 0:messageParams=void 0;break;case 1:messageParams=computeSingleParam(parameterStructures,args[paramStart]);break;default:if(parameterStructures===messages_1.ParameterStructures.byName){throw new Error("Received ".concat(numberOfParams," parameters for 'by Name' request parameter structure."));}messageParams=args.slice(paramStart,paramEnd).map(function(value){return undefinedToNull(value);});break;}}else{var params=args;method=type.method;messageParams=computeMessageParams(type,params);var _numberOfParams=type.numberOfParams;token=cancellation_1.CancellationToken.is(params[_numberOfParams])?params[_numberOfParams]:void 0;}var id=sequenceNumber++;var disposable;if(token){disposable=token.onCancellationRequested(function(){var p=cancellationStrategy.sender.sendCancellation(connection,id);if(p===void 0){logger.log("Received no promise from cancellation strategy when cancelling id ".concat(id));return Promise.resolve();}else{return p.catch(function(){logger.log("Sending cancellation messages for id ".concat(id," failed"));});}});}var result=new Promise(function(resolve,reject){var requestMessage={jsonrpc:version2,id:id,method:method,params:messageParams};var resolveWithCleanup=function resolveWithCleanup(r){var _disposable2;resolve(r);cancellationStrategy.sender.cleanup(id);(_disposable2=disposable)===null||_disposable2===void 0?void 0:_disposable2.dispose();};var rejectWithCleanup=function rejectWithCleanup(r){var _disposable3;reject(r);cancellationStrategy.sender.cleanup(id);(_disposable3=disposable)===null||_disposable3===void 0?void 0:_disposable3.dispose();};var responsePromise={method:method,timerStart:Date.now(),resolve:resolveWithCleanup,reject:rejectWithCleanup};traceSendingRequest(requestMessage);try{messageWriter.write(requestMessage).catch(function(){return logger.error("Sending request failed.");});}catch(e){responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason"));responsePromise=null;}if(responsePromise){responsePromises[String(id)]=responsePromise;}});return result;},onRequest:function onRequest(type,handler){throwIfClosedOrDisposed();var method=null;if(StarRequestHandler.is(type)){method=void 0;starRequestHandler=type;}else if(Is2.string(type)){method=null;if(handler!==void 0){method=type;requestHandlers[type]={handler:handler,type:void 0};}}else{if(handler!==void 0){method=type.method;requestHandlers[type.method]={type:type,handler:handler};}}return{dispose:function dispose(){if(method===null){return;}if(method!==void 0){delete requestHandlers[method];}else{starRequestHandler=void 0;}}};},trace:function trace(_value,_tracer,sendNotificationOrTraceOptions){var _sendNotification=false;var _traceFormat=TraceFormat.Text;if(sendNotificationOrTraceOptions!==void 0){if(Is2.boolean(sendNotificationOrTraceOptions)){_sendNotification=sendNotificationOrTraceOptions;}else{_sendNotification=sendNotificationOrTraceOptions.sendNotification||false;_traceFormat=sendNotificationOrTraceOptions.traceFormat||TraceFormat.Text;}}_trace=_value;traceFormat=_traceFormat;if(_trace===Trace.Off){tracer=void 0;}else{tracer=_tracer;}if(_sendNotification&&!isClosed()&&!isDisposed()){connection.sendNotification(SetTraceNotification.type,{value:Trace.toString(_value)}).catch(function(){logger.error("Sending trace notification failed");});}},onError:errorEmitter.event,onClose:closeEmitter.event,onUnhandledNotification:unhandledNotificationEmitter.event,onDispose:disposeEmitter.event,end:function end(){messageWriter.end();},dispose:function dispose(){if(isDisposed()){return;}state=ConnectionState.Disposed;disposeEmitter.fire(void 0);var error=new Error("Connection got disposed.");Object.keys(responsePromises).forEach(function(key){responsePromises[key].reject(error);});responsePromises=Object.create(null);requestTokens=Object.create(null);knownCanceledRequests=new Set();messageQueue=new linkedMap_1.LinkedMap();if(Is2.func(messageWriter.dispose)){messageWriter.dispose();}if(Is2.func(messageReader.dispose)){messageReader.dispose();}},listen:function listen(){throwIfClosedOrDisposed();throwIfListening();state=ConnectionState.Listening;messageReader.listen(callback);},inspect:function inspect(){(0,ral_1.default)().console.log("inspect");}};connection.onNotification(LogTraceNotification.type,function(params){if(_trace===Trace.Off||!tracer){return;}var verbose=_trace===Trace.Verbose||_trace===Trace.Compact;tracer.log(params.message,verbose?params.verbose:void 0);});connection.onNotification(ProgressNotification.type,function(params){var handler=progressHandlers.get(params.token);if(handler){handler(params.value);}else{unhandledProgressEmitter.fire(params);}});return connection;}exports.createMessageConnection=createMessageConnection;}});// client/node_modules/vscode-jsonrpc/lib/common/api.js
var require_api=__commonJS({"client/node_modules/vscode-jsonrpc/lib/common/api.js":function clientNode_modulesVscodeJsonrpcLibCommonApiJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SetTraceNotification=exports.TraceFormat=exports.Trace=exports.ProgressType=exports.ProgressToken=exports.createMessageConnection=exports.NullLogger=exports.ConnectionOptions=exports.ConnectionStrategy=exports.WriteableStreamMessageWriter=exports.AbstractMessageWriter=exports.MessageWriter=exports.ReadableStreamMessageReader=exports.AbstractMessageReader=exports.MessageReader=exports.CancellationToken=exports.CancellationTokenSource=exports.Emitter=exports.Event=exports.Disposable=exports.LRUCache=exports.Touch=exports.LinkedMap=exports.ParameterStructures=exports.NotificationType9=exports.NotificationType8=exports.NotificationType7=exports.NotificationType6=exports.NotificationType5=exports.NotificationType4=exports.NotificationType3=exports.NotificationType2=exports.NotificationType1=exports.NotificationType0=exports.NotificationType=exports.ErrorCodes=exports.ResponseError=exports.RequestType9=exports.RequestType8=exports.RequestType7=exports.RequestType6=exports.RequestType5=exports.RequestType4=exports.RequestType3=exports.RequestType2=exports.RequestType1=exports.RequestType0=exports.RequestType=exports.Message=exports.RAL=void 0;exports.CancellationStrategy=exports.CancellationSenderStrategy=exports.CancellationReceiverStrategy=exports.ConnectionError=exports.ConnectionErrors=exports.LogTraceNotification=void 0;var messages_1=require_messages();Object.defineProperty(exports,"Message",{enumerable:true,get:function get(){return messages_1.Message;}});Object.defineProperty(exports,"RequestType",{enumerable:true,get:function get(){return messages_1.RequestType;}});Object.defineProperty(exports,"RequestType0",{enumerable:true,get:function get(){return messages_1.RequestType0;}});Object.defineProperty(exports,"RequestType1",{enumerable:true,get:function get(){return messages_1.RequestType1;}});Object.defineProperty(exports,"RequestType2",{enumerable:true,get:function get(){return messages_1.RequestType2;}});Object.defineProperty(exports,"RequestType3",{enumerable:true,get:function get(){return messages_1.RequestType3;}});Object.defineProperty(exports,"RequestType4",{enumerable:true,get:function get(){return messages_1.RequestType4;}});Object.defineProperty(exports,"RequestType5",{enumerable:true,get:function get(){return messages_1.RequestType5;}});Object.defineProperty(exports,"RequestType6",{enumerable:true,get:function get(){return messages_1.RequestType6;}});Object.defineProperty(exports,"RequestType7",{enumerable:true,get:function get(){return messages_1.RequestType7;}});Object.defineProperty(exports,"RequestType8",{enumerable:true,get:function get(){return messages_1.RequestType8;}});Object.defineProperty(exports,"RequestType9",{enumerable:true,get:function get(){return messages_1.RequestType9;}});Object.defineProperty(exports,"ResponseError",{enumerable:true,get:function get(){return messages_1.ResponseError;}});Object.defineProperty(exports,"ErrorCodes",{enumerable:true,get:function get(){return messages_1.ErrorCodes;}});Object.defineProperty(exports,"NotificationType",{enumerable:true,get:function get(){return messages_1.NotificationType;}});Object.defineProperty(exports,"NotificationType0",{enumerable:true,get:function get(){return messages_1.NotificationType0;}});Object.defineProperty(exports,"NotificationType1",{enumerable:true,get:function get(){return messages_1.NotificationType1;}});Object.defineProperty(exports,"NotificationType2",{enumerable:true,get:function get(){return messages_1.NotificationType2;}});Object.defineProperty(exports,"NotificationType3",{enumerable:true,get:function get(){return messages_1.NotificationType3;}});Object.defineProperty(exports,"NotificationType4",{enumerable:true,get:function get(){return messages_1.NotificationType4;}});Object.defineProperty(exports,"NotificationType5",{enumerable:true,get:function get(){return messages_1.NotificationType5;}});Object.defineProperty(exports,"NotificationType6",{enumerable:true,get:function get(){return messages_1.NotificationType6;}});Object.defineProperty(exports,"NotificationType7",{enumerable:true,get:function get(){return messages_1.NotificationType7;}});Object.defineProperty(exports,"NotificationType8",{enumerable:true,get:function get(){return messages_1.NotificationType8;}});Object.defineProperty(exports,"NotificationType9",{enumerable:true,get:function get(){return messages_1.NotificationType9;}});Object.defineProperty(exports,"ParameterStructures",{enumerable:true,get:function get(){return messages_1.ParameterStructures;}});var linkedMap_1=require_linkedMap();Object.defineProperty(exports,"LinkedMap",{enumerable:true,get:function get(){return linkedMap_1.LinkedMap;}});Object.defineProperty(exports,"LRUCache",{enumerable:true,get:function get(){return linkedMap_1.LRUCache;}});Object.defineProperty(exports,"Touch",{enumerable:true,get:function get(){return linkedMap_1.Touch;}});var disposable_1=require_disposable();Object.defineProperty(exports,"Disposable",{enumerable:true,get:function get(){return disposable_1.Disposable;}});var events_1=require_events();Object.defineProperty(exports,"Event",{enumerable:true,get:function get(){return events_1.Event;}});Object.defineProperty(exports,"Emitter",{enumerable:true,get:function get(){return events_1.Emitter;}});var cancellation_1=require_cancellation();Object.defineProperty(exports,"CancellationTokenSource",{enumerable:true,get:function get(){return cancellation_1.CancellationTokenSource;}});Object.defineProperty(exports,"CancellationToken",{enumerable:true,get:function get(){return cancellation_1.CancellationToken;}});var messageReader_1=require_messageReader();Object.defineProperty(exports,"MessageReader",{enumerable:true,get:function get(){return messageReader_1.MessageReader;}});Object.defineProperty(exports,"AbstractMessageReader",{enumerable:true,get:function get(){return messageReader_1.AbstractMessageReader;}});Object.defineProperty(exports,"ReadableStreamMessageReader",{enumerable:true,get:function get(){return messageReader_1.ReadableStreamMessageReader;}});var messageWriter_1=require_messageWriter();Object.defineProperty(exports,"MessageWriter",{enumerable:true,get:function get(){return messageWriter_1.MessageWriter;}});Object.defineProperty(exports,"AbstractMessageWriter",{enumerable:true,get:function get(){return messageWriter_1.AbstractMessageWriter;}});Object.defineProperty(exports,"WriteableStreamMessageWriter",{enumerable:true,get:function get(){return messageWriter_1.WriteableStreamMessageWriter;}});var connection_1=require_connection();Object.defineProperty(exports,"ConnectionStrategy",{enumerable:true,get:function get(){return connection_1.ConnectionStrategy;}});Object.defineProperty(exports,"ConnectionOptions",{enumerable:true,get:function get(){return connection_1.ConnectionOptions;}});Object.defineProperty(exports,"NullLogger",{enumerable:true,get:function get(){return connection_1.NullLogger;}});Object.defineProperty(exports,"createMessageConnection",{enumerable:true,get:function get(){return connection_1.createMessageConnection;}});Object.defineProperty(exports,"ProgressToken",{enumerable:true,get:function get(){return connection_1.ProgressToken;}});Object.defineProperty(exports,"ProgressType",{enumerable:true,get:function get(){return connection_1.ProgressType;}});Object.defineProperty(exports,"Trace",{enumerable:true,get:function get(){return connection_1.Trace;}});Object.defineProperty(exports,"TraceFormat",{enumerable:true,get:function get(){return connection_1.TraceFormat;}});Object.defineProperty(exports,"SetTraceNotification",{enumerable:true,get:function get(){return connection_1.SetTraceNotification;}});Object.defineProperty(exports,"LogTraceNotification",{enumerable:true,get:function get(){return connection_1.LogTraceNotification;}});Object.defineProperty(exports,"ConnectionErrors",{enumerable:true,get:function get(){return connection_1.ConnectionErrors;}});Object.defineProperty(exports,"ConnectionError",{enumerable:true,get:function get(){return connection_1.ConnectionError;}});Object.defineProperty(exports,"CancellationReceiverStrategy",{enumerable:true,get:function get(){return connection_1.CancellationReceiverStrategy;}});Object.defineProperty(exports,"CancellationSenderStrategy",{enumerable:true,get:function get(){return connection_1.CancellationSenderStrategy;}});Object.defineProperty(exports,"CancellationStrategy",{enumerable:true,get:function get(){return connection_1.CancellationStrategy;}});var ral_1=require_ral();exports.RAL=ral_1.default;}});// client/node_modules/vscode-jsonrpc/lib/browser/main.js
var require_main=__commonJS({"client/node_modules/vscode-jsonrpc/lib/browser/main.js":function clientNode_modulesVscodeJsonrpcLibBrowserMainJs(exports){"use strict";var __createBinding2=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k];}});}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k];});var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m){if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding2(exports2,m,p);}};Object.defineProperty(exports,"__esModule",{value:true});exports.createMessageConnection=exports.BrowserMessageWriter=exports.BrowserMessageReader=void 0;var ril_1=require_ril();ril_1.default.install();var api_1=require_api();__exportStar(require_api(),exports);var BrowserMessageReader=/*#__PURE__*/function(_api_1$AbstractMessag){_inherits(BrowserMessageReader,_api_1$AbstractMessag);var _super30=_createSuper(BrowserMessageReader);function BrowserMessageReader(context){var _this31;_classCallCheck(this,BrowserMessageReader);_this31=_super30.call(this);_this31._onData=new api_1.Emitter();_this31._messageListener=function(event){_this31._onData.fire(event.data);};context.addEventListener("error",function(event){return _this31.fireError(event);});context.onmessage=_this31._messageListener;return _this31;}_createClass(BrowserMessageReader,[{key:"listen",value:function listen(callback){return this._onData.event(callback);}}]);return BrowserMessageReader;}(api_1.AbstractMessageReader);exports.BrowserMessageReader=BrowserMessageReader;var BrowserMessageWriter=/*#__PURE__*/function(_api_1$AbstractMessag2){_inherits(BrowserMessageWriter,_api_1$AbstractMessag2);var _super31=_createSuper(BrowserMessageWriter);function BrowserMessageWriter(context){var _this32;_classCallCheck(this,BrowserMessageWriter);_this32=_super31.call(this);_this32.context=context;_this32.errorCount=0;context.addEventListener("error",function(event){return _this32.fireError(event);});return _this32;}_createClass(BrowserMessageWriter,[{key:"write",value:function write(msg){try{this.context.postMessage(msg);return Promise.resolve();}catch(error){this.handleError(error,msg);return Promise.reject(error);}}},{key:"handleError",value:function handleError(error,msg){this.errorCount++;this.fireError(error,msg,this.errorCount);}},{key:"end",value:function end(){}}]);return BrowserMessageWriter;}(api_1.AbstractMessageWriter);exports.BrowserMessageWriter=BrowserMessageWriter;function createMessageConnection(reader,writer,logger,options){if(logger===void 0){logger=api_1.NullLogger;}if(api_1.ConnectionStrategy.is(options)){options={connectionStrategy:options};}return(0,api_1.createMessageConnection)(reader,writer,logger,options);}exports.createMessageConnection=createMessageConnection;}});// client/node_modules/vscode-jsonrpc/browser.js
var require_browser=__commonJS({"client/node_modules/vscode-jsonrpc/browser.js":function clientNode_modulesVscodeJsonrpcBrowserJs(exports,module2){"use strict";module2.exports=require_main();}});// client/node_modules/vscode-languageserver-types/lib/umd/main.js
var require_main2=__commonJS({"client/node_modules/vscode-languageserver-types/lib/umd/main.js":function clientNode_modulesVscodeLanguageserverTypesLibUmdMainJs(exports,module2){(function(factory){if(_typeof(module2)==="object"&&_typeof(module2.exports)==="object"){var v=factory(require,exports);if(v!==void 0)module2.exports=v;}else if(typeof define==="function"&&define.amd){define(["require","exports"],factory);}})(function(require2,exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.TextDocument=exports2.EOL=exports2.InlineValuesContext=exports2.InlineValueEvaluatableExpression=exports2.InlineValueVariableLookup=exports2.InlineValueText=exports2.SemanticTokens=exports2.SemanticTokenModifiers=exports2.SemanticTokenTypes=exports2.SelectionRange=exports2.DocumentLink=exports2.FormattingOptions=exports2.CodeLens=exports2.CodeAction=exports2.CodeActionContext=exports2.CodeActionTriggerKind=exports2.CodeActionKind=exports2.DocumentSymbol=exports2.WorkspaceSymbol=exports2.SymbolInformation=exports2.SymbolTag=exports2.SymbolKind=exports2.DocumentHighlight=exports2.DocumentHighlightKind=exports2.SignatureInformation=exports2.ParameterInformation=exports2.Hover=exports2.MarkedString=exports2.CompletionList=exports2.CompletionItem=exports2.CompletionItemLabelDetails=exports2.InsertTextMode=exports2.InsertReplaceEdit=exports2.CompletionItemTag=exports2.InsertTextFormat=exports2.CompletionItemKind=exports2.MarkupContent=exports2.MarkupKind=exports2.TextDocumentItem=exports2.OptionalVersionedTextDocumentIdentifier=exports2.VersionedTextDocumentIdentifier=exports2.TextDocumentIdentifier=exports2.WorkspaceChange=exports2.WorkspaceEdit=exports2.DeleteFile=exports2.RenameFile=exports2.CreateFile=exports2.TextDocumentEdit=exports2.AnnotatedTextEdit=exports2.ChangeAnnotationIdentifier=exports2.ChangeAnnotation=exports2.TextEdit=exports2.Command=exports2.Diagnostic=exports2.CodeDescription=exports2.DiagnosticTag=exports2.DiagnosticSeverity=exports2.DiagnosticRelatedInformation=exports2.FoldingRange=exports2.FoldingRangeKind=exports2.ColorPresentation=exports2.ColorInformation=exports2.Color=exports2.LocationLink=exports2.Location=exports2.Range=exports2.Position=exports2.uinteger=exports2.integer=void 0;var integer;(function(integer2){integer2.MIN_VALUE=-2147483648;integer2.MAX_VALUE=2147483647;})(integer=exports2.integer||(exports2.integer={}));var uinteger;(function(uinteger2){uinteger2.MIN_VALUE=0;uinteger2.MAX_VALUE=2147483647;})(uinteger=exports2.uinteger||(exports2.uinteger={}));var Position;(function(Position2){function create(line,character){if(line===Number.MAX_VALUE){line=uinteger.MAX_VALUE;}if(character===Number.MAX_VALUE){character=uinteger.MAX_VALUE;}return{line:line,character:character};}Position2.create=create;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.uinteger(candidate.line)&&Is2.uinteger(candidate.character);}Position2.is=is2;})(Position=exports2.Position||(exports2.Position={}));var Range;(function(Range2){function create(one,two,three,four){if(Is2.uinteger(one)&&Is2.uinteger(two)&&Is2.uinteger(three)&&Is2.uinteger(four)){return{start:Position.create(one,two),end:Position.create(three,four)};}else if(Position.is(one)&&Position.is(two)){return{start:one,end:two};}else{throw new Error("Range#create called with invalid arguments[".concat(one,", ").concat(two,", ").concat(three,", ").concat(four,"]"));}}Range2.create=create;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Position.is(candidate.start)&&Position.is(candidate.end);}Range2.is=is2;})(Range=exports2.Range||(exports2.Range={}));var Location;(function(Location2){function create(uri,range){return{uri:uri,range:range};}Location2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Range.is(candidate.range)&&(Is2.string(candidate.uri)||Is2.undefined(candidate.uri));}Location2.is=is2;})(Location=exports2.Location||(exports2.Location={}));var LocationLink;(function(LocationLink2){function create(targetUri,targetRange,targetSelectionRange,originSelectionRange){return{targetUri:targetUri,targetRange:targetRange,targetSelectionRange:targetSelectionRange,originSelectionRange:originSelectionRange};}LocationLink2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Range.is(candidate.targetRange)&&Is2.string(candidate.targetUri)&&Range.is(candidate.targetSelectionRange)&&(Range.is(candidate.originSelectionRange)||Is2.undefined(candidate.originSelectionRange));}LocationLink2.is=is2;})(LocationLink=exports2.LocationLink||(exports2.LocationLink={}));var Color;(function(Color2){function create(red,green,blue,alpha){return{red:red,green:green,blue:blue,alpha:alpha};}Color2.create=create;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.numberRange(candidate.red,0,1)&&Is2.numberRange(candidate.green,0,1)&&Is2.numberRange(candidate.blue,0,1)&&Is2.numberRange(candidate.alpha,0,1);}Color2.is=is2;})(Color=exports2.Color||(exports2.Color={}));var ColorInformation;(function(ColorInformation2){function create(range,color){return{range:range,color:color};}ColorInformation2.create=create;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Range.is(candidate.range)&&Color.is(candidate.color);}ColorInformation2.is=is2;})(ColorInformation=exports2.ColorInformation||(exports2.ColorInformation={}));var ColorPresentation;(function(ColorPresentation2){function create(label,textEdit,additionalTextEdits){return{label:label,textEdit:textEdit,additionalTextEdits:additionalTextEdits};}ColorPresentation2.create=create;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.label)&&(Is2.undefined(candidate.textEdit)||TextEdit.is(candidate))&&(Is2.undefined(candidate.additionalTextEdits)||Is2.typedArray(candidate.additionalTextEdits,TextEdit.is));}ColorPresentation2.is=is2;})(ColorPresentation=exports2.ColorPresentation||(exports2.ColorPresentation={}));var FoldingRangeKind;(function(FoldingRangeKind2){FoldingRangeKind2["Comment"]="comment";FoldingRangeKind2["Imports"]="imports";FoldingRangeKind2["Region"]="region";})(FoldingRangeKind=exports2.FoldingRangeKind||(exports2.FoldingRangeKind={}));var FoldingRange;(function(FoldingRange2){function create(startLine,endLine,startCharacter,endCharacter,kind){var result={startLine:startLine,endLine:endLine};if(Is2.defined(startCharacter)){result.startCharacter=startCharacter;}if(Is2.defined(endCharacter)){result.endCharacter=endCharacter;}if(Is2.defined(kind)){result.kind=kind;}return result;}FoldingRange2.create=create;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.uinteger(candidate.startLine)&&Is2.uinteger(candidate.startLine)&&(Is2.undefined(candidate.startCharacter)||Is2.uinteger(candidate.startCharacter))&&(Is2.undefined(candidate.endCharacter)||Is2.uinteger(candidate.endCharacter))&&(Is2.undefined(candidate.kind)||Is2.string(candidate.kind));}FoldingRange2.is=is2;})(FoldingRange=exports2.FoldingRange||(exports2.FoldingRange={}));var DiagnosticRelatedInformation;(function(DiagnosticRelatedInformation2){function create(location2,message){return{location:location2,message:message};}DiagnosticRelatedInformation2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Location.is(candidate.location)&&Is2.string(candidate.message);}DiagnosticRelatedInformation2.is=is2;})(DiagnosticRelatedInformation=exports2.DiagnosticRelatedInformation||(exports2.DiagnosticRelatedInformation={}));var DiagnosticSeverity;(function(DiagnosticSeverity2){DiagnosticSeverity2.Error=1;DiagnosticSeverity2.Warning=2;DiagnosticSeverity2.Information=3;DiagnosticSeverity2.Hint=4;})(DiagnosticSeverity=exports2.DiagnosticSeverity||(exports2.DiagnosticSeverity={}));var DiagnosticTag;(function(DiagnosticTag2){DiagnosticTag2.Unnecessary=1;DiagnosticTag2.Deprecated=2;})(DiagnosticTag=exports2.DiagnosticTag||(exports2.DiagnosticTag={}));var CodeDescription;(function(CodeDescription2){function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.href);}CodeDescription2.is=is2;})(CodeDescription=exports2.CodeDescription||(exports2.CodeDescription={}));var Diagnostic;(function(Diagnostic2){function create(range,message,severity,code,source,relatedInformation){var result={range:range,message:message};if(Is2.defined(severity)){result.severity=severity;}if(Is2.defined(code)){result.code=code;}if(Is2.defined(source)){result.source=source;}if(Is2.defined(relatedInformation)){result.relatedInformation=relatedInformation;}return result;}Diagnostic2.create=create;function is2(value){var _a4;var candidate=value;return Is2.defined(candidate)&&Range.is(candidate.range)&&Is2.string(candidate.message)&&(Is2.number(candidate.severity)||Is2.undefined(candidate.severity))&&(Is2.integer(candidate.code)||Is2.string(candidate.code)||Is2.undefined(candidate.code))&&(Is2.undefined(candidate.codeDescription)||Is2.string((_a4=candidate.codeDescription)===null||_a4===void 0?void 0:_a4.href))&&(Is2.string(candidate.source)||Is2.undefined(candidate.source))&&(Is2.undefined(candidate.relatedInformation)||Is2.typedArray(candidate.relatedInformation,DiagnosticRelatedInformation.is));}Diagnostic2.is=is2;})(Diagnostic=exports2.Diagnostic||(exports2.Diagnostic={}));var Command;(function(Command2){function create(title,command){var args=[];for(var _i2=2;_i2<arguments.length;_i2++){args[_i2-2]=arguments[_i2];}var result={title:title,command:command};if(Is2.defined(args)&&args.length>0){result.arguments=args;}return result;}Command2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.title)&&Is2.string(candidate.command);}Command2.is=is2;})(Command=exports2.Command||(exports2.Command={}));var TextEdit;(function(TextEdit2){function replace(range,newText){return{range:range,newText:newText};}TextEdit2.replace=replace;function insert(position,newText){return{range:{start:position,end:position},newText:newText};}TextEdit2.insert=insert;function del(range){return{range:range,newText:""};}TextEdit2.del=del;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.newText)&&Range.is(candidate.range);}TextEdit2.is=is2;})(TextEdit=exports2.TextEdit||(exports2.TextEdit={}));var ChangeAnnotation;(function(ChangeAnnotation2){function create(label,needsConfirmation,description){var result={label:label};if(needsConfirmation!==void 0){result.needsConfirmation=needsConfirmation;}if(description!==void 0){result.description=description;}return result;}ChangeAnnotation2.create=create;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.label)&&(Is2.boolean(candidate.needsConfirmation)||candidate.needsConfirmation===void 0)&&(Is2.string(candidate.description)||candidate.description===void 0);}ChangeAnnotation2.is=is2;})(ChangeAnnotation=exports2.ChangeAnnotation||(exports2.ChangeAnnotation={}));var ChangeAnnotationIdentifier;(function(ChangeAnnotationIdentifier2){function is2(value){var candidate=value;return Is2.string(candidate);}ChangeAnnotationIdentifier2.is=is2;})(ChangeAnnotationIdentifier=exports2.ChangeAnnotationIdentifier||(exports2.ChangeAnnotationIdentifier={}));var AnnotatedTextEdit;(function(AnnotatedTextEdit2){function replace(range,newText,annotation){return{range:range,newText:newText,annotationId:annotation};}AnnotatedTextEdit2.replace=replace;function insert(position,newText,annotation){return{range:{start:position,end:position},newText:newText,annotationId:annotation};}AnnotatedTextEdit2.insert=insert;function del(range,annotation){return{range:range,newText:"",annotationId:annotation};}AnnotatedTextEdit2.del=del;function is2(value){var candidate=value;return TextEdit.is(candidate)&&(ChangeAnnotation.is(candidate.annotationId)||ChangeAnnotationIdentifier.is(candidate.annotationId));}AnnotatedTextEdit2.is=is2;})(AnnotatedTextEdit=exports2.AnnotatedTextEdit||(exports2.AnnotatedTextEdit={}));var TextDocumentEdit;(function(TextDocumentEdit2){function create(textDocument,edits){return{textDocument:textDocument,edits:edits};}TextDocumentEdit2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)&&Array.isArray(candidate.edits);}TextDocumentEdit2.is=is2;})(TextDocumentEdit=exports2.TextDocumentEdit||(exports2.TextDocumentEdit={}));var CreateFile;(function(CreateFile2){function create(uri,options,annotation){var result={kind:"create",uri:uri};if(options!==void 0&&(options.overwrite!==void 0||options.ignoreIfExists!==void 0)){result.options=options;}if(annotation!==void 0){result.annotationId=annotation;}return result;}CreateFile2.create=create;function is2(value){var candidate=value;return candidate&&candidate.kind==="create"&&Is2.string(candidate.uri)&&(candidate.options===void 0||(candidate.options.overwrite===void 0||Is2.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===void 0||Is2.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId));}CreateFile2.is=is2;})(CreateFile=exports2.CreateFile||(exports2.CreateFile={}));var RenameFile;(function(RenameFile2){function create(oldUri,newUri,options,annotation){var result={kind:"rename",oldUri:oldUri,newUri:newUri};if(options!==void 0&&(options.overwrite!==void 0||options.ignoreIfExists!==void 0)){result.options=options;}if(annotation!==void 0){result.annotationId=annotation;}return result;}RenameFile2.create=create;function is2(value){var candidate=value;return candidate&&candidate.kind==="rename"&&Is2.string(candidate.oldUri)&&Is2.string(candidate.newUri)&&(candidate.options===void 0||(candidate.options.overwrite===void 0||Is2.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===void 0||Is2.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId));}RenameFile2.is=is2;})(RenameFile=exports2.RenameFile||(exports2.RenameFile={}));var DeleteFile;(function(DeleteFile2){function create(uri,options,annotation){var result={kind:"delete",uri:uri};if(options!==void 0&&(options.recursive!==void 0||options.ignoreIfNotExists!==void 0)){result.options=options;}if(annotation!==void 0){result.annotationId=annotation;}return result;}DeleteFile2.create=create;function is2(value){var candidate=value;return candidate&&candidate.kind==="delete"&&Is2.string(candidate.uri)&&(candidate.options===void 0||(candidate.options.recursive===void 0||Is2.boolean(candidate.options.recursive))&&(candidate.options.ignoreIfNotExists===void 0||Is2.boolean(candidate.options.ignoreIfNotExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId));}DeleteFile2.is=is2;})(DeleteFile=exports2.DeleteFile||(exports2.DeleteFile={}));var WorkspaceEdit;(function(WorkspaceEdit2){function is2(value){var candidate=value;return candidate&&(candidate.changes!==void 0||candidate.documentChanges!==void 0)&&(candidate.documentChanges===void 0||candidate.documentChanges.every(function(change){if(Is2.string(change.kind)){return CreateFile.is(change)||RenameFile.is(change)||DeleteFile.is(change);}else{return TextDocumentEdit.is(change);}}));}WorkspaceEdit2.is=is2;})(WorkspaceEdit=exports2.WorkspaceEdit||(exports2.WorkspaceEdit={}));var TextEditChangeImpl=function(){function TextEditChangeImpl2(edits,changeAnnotations){this.edits=edits;this.changeAnnotations=changeAnnotations;}TextEditChangeImpl2.prototype.insert=function(position,newText,annotation){var edit;var id;if(annotation===void 0){edit=TextEdit.insert(position,newText);}else if(ChangeAnnotationIdentifier.is(annotation)){id=annotation;edit=AnnotatedTextEdit.insert(position,newText,annotation);}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit.insert(position,newText,id);}this.edits.push(edit);if(id!==void 0){return id;}};TextEditChangeImpl2.prototype.replace=function(range,newText,annotation){var edit;var id;if(annotation===void 0){edit=TextEdit.replace(range,newText);}else if(ChangeAnnotationIdentifier.is(annotation)){id=annotation;edit=AnnotatedTextEdit.replace(range,newText,annotation);}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit.replace(range,newText,id);}this.edits.push(edit);if(id!==void 0){return id;}};TextEditChangeImpl2.prototype.delete=function(range,annotation){var edit;var id;if(annotation===void 0){edit=TextEdit.del(range);}else if(ChangeAnnotationIdentifier.is(annotation)){id=annotation;edit=AnnotatedTextEdit.del(range,annotation);}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit.del(range,id);}this.edits.push(edit);if(id!==void 0){return id;}};TextEditChangeImpl2.prototype.add=function(edit){this.edits.push(edit);};TextEditChangeImpl2.prototype.all=function(){return this.edits;};TextEditChangeImpl2.prototype.clear=function(){this.edits.splice(0,this.edits.length);};TextEditChangeImpl2.prototype.assertChangeAnnotations=function(value){if(value===void 0){throw new Error("Text edit change is not configured to manage change annotations.");}};return TextEditChangeImpl2;}();var ChangeAnnotations=function(){function ChangeAnnotations2(annotations){this._annotations=annotations===void 0?Object.create(null):annotations;this._counter=0;this._size=0;}ChangeAnnotations2.prototype.all=function(){return this._annotations;};Object.defineProperty(ChangeAnnotations2.prototype,"size",{get:function get(){return this._size;},enumerable:false,configurable:true});ChangeAnnotations2.prototype.manage=function(idOrAnnotation,annotation){var id;if(ChangeAnnotationIdentifier.is(idOrAnnotation)){id=idOrAnnotation;}else{id=this.nextId();annotation=idOrAnnotation;}if(this._annotations[id]!==void 0){throw new Error("Id ".concat(id," is already in use."));}if(annotation===void 0){throw new Error("No annotation provided for id ".concat(id));}this._annotations[id]=annotation;this._size++;return id;};ChangeAnnotations2.prototype.nextId=function(){this._counter++;return this._counter.toString();};return ChangeAnnotations2;}();var WorkspaceChange=function(){function WorkspaceChange2(workspaceEdit){var _this=this;this._textEditChanges=Object.create(null);if(workspaceEdit!==void 0){this._workspaceEdit=workspaceEdit;if(workspaceEdit.documentChanges){this._changeAnnotations=new ChangeAnnotations(workspaceEdit.changeAnnotations);workspaceEdit.changeAnnotations=this._changeAnnotations.all();workspaceEdit.documentChanges.forEach(function(change){if(TextDocumentEdit.is(change)){var textEditChange=new TextEditChangeImpl(change.edits,_this._changeAnnotations);_this._textEditChanges[change.textDocument.uri]=textEditChange;}});}else if(workspaceEdit.changes){Object.keys(workspaceEdit.changes).forEach(function(key){var textEditChange=new TextEditChangeImpl(workspaceEdit.changes[key]);_this._textEditChanges[key]=textEditChange;});}}else{this._workspaceEdit={};}}Object.defineProperty(WorkspaceChange2.prototype,"edit",{get:function get(){this.initDocumentChanges();if(this._changeAnnotations!==void 0){if(this._changeAnnotations.size===0){this._workspaceEdit.changeAnnotations=void 0;}else{this._workspaceEdit.changeAnnotations=this._changeAnnotations.all();}}return this._workspaceEdit;},enumerable:false,configurable:true});WorkspaceChange2.prototype.getTextEditChange=function(key){if(OptionalVersionedTextDocumentIdentifier.is(key)){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.");}var textDocument={uri:key.uri,version:key.version};var result=this._textEditChanges[textDocument.uri];if(!result){var edits=[];var textDocumentEdit={textDocument:textDocument,edits:edits};this._workspaceEdit.documentChanges.push(textDocumentEdit);result=new TextEditChangeImpl(edits,this._changeAnnotations);this._textEditChanges[textDocument.uri]=result;}return result;}else{this.initChanges();if(this._workspaceEdit.changes===void 0){throw new Error("Workspace edit is not configured for normal text edit changes.");}var result=this._textEditChanges[key];if(!result){var edits=[];this._workspaceEdit.changes[key]=edits;result=new TextEditChangeImpl(edits);this._textEditChanges[key]=result;}return result;}};WorkspaceChange2.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0){this._changeAnnotations=new ChangeAnnotations();this._workspaceEdit.documentChanges=[];this._workspaceEdit.changeAnnotations=this._changeAnnotations.all();}};WorkspaceChange2.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0){this._workspaceEdit.changes=Object.create(null);}};WorkspaceChange2.prototype.createFile=function(uri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.");}var annotation;if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)){annotation=optionsOrAnnotation;}else{options=optionsOrAnnotation;}var operation;var id;if(annotation===void 0){operation=CreateFile.create(uri,options);}else{id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=CreateFile.create(uri,options,id);}this._workspaceEdit.documentChanges.push(operation);if(id!==void 0){return id;}};WorkspaceChange2.prototype.renameFile=function(oldUri,newUri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.");}var annotation;if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)){annotation=optionsOrAnnotation;}else{options=optionsOrAnnotation;}var operation;var id;if(annotation===void 0){operation=RenameFile.create(oldUri,newUri,options);}else{id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=RenameFile.create(oldUri,newUri,options,id);}this._workspaceEdit.documentChanges.push(operation);if(id!==void 0){return id;}};WorkspaceChange2.prototype.deleteFile=function(uri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.");}var annotation;if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)){annotation=optionsOrAnnotation;}else{options=optionsOrAnnotation;}var operation;var id;if(annotation===void 0){operation=DeleteFile.create(uri,options);}else{id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=DeleteFile.create(uri,options,id);}this._workspaceEdit.documentChanges.push(operation);if(id!==void 0){return id;}};return WorkspaceChange2;}();exports2.WorkspaceChange=WorkspaceChange;var TextDocumentIdentifier;(function(TextDocumentIdentifier2){function create(uri){return{uri:uri};}TextDocumentIdentifier2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri);}TextDocumentIdentifier2.is=is2;})(TextDocumentIdentifier=exports2.TextDocumentIdentifier||(exports2.TextDocumentIdentifier={}));var VersionedTextDocumentIdentifier;(function(VersionedTextDocumentIdentifier2){function create(uri,version2){return{uri:uri,version:version2};}VersionedTextDocumentIdentifier2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)&&Is2.integer(candidate.version);}VersionedTextDocumentIdentifier2.is=is2;})(VersionedTextDocumentIdentifier=exports2.VersionedTextDocumentIdentifier||(exports2.VersionedTextDocumentIdentifier={}));var OptionalVersionedTextDocumentIdentifier;(function(OptionalVersionedTextDocumentIdentifier2){function create(uri,version2){return{uri:uri,version:version2};}OptionalVersionedTextDocumentIdentifier2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)&&(candidate.version===null||Is2.integer(candidate.version));}OptionalVersionedTextDocumentIdentifier2.is=is2;})(OptionalVersionedTextDocumentIdentifier=exports2.OptionalVersionedTextDocumentIdentifier||(exports2.OptionalVersionedTextDocumentIdentifier={}));var TextDocumentItem;(function(TextDocumentItem2){function create(uri,languageId,version2,text){return{uri:uri,languageId:languageId,version:version2,text:text};}TextDocumentItem2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)&&Is2.string(candidate.languageId)&&Is2.integer(candidate.version)&&Is2.string(candidate.text);}TextDocumentItem2.is=is2;})(TextDocumentItem=exports2.TextDocumentItem||(exports2.TextDocumentItem={}));var MarkupKind;(function(MarkupKind2){MarkupKind2.PlainText="plaintext";MarkupKind2.Markdown="markdown";})(MarkupKind=exports2.MarkupKind||(exports2.MarkupKind={}));(function(MarkupKind2){function is2(value){var candidate=value;return candidate===MarkupKind2.PlainText||candidate===MarkupKind2.Markdown;}MarkupKind2.is=is2;})(MarkupKind=exports2.MarkupKind||(exports2.MarkupKind={}));var MarkupContent;(function(MarkupContent2){function is2(value){var candidate=value;return Is2.objectLiteral(value)&&MarkupKind.is(candidate.kind)&&Is2.string(candidate.value);}MarkupContent2.is=is2;})(MarkupContent=exports2.MarkupContent||(exports2.MarkupContent={}));var CompletionItemKind;(function(CompletionItemKind2){CompletionItemKind2.Text=1;CompletionItemKind2.Method=2;CompletionItemKind2.Function=3;CompletionItemKind2.Constructor=4;CompletionItemKind2.Field=5;CompletionItemKind2.Variable=6;CompletionItemKind2.Class=7;CompletionItemKind2.Interface=8;CompletionItemKind2.Module=9;CompletionItemKind2.Property=10;CompletionItemKind2.Unit=11;CompletionItemKind2.Value=12;CompletionItemKind2.Enum=13;CompletionItemKind2.Keyword=14;CompletionItemKind2.Snippet=15;CompletionItemKind2.Color=16;CompletionItemKind2.File=17;CompletionItemKind2.Reference=18;CompletionItemKind2.Folder=19;CompletionItemKind2.EnumMember=20;CompletionItemKind2.Constant=21;CompletionItemKind2.Struct=22;CompletionItemKind2.Event=23;CompletionItemKind2.Operator=24;CompletionItemKind2.TypeParameter=25;})(CompletionItemKind=exports2.CompletionItemKind||(exports2.CompletionItemKind={}));var InsertTextFormat;(function(InsertTextFormat2){InsertTextFormat2.PlainText=1;InsertTextFormat2.Snippet=2;})(InsertTextFormat=exports2.InsertTextFormat||(exports2.InsertTextFormat={}));var CompletionItemTag;(function(CompletionItemTag2){CompletionItemTag2.Deprecated=1;})(CompletionItemTag=exports2.CompletionItemTag||(exports2.CompletionItemTag={}));var InsertReplaceEdit;(function(InsertReplaceEdit2){function create(newText,insert,replace){return{newText:newText,insert:insert,replace:replace};}InsertReplaceEdit2.create=create;function is2(value){var candidate=value;return candidate&&Is2.string(candidate.newText)&&Range.is(candidate.insert)&&Range.is(candidate.replace);}InsertReplaceEdit2.is=is2;})(InsertReplaceEdit=exports2.InsertReplaceEdit||(exports2.InsertReplaceEdit={}));var InsertTextMode;(function(InsertTextMode2){InsertTextMode2.asIs=1;InsertTextMode2.adjustIndentation=2;})(InsertTextMode=exports2.InsertTextMode||(exports2.InsertTextMode={}));var CompletionItemLabelDetails;(function(CompletionItemLabelDetails2){function is2(value){var candidate=value;return candidate&&(Is2.string(candidate.detail)||candidate.detail===void 0)&&(Is2.string(candidate.description)||candidate.description===void 0);}CompletionItemLabelDetails2.is=is2;})(CompletionItemLabelDetails=exports2.CompletionItemLabelDetails||(exports2.CompletionItemLabelDetails={}));var CompletionItem;(function(CompletionItem2){function create(label){return{label:label};}CompletionItem2.create=create;})(CompletionItem=exports2.CompletionItem||(exports2.CompletionItem={}));var CompletionList;(function(CompletionList2){function create(items,isIncomplete){return{items:items?items:[],isIncomplete:!!isIncomplete};}CompletionList2.create=create;})(CompletionList=exports2.CompletionList||(exports2.CompletionList={}));var MarkedString;(function(MarkedString2){function fromPlainText(plainText){return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&");}MarkedString2.fromPlainText=fromPlainText;function is2(value){var candidate=value;return Is2.string(candidate)||Is2.objectLiteral(candidate)&&Is2.string(candidate.language)&&Is2.string(candidate.value);}MarkedString2.is=is2;})(MarkedString=exports2.MarkedString||(exports2.MarkedString={}));var Hover;(function(Hover2){function is2(value){var candidate=value;return!!candidate&&Is2.objectLiteral(candidate)&&(MarkupContent.is(candidate.contents)||MarkedString.is(candidate.contents)||Is2.typedArray(candidate.contents,MarkedString.is))&&(value.range===void 0||Range.is(value.range));}Hover2.is=is2;})(Hover=exports2.Hover||(exports2.Hover={}));var ParameterInformation;(function(ParameterInformation2){function create(label,documentation){return documentation?{label:label,documentation:documentation}:{label:label};}ParameterInformation2.create=create;})(ParameterInformation=exports2.ParameterInformation||(exports2.ParameterInformation={}));var SignatureInformation;(function(SignatureInformation2){function create(label,documentation){var parameters=[];for(var _i2=2;_i2<arguments.length;_i2++){parameters[_i2-2]=arguments[_i2];}var result={label:label};if(Is2.defined(documentation)){result.documentation=documentation;}if(Is2.defined(parameters)){result.parameters=parameters;}else{result.parameters=[];}return result;}SignatureInformation2.create=create;})(SignatureInformation=exports2.SignatureInformation||(exports2.SignatureInformation={}));var DocumentHighlightKind;(function(DocumentHighlightKind2){DocumentHighlightKind2.Text=1;DocumentHighlightKind2.Read=2;DocumentHighlightKind2.Write=3;})(DocumentHighlightKind=exports2.DocumentHighlightKind||(exports2.DocumentHighlightKind={}));var DocumentHighlight;(function(DocumentHighlight2){function create(range,kind){var result={range:range};if(Is2.number(kind)){result.kind=kind;}return result;}DocumentHighlight2.create=create;})(DocumentHighlight=exports2.DocumentHighlight||(exports2.DocumentHighlight={}));var SymbolKind;(function(SymbolKind2){SymbolKind2.File=1;SymbolKind2.Module=2;SymbolKind2.Namespace=3;SymbolKind2.Package=4;SymbolKind2.Class=5;SymbolKind2.Method=6;SymbolKind2.Property=7;SymbolKind2.Field=8;SymbolKind2.Constructor=9;SymbolKind2.Enum=10;SymbolKind2.Interface=11;SymbolKind2.Function=12;SymbolKind2.Variable=13;SymbolKind2.Constant=14;SymbolKind2.String=15;SymbolKind2.Number=16;SymbolKind2.Boolean=17;SymbolKind2.Array=18;SymbolKind2.Object=19;SymbolKind2.Key=20;SymbolKind2.Null=21;SymbolKind2.EnumMember=22;SymbolKind2.Struct=23;SymbolKind2.Event=24;SymbolKind2.Operator=25;SymbolKind2.TypeParameter=26;})(SymbolKind=exports2.SymbolKind||(exports2.SymbolKind={}));var SymbolTag;(function(SymbolTag2){SymbolTag2.Deprecated=1;})(SymbolTag=exports2.SymbolTag||(exports2.SymbolTag={}));var SymbolInformation;(function(SymbolInformation2){function create(name,kind,range,uri,containerName){var result={name:name,kind:kind,location:{uri:uri,range:range}};if(containerName){result.containerName=containerName;}return result;}SymbolInformation2.create=create;})(SymbolInformation=exports2.SymbolInformation||(exports2.SymbolInformation={}));var WorkspaceSymbol;(function(WorkspaceSymbol2){function create(name,kind,uri,range){return range!==void 0?{name:name,kind:kind,location:{uri:uri,range:range}}:{name:name,kind:kind,location:{uri:uri}};}WorkspaceSymbol2.create=create;})(WorkspaceSymbol=exports2.WorkspaceSymbol||(exports2.WorkspaceSymbol={}));var DocumentSymbol;(function(DocumentSymbol2){function create(name,detail,kind,range,selectionRange,children){var result={name:name,detail:detail,kind:kind,range:range,selectionRange:selectionRange};if(children!==void 0){result.children=children;}return result;}DocumentSymbol2.create=create;function is2(value){var candidate=value;return candidate&&Is2.string(candidate.name)&&Is2.number(candidate.kind)&&Range.is(candidate.range)&&Range.is(candidate.selectionRange)&&(candidate.detail===void 0||Is2.string(candidate.detail))&&(candidate.deprecated===void 0||Is2.boolean(candidate.deprecated))&&(candidate.children===void 0||Array.isArray(candidate.children))&&(candidate.tags===void 0||Array.isArray(candidate.tags));}DocumentSymbol2.is=is2;})(DocumentSymbol=exports2.DocumentSymbol||(exports2.DocumentSymbol={}));var CodeActionKind;(function(CodeActionKind2){CodeActionKind2.Empty="";CodeActionKind2.QuickFix="quickfix";CodeActionKind2.Refactor="refactor";CodeActionKind2.RefactorExtract="refactor.extract";CodeActionKind2.RefactorInline="refactor.inline";CodeActionKind2.RefactorRewrite="refactor.rewrite";CodeActionKind2.Source="source";CodeActionKind2.SourceOrganizeImports="source.organizeImports";CodeActionKind2.SourceFixAll="source.fixAll";})(CodeActionKind=exports2.CodeActionKind||(exports2.CodeActionKind={}));var CodeActionTriggerKind;(function(CodeActionTriggerKind2){CodeActionTriggerKind2.Invoked=1;CodeActionTriggerKind2.Automatic=2;})(CodeActionTriggerKind=exports2.CodeActionTriggerKind||(exports2.CodeActionTriggerKind={}));var CodeActionContext;(function(CodeActionContext2){function create(diagnostics,only,triggerKind){var result={diagnostics:diagnostics};if(only!==void 0&&only!==null){result.only=only;}if(triggerKind!==void 0&&triggerKind!==null){result.triggerKind=triggerKind;}return result;}CodeActionContext2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Is2.typedArray(candidate.diagnostics,Diagnostic.is)&&(candidate.only===void 0||Is2.typedArray(candidate.only,Is2.string))&&(candidate.triggerKind===void 0||candidate.triggerKind===CodeActionTriggerKind.Invoked||candidate.triggerKind===CodeActionTriggerKind.Automatic);}CodeActionContext2.is=is2;})(CodeActionContext=exports2.CodeActionContext||(exports2.CodeActionContext={}));var CodeAction;(function(CodeAction2){function create(title,kindOrCommandOrEdit,kind){var result={title:title};var checkKind=true;if(typeof kindOrCommandOrEdit==="string"){checkKind=false;result.kind=kindOrCommandOrEdit;}else if(Command.is(kindOrCommandOrEdit)){result.command=kindOrCommandOrEdit;}else{result.edit=kindOrCommandOrEdit;}if(checkKind&&kind!==void 0){result.kind=kind;}return result;}CodeAction2.create=create;function is2(value){var candidate=value;return candidate&&Is2.string(candidate.title)&&(candidate.diagnostics===void 0||Is2.typedArray(candidate.diagnostics,Diagnostic.is))&&(candidate.kind===void 0||Is2.string(candidate.kind))&&(candidate.edit!==void 0||candidate.command!==void 0)&&(candidate.command===void 0||Command.is(candidate.command))&&(candidate.isPreferred===void 0||Is2.boolean(candidate.isPreferred))&&(candidate.edit===void 0||WorkspaceEdit.is(candidate.edit));}CodeAction2.is=is2;})(CodeAction=exports2.CodeAction||(exports2.CodeAction={}));var CodeLens;(function(CodeLens2){function create(range,data){var result={range:range};if(Is2.defined(data)){result.data=data;}return result;}CodeLens2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Range.is(candidate.range)&&(Is2.undefined(candidate.command)||Command.is(candidate.command));}CodeLens2.is=is2;})(CodeLens=exports2.CodeLens||(exports2.CodeLens={}));var FormattingOptions;(function(FormattingOptions2){function create(tabSize,insertSpaces){return{tabSize:tabSize,insertSpaces:insertSpaces};}FormattingOptions2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Is2.uinteger(candidate.tabSize)&&Is2.boolean(candidate.insertSpaces);}FormattingOptions2.is=is2;})(FormattingOptions=exports2.FormattingOptions||(exports2.FormattingOptions={}));var DocumentLink;(function(DocumentLink2){function create(range,target,data){return{range:range,target:target,data:data};}DocumentLink2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Range.is(candidate.range)&&(Is2.undefined(candidate.target)||Is2.string(candidate.target));}DocumentLink2.is=is2;})(DocumentLink=exports2.DocumentLink||(exports2.DocumentLink={}));var SelectionRange;(function(SelectionRange2){function create(range,parent){return{range:range,parent:parent};}SelectionRange2.create=create;function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&Range.is(candidate.range)&&(candidate.parent===void 0||SelectionRange2.is(candidate.parent));}SelectionRange2.is=is2;})(SelectionRange=exports2.SelectionRange||(exports2.SelectionRange={}));var SemanticTokenTypes;(function(SemanticTokenTypes2){SemanticTokenTypes2["namespace"]="namespace";SemanticTokenTypes2["type"]="type";SemanticTokenTypes2["class"]="class";SemanticTokenTypes2["enum"]="enum";SemanticTokenTypes2["interface"]="interface";SemanticTokenTypes2["struct"]="struct";SemanticTokenTypes2["typeParameter"]="typeParameter";SemanticTokenTypes2["parameter"]="parameter";SemanticTokenTypes2["variable"]="variable";SemanticTokenTypes2["property"]="property";SemanticTokenTypes2["enumMember"]="enumMember";SemanticTokenTypes2["event"]="event";SemanticTokenTypes2["function"]="function";SemanticTokenTypes2["method"]="method";SemanticTokenTypes2["macro"]="macro";SemanticTokenTypes2["keyword"]="keyword";SemanticTokenTypes2["modifier"]="modifier";SemanticTokenTypes2["comment"]="comment";SemanticTokenTypes2["string"]="string";SemanticTokenTypes2["number"]="number";SemanticTokenTypes2["regexp"]="regexp";SemanticTokenTypes2["operator"]="operator";SemanticTokenTypes2["decorator"]="decorator";})(SemanticTokenTypes=exports2.SemanticTokenTypes||(exports2.SemanticTokenTypes={}));var SemanticTokenModifiers;(function(SemanticTokenModifiers2){SemanticTokenModifiers2["declaration"]="declaration";SemanticTokenModifiers2["definition"]="definition";SemanticTokenModifiers2["readonly"]="readonly";SemanticTokenModifiers2["static"]="static";SemanticTokenModifiers2["deprecated"]="deprecated";SemanticTokenModifiers2["abstract"]="abstract";SemanticTokenModifiers2["async"]="async";SemanticTokenModifiers2["modification"]="modification";SemanticTokenModifiers2["documentation"]="documentation";SemanticTokenModifiers2["defaultLibrary"]="defaultLibrary";})(SemanticTokenModifiers=exports2.SemanticTokenModifiers||(exports2.SemanticTokenModifiers={}));var SemanticTokens;(function(SemanticTokens2){function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&(candidate.resultId===void 0||typeof candidate.resultId==="string")&&Array.isArray(candidate.data)&&(candidate.data.length===0||typeof candidate.data[0]==="number");}SemanticTokens2.is=is2;})(SemanticTokens=exports2.SemanticTokens||(exports2.SemanticTokens={}));var InlineValueText;(function(InlineValueText2){function create(range,text){return{range:range,text:text};}InlineValueText2.create=create;function is2(value){var candidate=value;return candidate!==void 0&&candidate!==null&&Range.is(candidate.range)&&Is2.string(candidate.text);}InlineValueText2.is=is2;})(InlineValueText=exports2.InlineValueText||(exports2.InlineValueText={}));var InlineValueVariableLookup;(function(InlineValueVariableLookup2){function create(range,variableName,caseSensitiveLookup){return{range:range,variableName:variableName,caseSensitiveLookup:caseSensitiveLookup};}InlineValueVariableLookup2.create=create;function is2(value){var candidate=value;return candidate!==void 0&&candidate!==null&&Range.is(candidate.range)&&Is2.boolean(candidate.caseSensitiveLookup)&&(Is2.string(candidate.variableName)||candidate.variableName===void 0);}InlineValueVariableLookup2.is=is2;})(InlineValueVariableLookup=exports2.InlineValueVariableLookup||(exports2.InlineValueVariableLookup={}));var InlineValueEvaluatableExpression;(function(InlineValueEvaluatableExpression2){function create(range,expression){return{range:range,expression:expression};}InlineValueEvaluatableExpression2.create=create;function is2(value){var candidate=value;return candidate!==void 0&&candidate!==null&&Range.is(candidate.range)&&(Is2.string(candidate.expression)||candidate.expression===void 0);}InlineValueEvaluatableExpression2.is=is2;})(InlineValueEvaluatableExpression=exports2.InlineValueEvaluatableExpression||(exports2.InlineValueEvaluatableExpression={}));var InlineValuesContext;(function(InlineValuesContext2){function create(stoppedLocation){return{stoppedLocation:stoppedLocation};}InlineValuesContext2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Range.is(value.stoppedLocation);}InlineValuesContext2.is=is2;})(InlineValuesContext=exports2.InlineValuesContext||(exports2.InlineValuesContext={}));exports2.EOL=["\n","\r\n","\r"];var TextDocument;(function(TextDocument2){function create(uri,languageId,version2,content){return new FullTextDocument(uri,languageId,version2,content);}TextDocument2.create=create;function is2(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)&&(Is2.undefined(candidate.languageId)||Is2.string(candidate.languageId))&&Is2.uinteger(candidate.lineCount)&&Is2.func(candidate.getText)&&Is2.func(candidate.positionAt)&&Is2.func(candidate.offsetAt)?true:false;}TextDocument2.is=is2;function applyEdits(document2,edits){var text=document2.getText();var sortedEdits=mergeSort(edits,function(a,b){var diff=a.range.start.line-b.range.start.line;if(diff===0){return a.range.start.character-b.range.start.character;}return diff;});var lastModifiedOffset=text.length;for(var i=sortedEdits.length-1;i>=0;i--){var e=sortedEdits[i];var startOffset=document2.offsetAt(e.range.start);var endOffset=document2.offsetAt(e.range.end);if(endOffset<=lastModifiedOffset){text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length);}else{throw new Error("Overlapping edit");}lastModifiedOffset=startOffset;}return text;}TextDocument2.applyEdits=applyEdits;function mergeSort(data,compare){if(data.length<=1){return data;}var p=data.length/2|0;var left=data.slice(0,p);var right=data.slice(p);mergeSort(left,compare);mergeSort(right,compare);var leftIdx=0;var rightIdx=0;var i=0;while(leftIdx<left.length&&rightIdx<right.length){var ret=compare(left[leftIdx],right[rightIdx]);if(ret<=0){data[i++]=left[leftIdx++];}else{data[i++]=right[rightIdx++];}}while(leftIdx<left.length){data[i++]=left[leftIdx++];}while(rightIdx<right.length){data[i++]=right[rightIdx++];}return data;}})(TextDocument=exports2.TextDocument||(exports2.TextDocument={}));var FullTextDocument=function(){function FullTextDocument2(uri,languageId,version2,content){this._uri=uri;this._languageId=languageId;this._version=version2;this._content=content;this._lineOffsets=void 0;}Object.defineProperty(FullTextDocument2.prototype,"uri",{get:function get(){return this._uri;},enumerable:false,configurable:true});Object.defineProperty(FullTextDocument2.prototype,"languageId",{get:function get(){return this._languageId;},enumerable:false,configurable:true});Object.defineProperty(FullTextDocument2.prototype,"version",{get:function get(){return this._version;},enumerable:false,configurable:true});FullTextDocument2.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start);var end=this.offsetAt(range.end);return this._content.substring(start,end);}return this._content;};FullTextDocument2.prototype.update=function(event,version2){this._content=event.text;this._version=version2;this._lineOffsets=void 0;};FullTextDocument2.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){var lineOffsets=[];var text=this._content;var isLineStart=true;for(var i=0;i<text.length;i++){if(isLineStart){lineOffsets.push(i);isLineStart=false;}var ch=text.charAt(i);isLineStart=ch==="\r"||ch==="\n";if(ch==="\r"&&i+1<text.length&&text.charAt(i+1)==="\n"){i++;}}if(isLineStart&&text.length>0){lineOffsets.push(text.length);}this._lineOffsets=lineOffsets;}return this._lineOffsets;};FullTextDocument2.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets();var low=0,high=lineOffsets.length;if(high===0){return Position.create(0,offset);}while(low<high){var mid=Math.floor((low+high)/2);if(lineOffsets[mid]>offset){high=mid;}else{low=mid+1;}}var line=low-1;return Position.create(line,offset-lineOffsets[line]);};FullTextDocument2.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length){return this._content.length;}else if(position.line<0){return 0;}var lineOffset=lineOffsets[position.line];var nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset);};Object.defineProperty(FullTextDocument2.prototype,"lineCount",{get:function get(){return this.getLineOffsets().length;},enumerable:false,configurable:true});return FullTextDocument2;}();var Is2;(function(Is3){var toString=Object.prototype.toString;function defined(value){return typeof value!=="undefined";}Is3.defined=defined;function undefined2(value){return typeof value==="undefined";}Is3.undefined=undefined2;function boolean(value){return value===true||value===false;}Is3.boolean=boolean;function string(value){return toString.call(value)==="[object String]";}Is3.string=string;function number(value){return toString.call(value)==="[object Number]";}Is3.number=number;function numberRange(value,min,max){return toString.call(value)==="[object Number]"&&min<=value&&value<=max;}Is3.numberRange=numberRange;function integer2(value){return toString.call(value)==="[object Number]"&&-2147483648<=value&&value<=2147483647;}Is3.integer=integer2;function uinteger2(value){return toString.call(value)==="[object Number]"&&0<=value&&value<=2147483647;}Is3.uinteger=uinteger2;function func(value){return toString.call(value)==="[object Function]";}Is3.func=func;function objectLiteral(value){return value!==null&&_typeof(value)==="object";}Is3.objectLiteral=objectLiteral;function typedArray(value,check){return Array.isArray(value)&&value.every(check);}Is3.typedArray=typedArray;})(Is2||(Is2={}));});}});// client/node_modules/vscode-languageserver-protocol/lib/common/messages.js
var require_messages2=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/messages.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonMessagesJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProtocolNotificationType=exports.ProtocolNotificationType0=exports.ProtocolRequestType=exports.ProtocolRequestType0=exports.RegistrationType=void 0;var vscode_jsonrpc_1=require_main();var RegistrationType=/*#__PURE__*/_createClass(function RegistrationType(method){_classCallCheck(this,RegistrationType);this.method=method;});exports.RegistrationType=RegistrationType;var ProtocolRequestType0=/*#__PURE__*/function(_vscode_jsonrpc_1$Req){_inherits(ProtocolRequestType0,_vscode_jsonrpc_1$Req);var _super32=_createSuper(ProtocolRequestType0);function ProtocolRequestType0(method){_classCallCheck(this,ProtocolRequestType0);return _super32.call(this,method);}return _createClass(ProtocolRequestType0);}(vscode_jsonrpc_1.RequestType0);exports.ProtocolRequestType0=ProtocolRequestType0;var ProtocolRequestType=/*#__PURE__*/function(_vscode_jsonrpc_1$Req2){_inherits(ProtocolRequestType,_vscode_jsonrpc_1$Req2);var _super33=_createSuper(ProtocolRequestType);function ProtocolRequestType(method){_classCallCheck(this,ProtocolRequestType);return _super33.call(this,method,vscode_jsonrpc_1.ParameterStructures.byName);}return _createClass(ProtocolRequestType);}(vscode_jsonrpc_1.RequestType);exports.ProtocolRequestType=ProtocolRequestType;var ProtocolNotificationType0=/*#__PURE__*/function(_vscode_jsonrpc_1$Not){_inherits(ProtocolNotificationType0,_vscode_jsonrpc_1$Not);var _super34=_createSuper(ProtocolNotificationType0);function ProtocolNotificationType0(method){_classCallCheck(this,ProtocolNotificationType0);return _super34.call(this,method);}return _createClass(ProtocolNotificationType0);}(vscode_jsonrpc_1.NotificationType0);exports.ProtocolNotificationType0=ProtocolNotificationType0;var ProtocolNotificationType=/*#__PURE__*/function(_vscode_jsonrpc_1$Not2){_inherits(ProtocolNotificationType,_vscode_jsonrpc_1$Not2);var _super35=_createSuper(ProtocolNotificationType);function ProtocolNotificationType(method){_classCallCheck(this,ProtocolNotificationType);return _super35.call(this,method,vscode_jsonrpc_1.ParameterStructures.byName);}return _createClass(ProtocolNotificationType);}(vscode_jsonrpc_1.NotificationType);exports.ProtocolNotificationType=ProtocolNotificationType;}});// client/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js
var require_is2=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonUtilsIsJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.objectLiteral=exports.typedArray=exports.stringArray=exports.array=exports.func=exports.error=exports.number=exports.string=exports.boolean=void 0;function boolean(value){return value===true||value===false;}exports.boolean=boolean;function string(value){return typeof value==="string"||value instanceof String;}exports.string=string;function number(value){return typeof value==="number"||value instanceof Number;}exports.number=number;function error(value){return value instanceof Error;}exports.error=error;function func(value){return typeof value==="function";}exports.func=func;function array(value){return Array.isArray(value);}exports.array=array;function stringArray(value){return array(value)&&value.every(function(elem){return string(elem);});}exports.stringArray=stringArray;function typedArray(value,check){return Array.isArray(value)&&value.every(check);}exports.typedArray=typedArray;function objectLiteral(value){return value!==null&&_typeof(value)==="object";}exports.objectLiteral=objectLiteral;}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js
var require_protocol_implementation=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolImplementationJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ImplementationRequest=void 0;var messages_1=require_messages2();var ImplementationRequest;(function(ImplementationRequest2){ImplementationRequest2.method="textDocument/implementation";ImplementationRequest2.type=new messages_1.ProtocolRequestType(ImplementationRequest2.method);})(ImplementationRequest=exports.ImplementationRequest||(exports.ImplementationRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js
var require_protocol_typeDefinition=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolTypeDefinitionJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeDefinitionRequest=void 0;var messages_1=require_messages2();var TypeDefinitionRequest;(function(TypeDefinitionRequest2){TypeDefinitionRequest2.method="textDocument/typeDefinition";TypeDefinitionRequest2.type=new messages_1.ProtocolRequestType(TypeDefinitionRequest2.method);})(TypeDefinitionRequest=exports.TypeDefinitionRequest||(exports.TypeDefinitionRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js
var require_protocol_workspaceFolders=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolders.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolWorkspaceFoldersJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DidChangeWorkspaceFoldersNotification=exports.WorkspaceFoldersRequest=void 0;var messages_1=require_messages2();var WorkspaceFoldersRequest;(function(WorkspaceFoldersRequest2){WorkspaceFoldersRequest2.type=new messages_1.ProtocolRequestType0("workspace/workspaceFolders");})(WorkspaceFoldersRequest=exports.WorkspaceFoldersRequest||(exports.WorkspaceFoldersRequest={}));var DidChangeWorkspaceFoldersNotification;(function(DidChangeWorkspaceFoldersNotification2){DidChangeWorkspaceFoldersNotification2.type=new messages_1.ProtocolNotificationType("workspace/didChangeWorkspaceFolders");})(DidChangeWorkspaceFoldersNotification=exports.DidChangeWorkspaceFoldersNotification||(exports.DidChangeWorkspaceFoldersNotification={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js
var require_protocol_configuration=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolConfigurationJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfigurationRequest=void 0;var messages_1=require_messages2();var ConfigurationRequest;(function(ConfigurationRequest2){ConfigurationRequest2.type=new messages_1.ProtocolRequestType("workspace/configuration");})(ConfigurationRequest=exports.ConfigurationRequest||(exports.ConfigurationRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js
var require_protocol_colorProvider=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolColorProviderJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorPresentationRequest=exports.DocumentColorRequest=void 0;var messages_1=require_messages2();var DocumentColorRequest;(function(DocumentColorRequest2){DocumentColorRequest2.method="textDocument/documentColor";DocumentColorRequest2.type=new messages_1.ProtocolRequestType(DocumentColorRequest2.method);})(DocumentColorRequest=exports.DocumentColorRequest||(exports.DocumentColorRequest={}));var ColorPresentationRequest;(function(ColorPresentationRequest2){ColorPresentationRequest2.type=new messages_1.ProtocolRequestType("textDocument/colorPresentation");})(ColorPresentationRequest=exports.ColorPresentationRequest||(exports.ColorPresentationRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js
var require_protocol_foldingRange=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolFoldingRangeJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FoldingRangeRequest=exports.FoldingRangeKind=void 0;var messages_1=require_messages2();var FoldingRangeKind;(function(FoldingRangeKind2){FoldingRangeKind2["Comment"]="comment";FoldingRangeKind2["Imports"]="imports";FoldingRangeKind2["Region"]="region";})(FoldingRangeKind=exports.FoldingRangeKind||(exports.FoldingRangeKind={}));var FoldingRangeRequest;(function(FoldingRangeRequest2){FoldingRangeRequest2.method="textDocument/foldingRange";FoldingRangeRequest2.type=new messages_1.ProtocolRequestType(FoldingRangeRequest2.method);})(FoldingRangeRequest=exports.FoldingRangeRequest||(exports.FoldingRangeRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js
var require_protocol_declaration=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolDeclarationJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeclarationRequest=void 0;var messages_1=require_messages2();var DeclarationRequest;(function(DeclarationRequest2){DeclarationRequest2.method="textDocument/declaration";DeclarationRequest2.type=new messages_1.ProtocolRequestType(DeclarationRequest2.method);})(DeclarationRequest=exports.DeclarationRequest||(exports.DeclarationRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js
var require_protocol_selectionRange=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolSelectionRangeJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SelectionRangeRequest=void 0;var messages_1=require_messages2();var SelectionRangeRequest;(function(SelectionRangeRequest2){SelectionRangeRequest2.method="textDocument/selectionRange";SelectionRangeRequest2.type=new messages_1.ProtocolRequestType(SelectionRangeRequest2.method);})(SelectionRangeRequest=exports.SelectionRangeRequest||(exports.SelectionRangeRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js
var require_protocol_progress=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolProgressJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WorkDoneProgressCancelNotification=exports.WorkDoneProgressCreateRequest=exports.WorkDoneProgress=void 0;var vscode_jsonrpc_1=require_main();var messages_1=require_messages2();var WorkDoneProgress;(function(WorkDoneProgress2){WorkDoneProgress2.type=new vscode_jsonrpc_1.ProgressType();function is2(value){return value===WorkDoneProgress2.type;}WorkDoneProgress2.is=is2;})(WorkDoneProgress=exports.WorkDoneProgress||(exports.WorkDoneProgress={}));var WorkDoneProgressCreateRequest;(function(WorkDoneProgressCreateRequest2){WorkDoneProgressCreateRequest2.type=new messages_1.ProtocolRequestType("window/workDoneProgress/create");})(WorkDoneProgressCreateRequest=exports.WorkDoneProgressCreateRequest||(exports.WorkDoneProgressCreateRequest={}));var WorkDoneProgressCancelNotification;(function(WorkDoneProgressCancelNotification2){WorkDoneProgressCancelNotification2.type=new messages_1.ProtocolNotificationType("window/workDoneProgress/cancel");})(WorkDoneProgressCancelNotification=exports.WorkDoneProgressCancelNotification||(exports.WorkDoneProgressCancelNotification={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js
var require_protocol_callHierarchy=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolCallHierarchyJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallHierarchyOutgoingCallsRequest=exports.CallHierarchyIncomingCallsRequest=exports.CallHierarchyPrepareRequest=void 0;var messages_1=require_messages2();var CallHierarchyPrepareRequest;(function(CallHierarchyPrepareRequest2){CallHierarchyPrepareRequest2.method="textDocument/prepareCallHierarchy";CallHierarchyPrepareRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest2.method);})(CallHierarchyPrepareRequest=exports.CallHierarchyPrepareRequest||(exports.CallHierarchyPrepareRequest={}));var CallHierarchyIncomingCallsRequest;(function(CallHierarchyIncomingCallsRequest2){CallHierarchyIncomingCallsRequest2.method="callHierarchy/incomingCalls";CallHierarchyIncomingCallsRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest2.method);})(CallHierarchyIncomingCallsRequest=exports.CallHierarchyIncomingCallsRequest||(exports.CallHierarchyIncomingCallsRequest={}));var CallHierarchyOutgoingCallsRequest;(function(CallHierarchyOutgoingCallsRequest2){CallHierarchyOutgoingCallsRequest2.method="callHierarchy/outgoingCalls";CallHierarchyOutgoingCallsRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest2.method);})(CallHierarchyOutgoingCallsRequest=exports.CallHierarchyOutgoingCallsRequest||(exports.CallHierarchyOutgoingCallsRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js
var require_protocol_semanticTokens=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolSemanticTokensJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SemanticTokensRefreshRequest=exports.SemanticTokensRangeRequest=exports.SemanticTokensDeltaRequest=exports.SemanticTokensRequest=exports.SemanticTokensRegistrationType=exports.TokenFormat=void 0;var messages_1=require_messages2();var TokenFormat;(function(TokenFormat2){TokenFormat2.Relative="relative";})(TokenFormat=exports.TokenFormat||(exports.TokenFormat={}));var SemanticTokensRegistrationType;(function(SemanticTokensRegistrationType2){SemanticTokensRegistrationType2.method="textDocument/semanticTokens";SemanticTokensRegistrationType2.type=new messages_1.RegistrationType(SemanticTokensRegistrationType2.method);})(SemanticTokensRegistrationType=exports.SemanticTokensRegistrationType||(exports.SemanticTokensRegistrationType={}));var SemanticTokensRequest;(function(SemanticTokensRequest2){SemanticTokensRequest2.method="textDocument/semanticTokens/full";SemanticTokensRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensRequest2.method);})(SemanticTokensRequest=exports.SemanticTokensRequest||(exports.SemanticTokensRequest={}));var SemanticTokensDeltaRequest;(function(SemanticTokensDeltaRequest2){SemanticTokensDeltaRequest2.method="textDocument/semanticTokens/full/delta";SemanticTokensDeltaRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest2.method);})(SemanticTokensDeltaRequest=exports.SemanticTokensDeltaRequest||(exports.SemanticTokensDeltaRequest={}));var SemanticTokensRangeRequest;(function(SemanticTokensRangeRequest2){SemanticTokensRangeRequest2.method="textDocument/semanticTokens/range";SemanticTokensRangeRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensRangeRequest2.method);})(SemanticTokensRangeRequest=exports.SemanticTokensRangeRequest||(exports.SemanticTokensRangeRequest={}));var SemanticTokensRefreshRequest;(function(SemanticTokensRefreshRequest2){SemanticTokensRefreshRequest2.method="workspace/semanticTokens/refresh";SemanticTokensRefreshRequest2.type=new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest2.method);})(SemanticTokensRefreshRequest=exports.SemanticTokensRefreshRequest||(exports.SemanticTokensRefreshRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js
var require_protocol_showDocument=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolShowDocumentJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowDocumentRequest=void 0;var messages_1=require_messages2();var ShowDocumentRequest;(function(ShowDocumentRequest2){ShowDocumentRequest2.method="window/showDocument";ShowDocumentRequest2.type=new messages_1.ProtocolRequestType(ShowDocumentRequest2.method);})(ShowDocumentRequest=exports.ShowDocumentRequest||(exports.ShowDocumentRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js
var require_protocol_linkedEditingRange=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolLinkedEditingRangeJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LinkedEditingRangeRequest=void 0;var messages_1=require_messages2();var LinkedEditingRangeRequest;(function(LinkedEditingRangeRequest2){LinkedEditingRangeRequest2.method="textDocument/linkedEditingRange";LinkedEditingRangeRequest2.type=new messages_1.ProtocolRequestType(LinkedEditingRangeRequest2.method);})(LinkedEditingRangeRequest=exports.LinkedEditingRangeRequest||(exports.LinkedEditingRangeRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js
var require_protocol_fileOperations=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolFileOperationsJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WillDeleteFilesRequest=exports.DidDeleteFilesNotification=exports.DidRenameFilesNotification=exports.WillRenameFilesRequest=exports.DidCreateFilesNotification=exports.WillCreateFilesRequest=exports.FileOperationPatternKind=void 0;var messages_1=require_messages2();var FileOperationPatternKind;(function(FileOperationPatternKind2){FileOperationPatternKind2.file="file";FileOperationPatternKind2.folder="folder";})(FileOperationPatternKind=exports.FileOperationPatternKind||(exports.FileOperationPatternKind={}));var WillCreateFilesRequest;(function(WillCreateFilesRequest2){WillCreateFilesRequest2.method="workspace/willCreateFiles";WillCreateFilesRequest2.type=new messages_1.ProtocolRequestType(WillCreateFilesRequest2.method);})(WillCreateFilesRequest=exports.WillCreateFilesRequest||(exports.WillCreateFilesRequest={}));var DidCreateFilesNotification;(function(DidCreateFilesNotification2){DidCreateFilesNotification2.method="workspace/didCreateFiles";DidCreateFilesNotification2.type=new messages_1.ProtocolNotificationType(DidCreateFilesNotification2.method);})(DidCreateFilesNotification=exports.DidCreateFilesNotification||(exports.DidCreateFilesNotification={}));var WillRenameFilesRequest;(function(WillRenameFilesRequest2){WillRenameFilesRequest2.method="workspace/willRenameFiles";WillRenameFilesRequest2.type=new messages_1.ProtocolRequestType(WillRenameFilesRequest2.method);})(WillRenameFilesRequest=exports.WillRenameFilesRequest||(exports.WillRenameFilesRequest={}));var DidRenameFilesNotification;(function(DidRenameFilesNotification2){DidRenameFilesNotification2.method="workspace/didRenameFiles";DidRenameFilesNotification2.type=new messages_1.ProtocolNotificationType(DidRenameFilesNotification2.method);})(DidRenameFilesNotification=exports.DidRenameFilesNotification||(exports.DidRenameFilesNotification={}));var DidDeleteFilesNotification;(function(DidDeleteFilesNotification2){DidDeleteFilesNotification2.method="workspace/didDeleteFiles";DidDeleteFilesNotification2.type=new messages_1.ProtocolNotificationType(DidDeleteFilesNotification2.method);})(DidDeleteFilesNotification=exports.DidDeleteFilesNotification||(exports.DidDeleteFilesNotification={}));var WillDeleteFilesRequest;(function(WillDeleteFilesRequest2){WillDeleteFilesRequest2.method="workspace/willDeleteFiles";WillDeleteFilesRequest2.type=new messages_1.ProtocolRequestType(WillDeleteFilesRequest2.method);})(WillDeleteFilesRequest=exports.WillDeleteFilesRequest||(exports.WillDeleteFilesRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js
var require_protocol_moniker=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolMonikerJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonikerRequest=exports.MonikerKind=exports.UniquenessLevel=void 0;var messages_1=require_messages2();var UniquenessLevel;(function(UniquenessLevel2){UniquenessLevel2["document"]="document";UniquenessLevel2["project"]="project";UniquenessLevel2["group"]="group";UniquenessLevel2["scheme"]="scheme";UniquenessLevel2["global"]="global";})(UniquenessLevel=exports.UniquenessLevel||(exports.UniquenessLevel={}));var MonikerKind;(function(MonikerKind2){MonikerKind2["import"]="import";MonikerKind2["export"]="export";MonikerKind2["local"]="local";})(MonikerKind=exports.MonikerKind||(exports.MonikerKind={}));var MonikerRequest;(function(MonikerRequest2){MonikerRequest2.method="textDocument/moniker";MonikerRequest2.type=new messages_1.ProtocolRequestType(MonikerRequest2.method);})(MonikerRequest=exports.MonikerRequest||(exports.MonikerRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/protocol.js
var require_protocol=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/protocol.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProtocolJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CodeLensRefreshRequest=exports.CodeLensResolveRequest=exports.CodeLensRequest=exports.WorkspaceSymbolResolveRequest=exports.WorkspaceSymbolRequest=exports.CodeActionResolveRequest=exports.CodeActionRequest=exports.DocumentSymbolRequest=exports.DocumentHighlightRequest=exports.ReferencesRequest=exports.DefinitionRequest=exports.SignatureHelpRequest=exports.SignatureHelpTriggerKind=exports.HoverRequest=exports.CompletionResolveRequest=exports.CompletionRequest=exports.CompletionTriggerKind=exports.PublishDiagnosticsNotification=exports.WatchKind=exports.FileChangeType=exports.DidChangeWatchedFilesNotification=exports.WillSaveTextDocumentWaitUntilRequest=exports.WillSaveTextDocumentNotification=exports.TextDocumentSaveReason=exports.DidSaveTextDocumentNotification=exports.DidCloseTextDocumentNotification=exports.DidChangeTextDocumentNotification=exports.TextDocumentContentChangeEvent=exports.DidOpenTextDocumentNotification=exports.TextDocumentSyncKind=exports.TelemetryEventNotification=exports.LogMessageNotification=exports.ShowMessageRequest=exports.ShowMessageNotification=exports.MessageType=exports.DidChangeConfigurationNotification=exports.ExitNotification=exports.ShutdownRequest=exports.InitializedNotification=exports.InitializeError=exports.InitializeRequest=exports.WorkDoneProgressOptions=exports.TextDocumentRegistrationOptions=exports.StaticRegistrationOptions=exports.FailureHandlingKind=exports.ResourceOperationKind=exports.UnregistrationRequest=exports.RegistrationRequest=exports.DocumentSelector=exports.DocumentFilter=void 0;exports.MonikerRequest=exports.MonikerKind=exports.UniquenessLevel=exports.WillDeleteFilesRequest=exports.DidDeleteFilesNotification=exports.WillRenameFilesRequest=exports.DidRenameFilesNotification=exports.WillCreateFilesRequest=exports.DidCreateFilesNotification=exports.FileOperationPatternKind=exports.LinkedEditingRangeRequest=exports.ShowDocumentRequest=exports.SemanticTokensRegistrationType=exports.SemanticTokensRefreshRequest=exports.SemanticTokensRangeRequest=exports.SemanticTokensDeltaRequest=exports.SemanticTokensRequest=exports.TokenFormat=exports.CallHierarchyPrepareRequest=exports.CallHierarchyOutgoingCallsRequest=exports.CallHierarchyIncomingCallsRequest=exports.WorkDoneProgressCancelNotification=exports.WorkDoneProgressCreateRequest=exports.WorkDoneProgress=exports.SelectionRangeRequest=exports.DeclarationRequest=exports.FoldingRangeRequest=exports.ColorPresentationRequest=exports.DocumentColorRequest=exports.ConfigurationRequest=exports.DidChangeWorkspaceFoldersNotification=exports.WorkspaceFoldersRequest=exports.TypeDefinitionRequest=exports.ImplementationRequest=exports.ApplyWorkspaceEditRequest=exports.ExecuteCommandRequest=exports.PrepareRenameRequest=exports.RenameRequest=exports.PrepareSupportDefaultBehavior=exports.DocumentOnTypeFormattingRequest=exports.DocumentRangeFormattingRequest=exports.DocumentFormattingRequest=exports.DocumentLinkResolveRequest=exports.DocumentLinkRequest=void 0;var messages_1=require_messages2();var Is2=require_is2();var protocol_implementation_1=require_protocol_implementation();Object.defineProperty(exports,"ImplementationRequest",{enumerable:true,get:function get(){return protocol_implementation_1.ImplementationRequest;}});var protocol_typeDefinition_1=require_protocol_typeDefinition();Object.defineProperty(exports,"TypeDefinitionRequest",{enumerable:true,get:function get(){return protocol_typeDefinition_1.TypeDefinitionRequest;}});var protocol_workspaceFolders_1=require_protocol_workspaceFolders();Object.defineProperty(exports,"WorkspaceFoldersRequest",{enumerable:true,get:function get(){return protocol_workspaceFolders_1.WorkspaceFoldersRequest;}});Object.defineProperty(exports,"DidChangeWorkspaceFoldersNotification",{enumerable:true,get:function get(){return protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;}});var protocol_configuration_1=require_protocol_configuration();Object.defineProperty(exports,"ConfigurationRequest",{enumerable:true,get:function get(){return protocol_configuration_1.ConfigurationRequest;}});var protocol_colorProvider_1=require_protocol_colorProvider();Object.defineProperty(exports,"DocumentColorRequest",{enumerable:true,get:function get(){return protocol_colorProvider_1.DocumentColorRequest;}});Object.defineProperty(exports,"ColorPresentationRequest",{enumerable:true,get:function get(){return protocol_colorProvider_1.ColorPresentationRequest;}});var protocol_foldingRange_1=require_protocol_foldingRange();Object.defineProperty(exports,"FoldingRangeRequest",{enumerable:true,get:function get(){return protocol_foldingRange_1.FoldingRangeRequest;}});var protocol_declaration_1=require_protocol_declaration();Object.defineProperty(exports,"DeclarationRequest",{enumerable:true,get:function get(){return protocol_declaration_1.DeclarationRequest;}});var protocol_selectionRange_1=require_protocol_selectionRange();Object.defineProperty(exports,"SelectionRangeRequest",{enumerable:true,get:function get(){return protocol_selectionRange_1.SelectionRangeRequest;}});var protocol_progress_1=require_protocol_progress();Object.defineProperty(exports,"WorkDoneProgress",{enumerable:true,get:function get(){return protocol_progress_1.WorkDoneProgress;}});Object.defineProperty(exports,"WorkDoneProgressCreateRequest",{enumerable:true,get:function get(){return protocol_progress_1.WorkDoneProgressCreateRequest;}});Object.defineProperty(exports,"WorkDoneProgressCancelNotification",{enumerable:true,get:function get(){return protocol_progress_1.WorkDoneProgressCancelNotification;}});var protocol_callHierarchy_1=require_protocol_callHierarchy();Object.defineProperty(exports,"CallHierarchyIncomingCallsRequest",{enumerable:true,get:function get(){return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest;}});Object.defineProperty(exports,"CallHierarchyOutgoingCallsRequest",{enumerable:true,get:function get(){return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest;}});Object.defineProperty(exports,"CallHierarchyPrepareRequest",{enumerable:true,get:function get(){return protocol_callHierarchy_1.CallHierarchyPrepareRequest;}});var protocol_semanticTokens_1=require_protocol_semanticTokens();Object.defineProperty(exports,"TokenFormat",{enumerable:true,get:function get(){return protocol_semanticTokens_1.TokenFormat;}});Object.defineProperty(exports,"SemanticTokensRequest",{enumerable:true,get:function get(){return protocol_semanticTokens_1.SemanticTokensRequest;}});Object.defineProperty(exports,"SemanticTokensDeltaRequest",{enumerable:true,get:function get(){return protocol_semanticTokens_1.SemanticTokensDeltaRequest;}});Object.defineProperty(exports,"SemanticTokensRangeRequest",{enumerable:true,get:function get(){return protocol_semanticTokens_1.SemanticTokensRangeRequest;}});Object.defineProperty(exports,"SemanticTokensRefreshRequest",{enumerable:true,get:function get(){return protocol_semanticTokens_1.SemanticTokensRefreshRequest;}});Object.defineProperty(exports,"SemanticTokensRegistrationType",{enumerable:true,get:function get(){return protocol_semanticTokens_1.SemanticTokensRegistrationType;}});var protocol_showDocument_1=require_protocol_showDocument();Object.defineProperty(exports,"ShowDocumentRequest",{enumerable:true,get:function get(){return protocol_showDocument_1.ShowDocumentRequest;}});var protocol_linkedEditingRange_1=require_protocol_linkedEditingRange();Object.defineProperty(exports,"LinkedEditingRangeRequest",{enumerable:true,get:function get(){return protocol_linkedEditingRange_1.LinkedEditingRangeRequest;}});var protocol_fileOperations_1=require_protocol_fileOperations();Object.defineProperty(exports,"FileOperationPatternKind",{enumerable:true,get:function get(){return protocol_fileOperations_1.FileOperationPatternKind;}});Object.defineProperty(exports,"DidCreateFilesNotification",{enumerable:true,get:function get(){return protocol_fileOperations_1.DidCreateFilesNotification;}});Object.defineProperty(exports,"WillCreateFilesRequest",{enumerable:true,get:function get(){return protocol_fileOperations_1.WillCreateFilesRequest;}});Object.defineProperty(exports,"DidRenameFilesNotification",{enumerable:true,get:function get(){return protocol_fileOperations_1.DidRenameFilesNotification;}});Object.defineProperty(exports,"WillRenameFilesRequest",{enumerable:true,get:function get(){return protocol_fileOperations_1.WillRenameFilesRequest;}});Object.defineProperty(exports,"DidDeleteFilesNotification",{enumerable:true,get:function get(){return protocol_fileOperations_1.DidDeleteFilesNotification;}});Object.defineProperty(exports,"WillDeleteFilesRequest",{enumerable:true,get:function get(){return protocol_fileOperations_1.WillDeleteFilesRequest;}});var protocol_moniker_1=require_protocol_moniker();Object.defineProperty(exports,"UniquenessLevel",{enumerable:true,get:function get(){return protocol_moniker_1.UniquenessLevel;}});Object.defineProperty(exports,"MonikerKind",{enumerable:true,get:function get(){return protocol_moniker_1.MonikerKind;}});Object.defineProperty(exports,"MonikerRequest",{enumerable:true,get:function get(){return protocol_moniker_1.MonikerRequest;}});var DocumentFilter;(function(DocumentFilter2){function is2(value){var candidate=value;return Is2.string(candidate.language)||Is2.string(candidate.scheme)||Is2.string(candidate.pattern);}DocumentFilter2.is=is2;})(DocumentFilter=exports.DocumentFilter||(exports.DocumentFilter={}));var DocumentSelector;(function(DocumentSelector2){function is2(value){if(!Array.isArray(value)){return false;}var _iterator8=_createForOfIteratorHelper(value),_step5;try{for(_iterator8.s();!(_step5=_iterator8.n()).done;){var elem=_step5.value;if(!Is2.string(elem)&&!DocumentFilter.is(elem)){return false;}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}return true;}DocumentSelector2.is=is2;})(DocumentSelector=exports.DocumentSelector||(exports.DocumentSelector={}));var RegistrationRequest;(function(RegistrationRequest2){RegistrationRequest2.type=new messages_1.ProtocolRequestType("client/registerCapability");})(RegistrationRequest=exports.RegistrationRequest||(exports.RegistrationRequest={}));var UnregistrationRequest;(function(UnregistrationRequest2){UnregistrationRequest2.type=new messages_1.ProtocolRequestType("client/unregisterCapability");})(UnregistrationRequest=exports.UnregistrationRequest||(exports.UnregistrationRequest={}));var ResourceOperationKind;(function(ResourceOperationKind2){ResourceOperationKind2.Create="create";ResourceOperationKind2.Rename="rename";ResourceOperationKind2.Delete="delete";})(ResourceOperationKind=exports.ResourceOperationKind||(exports.ResourceOperationKind={}));var FailureHandlingKind;(function(FailureHandlingKind2){FailureHandlingKind2.Abort="abort";FailureHandlingKind2.Transactional="transactional";FailureHandlingKind2.TextOnlyTransactional="textOnlyTransactional";FailureHandlingKind2.Undo="undo";})(FailureHandlingKind=exports.FailureHandlingKind||(exports.FailureHandlingKind={}));var StaticRegistrationOptions;(function(StaticRegistrationOptions2){function hasId(value){var candidate=value;return candidate&&Is2.string(candidate.id)&&candidate.id.length>0;}StaticRegistrationOptions2.hasId=hasId;})(StaticRegistrationOptions=exports.StaticRegistrationOptions||(exports.StaticRegistrationOptions={}));var TextDocumentRegistrationOptions;(function(TextDocumentRegistrationOptions2){function is2(value){var candidate=value;return candidate&&(candidate.documentSelector===null||DocumentSelector.is(candidate.documentSelector));}TextDocumentRegistrationOptions2.is=is2;})(TextDocumentRegistrationOptions=exports.TextDocumentRegistrationOptions||(exports.TextDocumentRegistrationOptions={}));var WorkDoneProgressOptions;(function(WorkDoneProgressOptions2){function is2(value){var candidate=value;return Is2.objectLiteral(candidate)&&(candidate.workDoneProgress===void 0||Is2.boolean(candidate.workDoneProgress));}WorkDoneProgressOptions2.is=is2;function hasWorkDoneProgress(value){var candidate=value;return candidate&&Is2.boolean(candidate.workDoneProgress);}WorkDoneProgressOptions2.hasWorkDoneProgress=hasWorkDoneProgress;})(WorkDoneProgressOptions=exports.WorkDoneProgressOptions||(exports.WorkDoneProgressOptions={}));var InitializeRequest;(function(InitializeRequest2){InitializeRequest2.type=new messages_1.ProtocolRequestType("initialize");})(InitializeRequest=exports.InitializeRequest||(exports.InitializeRequest={}));var InitializeError;(function(InitializeError2){InitializeError2.unknownProtocolVersion=1;})(InitializeError=exports.InitializeError||(exports.InitializeError={}));var InitializedNotification;(function(InitializedNotification2){InitializedNotification2.type=new messages_1.ProtocolNotificationType("initialized");})(InitializedNotification=exports.InitializedNotification||(exports.InitializedNotification={}));var ShutdownRequest;(function(ShutdownRequest2){ShutdownRequest2.type=new messages_1.ProtocolRequestType0("shutdown");})(ShutdownRequest=exports.ShutdownRequest||(exports.ShutdownRequest={}));var ExitNotification;(function(ExitNotification2){ExitNotification2.type=new messages_1.ProtocolNotificationType0("exit");})(ExitNotification=exports.ExitNotification||(exports.ExitNotification={}));var DidChangeConfigurationNotification;(function(DidChangeConfigurationNotification2){DidChangeConfigurationNotification2.type=new messages_1.ProtocolNotificationType("workspace/didChangeConfiguration");})(DidChangeConfigurationNotification=exports.DidChangeConfigurationNotification||(exports.DidChangeConfigurationNotification={}));var MessageType;(function(MessageType2){MessageType2.Error=1;MessageType2.Warning=2;MessageType2.Info=3;MessageType2.Log=4;})(MessageType=exports.MessageType||(exports.MessageType={}));var ShowMessageNotification;(function(ShowMessageNotification2){ShowMessageNotification2.type=new messages_1.ProtocolNotificationType("window/showMessage");})(ShowMessageNotification=exports.ShowMessageNotification||(exports.ShowMessageNotification={}));var ShowMessageRequest;(function(ShowMessageRequest2){ShowMessageRequest2.type=new messages_1.ProtocolRequestType("window/showMessageRequest");})(ShowMessageRequest=exports.ShowMessageRequest||(exports.ShowMessageRequest={}));var LogMessageNotification;(function(LogMessageNotification2){LogMessageNotification2.type=new messages_1.ProtocolNotificationType("window/logMessage");})(LogMessageNotification=exports.LogMessageNotification||(exports.LogMessageNotification={}));var TelemetryEventNotification;(function(TelemetryEventNotification2){TelemetryEventNotification2.type=new messages_1.ProtocolNotificationType("telemetry/event");})(TelemetryEventNotification=exports.TelemetryEventNotification||(exports.TelemetryEventNotification={}));var TextDocumentSyncKind;(function(TextDocumentSyncKind2){TextDocumentSyncKind2.None=0;TextDocumentSyncKind2.Full=1;TextDocumentSyncKind2.Incremental=2;})(TextDocumentSyncKind=exports.TextDocumentSyncKind||(exports.TextDocumentSyncKind={}));var DidOpenTextDocumentNotification;(function(DidOpenTextDocumentNotification2){DidOpenTextDocumentNotification2.method="textDocument/didOpen";DidOpenTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification2.method);})(DidOpenTextDocumentNotification=exports.DidOpenTextDocumentNotification||(exports.DidOpenTextDocumentNotification={}));var TextDocumentContentChangeEvent;(function(TextDocumentContentChangeEvent2){function isIncremental(event){var candidate=event;return candidate!==void 0&&candidate!==null&&typeof candidate.text==="string"&&candidate.range!==void 0&&(candidate.rangeLength===void 0||typeof candidate.rangeLength==="number");}TextDocumentContentChangeEvent2.isIncremental=isIncremental;function isFull(event){var candidate=event;return candidate!==void 0&&candidate!==null&&typeof candidate.text==="string"&&candidate.range===void 0&&candidate.rangeLength===void 0;}TextDocumentContentChangeEvent2.isFull=isFull;})(TextDocumentContentChangeEvent=exports.TextDocumentContentChangeEvent||(exports.TextDocumentContentChangeEvent={}));var DidChangeTextDocumentNotification;(function(DidChangeTextDocumentNotification2){DidChangeTextDocumentNotification2.method="textDocument/didChange";DidChangeTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification2.method);})(DidChangeTextDocumentNotification=exports.DidChangeTextDocumentNotification||(exports.DidChangeTextDocumentNotification={}));var DidCloseTextDocumentNotification;(function(DidCloseTextDocumentNotification2){DidCloseTextDocumentNotification2.method="textDocument/didClose";DidCloseTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification2.method);})(DidCloseTextDocumentNotification=exports.DidCloseTextDocumentNotification||(exports.DidCloseTextDocumentNotification={}));var DidSaveTextDocumentNotification;(function(DidSaveTextDocumentNotification2){DidSaveTextDocumentNotification2.method="textDocument/didSave";DidSaveTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification2.method);})(DidSaveTextDocumentNotification=exports.DidSaveTextDocumentNotification||(exports.DidSaveTextDocumentNotification={}));var TextDocumentSaveReason;(function(TextDocumentSaveReason2){TextDocumentSaveReason2.Manual=1;TextDocumentSaveReason2.AfterDelay=2;TextDocumentSaveReason2.FocusOut=3;})(TextDocumentSaveReason=exports.TextDocumentSaveReason||(exports.TextDocumentSaveReason={}));var WillSaveTextDocumentNotification;(function(WillSaveTextDocumentNotification2){WillSaveTextDocumentNotification2.method="textDocument/willSave";WillSaveTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification2.method);})(WillSaveTextDocumentNotification=exports.WillSaveTextDocumentNotification||(exports.WillSaveTextDocumentNotification={}));var WillSaveTextDocumentWaitUntilRequest;(function(WillSaveTextDocumentWaitUntilRequest2){WillSaveTextDocumentWaitUntilRequest2.method="textDocument/willSaveWaitUntil";WillSaveTextDocumentWaitUntilRequest2.type=new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest2.method);})(WillSaveTextDocumentWaitUntilRequest=exports.WillSaveTextDocumentWaitUntilRequest||(exports.WillSaveTextDocumentWaitUntilRequest={}));var DidChangeWatchedFilesNotification;(function(DidChangeWatchedFilesNotification2){DidChangeWatchedFilesNotification2.type=new messages_1.ProtocolNotificationType("workspace/didChangeWatchedFiles");})(DidChangeWatchedFilesNotification=exports.DidChangeWatchedFilesNotification||(exports.DidChangeWatchedFilesNotification={}));var FileChangeType;(function(FileChangeType2){FileChangeType2.Created=1;FileChangeType2.Changed=2;FileChangeType2.Deleted=3;})(FileChangeType=exports.FileChangeType||(exports.FileChangeType={}));var WatchKind;(function(WatchKind2){WatchKind2.Create=1;WatchKind2.Change=2;WatchKind2.Delete=4;})(WatchKind=exports.WatchKind||(exports.WatchKind={}));var PublishDiagnosticsNotification;(function(PublishDiagnosticsNotification2){PublishDiagnosticsNotification2.type=new messages_1.ProtocolNotificationType("textDocument/publishDiagnostics");})(PublishDiagnosticsNotification=exports.PublishDiagnosticsNotification||(exports.PublishDiagnosticsNotification={}));var CompletionTriggerKind;(function(CompletionTriggerKind2){CompletionTriggerKind2.Invoked=1;CompletionTriggerKind2.TriggerCharacter=2;CompletionTriggerKind2.TriggerForIncompleteCompletions=3;})(CompletionTriggerKind=exports.CompletionTriggerKind||(exports.CompletionTriggerKind={}));var CompletionRequest;(function(CompletionRequest2){CompletionRequest2.method="textDocument/completion";CompletionRequest2.type=new messages_1.ProtocolRequestType(CompletionRequest2.method);})(CompletionRequest=exports.CompletionRequest||(exports.CompletionRequest={}));var CompletionResolveRequest;(function(CompletionResolveRequest2){CompletionResolveRequest2.method="completionItem/resolve";CompletionResolveRequest2.type=new messages_1.ProtocolRequestType(CompletionResolveRequest2.method);})(CompletionResolveRequest=exports.CompletionResolveRequest||(exports.CompletionResolveRequest={}));var HoverRequest;(function(HoverRequest2){HoverRequest2.method="textDocument/hover";HoverRequest2.type=new messages_1.ProtocolRequestType(HoverRequest2.method);})(HoverRequest=exports.HoverRequest||(exports.HoverRequest={}));var SignatureHelpTriggerKind;(function(SignatureHelpTriggerKind2){SignatureHelpTriggerKind2.Invoked=1;SignatureHelpTriggerKind2.TriggerCharacter=2;SignatureHelpTriggerKind2.ContentChange=3;})(SignatureHelpTriggerKind=exports.SignatureHelpTriggerKind||(exports.SignatureHelpTriggerKind={}));var SignatureHelpRequest;(function(SignatureHelpRequest2){SignatureHelpRequest2.method="textDocument/signatureHelp";SignatureHelpRequest2.type=new messages_1.ProtocolRequestType(SignatureHelpRequest2.method);})(SignatureHelpRequest=exports.SignatureHelpRequest||(exports.SignatureHelpRequest={}));var DefinitionRequest;(function(DefinitionRequest2){DefinitionRequest2.method="textDocument/definition";DefinitionRequest2.type=new messages_1.ProtocolRequestType(DefinitionRequest2.method);})(DefinitionRequest=exports.DefinitionRequest||(exports.DefinitionRequest={}));var ReferencesRequest;(function(ReferencesRequest2){ReferencesRequest2.method="textDocument/references";ReferencesRequest2.type=new messages_1.ProtocolRequestType(ReferencesRequest2.method);})(ReferencesRequest=exports.ReferencesRequest||(exports.ReferencesRequest={}));var DocumentHighlightRequest;(function(DocumentHighlightRequest2){DocumentHighlightRequest2.method="textDocument/documentHighlight";DocumentHighlightRequest2.type=new messages_1.ProtocolRequestType(DocumentHighlightRequest2.method);})(DocumentHighlightRequest=exports.DocumentHighlightRequest||(exports.DocumentHighlightRequest={}));var DocumentSymbolRequest;(function(DocumentSymbolRequest2){DocumentSymbolRequest2.method="textDocument/documentSymbol";DocumentSymbolRequest2.type=new messages_1.ProtocolRequestType(DocumentSymbolRequest2.method);})(DocumentSymbolRequest=exports.DocumentSymbolRequest||(exports.DocumentSymbolRequest={}));var CodeActionRequest;(function(CodeActionRequest2){CodeActionRequest2.method="textDocument/codeAction";CodeActionRequest2.type=new messages_1.ProtocolRequestType(CodeActionRequest2.method);})(CodeActionRequest=exports.CodeActionRequest||(exports.CodeActionRequest={}));var CodeActionResolveRequest;(function(CodeActionResolveRequest2){CodeActionResolveRequest2.method="codeAction/resolve";CodeActionResolveRequest2.type=new messages_1.ProtocolRequestType(CodeActionResolveRequest2.method);})(CodeActionResolveRequest=exports.CodeActionResolveRequest||(exports.CodeActionResolveRequest={}));var WorkspaceSymbolRequest;(function(WorkspaceSymbolRequest2){WorkspaceSymbolRequest2.method="workspace/symbol";WorkspaceSymbolRequest2.type=new messages_1.ProtocolRequestType(WorkspaceSymbolRequest2.method);})(WorkspaceSymbolRequest=exports.WorkspaceSymbolRequest||(exports.WorkspaceSymbolRequest={}));var WorkspaceSymbolResolveRequest;(function(WorkspaceSymbolResolveRequest2){WorkspaceSymbolResolveRequest2.method="workspaceSymbol/resolve";WorkspaceSymbolResolveRequest2.type=new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest2.method);})(WorkspaceSymbolResolveRequest=exports.WorkspaceSymbolResolveRequest||(exports.WorkspaceSymbolResolveRequest={}));var CodeLensRequest;(function(CodeLensRequest2){CodeLensRequest2.method="textDocument/codeLens";CodeLensRequest2.type=new messages_1.ProtocolRequestType(CodeLensRequest2.method);})(CodeLensRequest=exports.CodeLensRequest||(exports.CodeLensRequest={}));var CodeLensResolveRequest;(function(CodeLensResolveRequest2){CodeLensResolveRequest2.method="codeLens/resolve";CodeLensResolveRequest2.type=new messages_1.ProtocolRequestType(CodeLensResolveRequest2.method);})(CodeLensResolveRequest=exports.CodeLensResolveRequest||(exports.CodeLensResolveRequest={}));var CodeLensRefreshRequest;(function(CodeLensRefreshRequest2){CodeLensRefreshRequest2.method="workspace/codeLens/refresh";CodeLensRefreshRequest2.type=new messages_1.ProtocolRequestType0(CodeLensRefreshRequest2.method);})(CodeLensRefreshRequest=exports.CodeLensRefreshRequest||(exports.CodeLensRefreshRequest={}));var DocumentLinkRequest;(function(DocumentLinkRequest2){DocumentLinkRequest2.method="textDocument/documentLink";DocumentLinkRequest2.type=new messages_1.ProtocolRequestType(DocumentLinkRequest2.method);})(DocumentLinkRequest=exports.DocumentLinkRequest||(exports.DocumentLinkRequest={}));var DocumentLinkResolveRequest;(function(DocumentLinkResolveRequest2){DocumentLinkResolveRequest2.method="documentLink/resolve";DocumentLinkResolveRequest2.type=new messages_1.ProtocolRequestType(DocumentLinkResolveRequest2.method);})(DocumentLinkResolveRequest=exports.DocumentLinkResolveRequest||(exports.DocumentLinkResolveRequest={}));var DocumentFormattingRequest;(function(DocumentFormattingRequest2){DocumentFormattingRequest2.method="textDocument/formatting";DocumentFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentFormattingRequest2.method);})(DocumentFormattingRequest=exports.DocumentFormattingRequest||(exports.DocumentFormattingRequest={}));var DocumentRangeFormattingRequest;(function(DocumentRangeFormattingRequest2){DocumentRangeFormattingRequest2.method="textDocument/rangeFormatting";DocumentRangeFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest2.method);})(DocumentRangeFormattingRequest=exports.DocumentRangeFormattingRequest||(exports.DocumentRangeFormattingRequest={}));var DocumentOnTypeFormattingRequest;(function(DocumentOnTypeFormattingRequest2){DocumentOnTypeFormattingRequest2.method="textDocument/onTypeFormatting";DocumentOnTypeFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest2.method);})(DocumentOnTypeFormattingRequest=exports.DocumentOnTypeFormattingRequest||(exports.DocumentOnTypeFormattingRequest={}));var PrepareSupportDefaultBehavior;(function(PrepareSupportDefaultBehavior2){PrepareSupportDefaultBehavior2.Identifier=1;})(PrepareSupportDefaultBehavior=exports.PrepareSupportDefaultBehavior||(exports.PrepareSupportDefaultBehavior={}));var RenameRequest;(function(RenameRequest2){RenameRequest2.method="textDocument/rename";RenameRequest2.type=new messages_1.ProtocolRequestType(RenameRequest2.method);})(RenameRequest=exports.RenameRequest||(exports.RenameRequest={}));var PrepareRenameRequest;(function(PrepareRenameRequest2){PrepareRenameRequest2.method="textDocument/prepareRename";PrepareRenameRequest2.type=new messages_1.ProtocolRequestType(PrepareRenameRequest2.method);})(PrepareRenameRequest=exports.PrepareRenameRequest||(exports.PrepareRenameRequest={}));var ExecuteCommandRequest;(function(ExecuteCommandRequest2){ExecuteCommandRequest2.type=new messages_1.ProtocolRequestType("workspace/executeCommand");})(ExecuteCommandRequest=exports.ExecuteCommandRequest||(exports.ExecuteCommandRequest={}));var ApplyWorkspaceEditRequest;(function(ApplyWorkspaceEditRequest2){ApplyWorkspaceEditRequest2.type=new messages_1.ProtocolRequestType("workspace/applyEdit");})(ApplyWorkspaceEditRequest=exports.ApplyWorkspaceEditRequest||(exports.ApplyWorkspaceEditRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/connection.js
var require_connection2=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/connection.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonConnectionJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createProtocolConnection=void 0;var vscode_jsonrpc_1=require_main();function createProtocolConnection(input,output,logger,options){if(vscode_jsonrpc_1.ConnectionStrategy.is(options)){options={connectionStrategy:options};}return(0,vscode_jsonrpc_1.createMessageConnection)(input,output,logger,options);}exports.createProtocolConnection=createProtocolConnection;}});// client/node_modules/vscode-languageserver-protocol/lib/common/proposed.diagnostic.js
var require_proposed_diagnostic=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/proposed.diagnostic.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProposedDiagnosticJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiagnosticRefreshRequest=exports.WorkspaceDiagnosticRequest=exports.DocumentDiagnosticRequest=exports.DocumentDiagnosticReportKind=exports.DiagnosticServerCancellationData=void 0;var vscode_jsonrpc_1=require_main();var Is2=require_is2();var messages_1=require_messages2();var DiagnosticServerCancellationData;(function(DiagnosticServerCancellationData2){function is2(value){var candidate=value;return candidate&&Is2.boolean(candidate.retriggerRequest);}DiagnosticServerCancellationData2.is=is2;})(DiagnosticServerCancellationData=exports.DiagnosticServerCancellationData||(exports.DiagnosticServerCancellationData={}));var DocumentDiagnosticReportKind;(function(DocumentDiagnosticReportKind2){DocumentDiagnosticReportKind2["full"]="full";DocumentDiagnosticReportKind2["unChanged"]="unChanged";})(DocumentDiagnosticReportKind=exports.DocumentDiagnosticReportKind||(exports.DocumentDiagnosticReportKind={}));var DocumentDiagnosticRequest;(function(DocumentDiagnosticRequest2){DocumentDiagnosticRequest2.method="textDocument/diagnostic";DocumentDiagnosticRequest2.type=new messages_1.ProtocolRequestType(DocumentDiagnosticRequest2.method);DocumentDiagnosticRequest2.partialResult=new vscode_jsonrpc_1.ProgressType();})(DocumentDiagnosticRequest=exports.DocumentDiagnosticRequest||(exports.DocumentDiagnosticRequest={}));var WorkspaceDiagnosticRequest;(function(WorkspaceDiagnosticRequest2){WorkspaceDiagnosticRequest2.method="workspace/diagnostic";WorkspaceDiagnosticRequest2.type=new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest2.method);WorkspaceDiagnosticRequest2.partialResult=new vscode_jsonrpc_1.ProgressType();})(WorkspaceDiagnosticRequest=exports.WorkspaceDiagnosticRequest||(exports.WorkspaceDiagnosticRequest={}));var DiagnosticRefreshRequest;(function(DiagnosticRefreshRequest2){DiagnosticRefreshRequest2.method="workspace/diagnostic/refresh";DiagnosticRefreshRequest2.type=new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest2.method);})(DiagnosticRefreshRequest=exports.DiagnosticRefreshRequest||(exports.DiagnosticRefreshRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/proposed.typeHierarchy.js
var require_proposed_typeHierarchy=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/proposed.typeHierarchy.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProposedTypeHierarchyJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeHierarchySubtypesRequest=exports.TypeHierarchySupertypesRequest=exports.TypeHierarchyPrepareRequest=void 0;var messages_1=require_messages2();var TypeHierarchyPrepareRequest;(function(TypeHierarchyPrepareRequest2){TypeHierarchyPrepareRequest2.method="textDocument/prepareTypeHierarchy";TypeHierarchyPrepareRequest2.type=new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest2.method);})(TypeHierarchyPrepareRequest=exports.TypeHierarchyPrepareRequest||(exports.TypeHierarchyPrepareRequest={}));var TypeHierarchySupertypesRequest;(function(TypeHierarchySupertypesRequest2){TypeHierarchySupertypesRequest2.method="typeHierarchy/supertypes";TypeHierarchySupertypesRequest2.type=new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest2.method);})(TypeHierarchySupertypesRequest=exports.TypeHierarchySupertypesRequest||(exports.TypeHierarchySupertypesRequest={}));var TypeHierarchySubtypesRequest;(function(TypeHierarchySubtypesRequest2){TypeHierarchySubtypesRequest2.method="typeHierarchy/subtypes";TypeHierarchySubtypesRequest2.type=new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest2.method);})(TypeHierarchySubtypesRequest=exports.TypeHierarchySubtypesRequest||(exports.TypeHierarchySubtypesRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/proposed.inlineValue.js
var require_proposed_inlineValue=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/proposed.inlineValue.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonProposedInlineValueJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InlineValuesRefreshRequest=exports.InlineValuesRequest=void 0;var messages_1=require_messages2();var InlineValuesRequest;(function(InlineValuesRequest2){InlineValuesRequest2.method="textDocument/inlineValues";InlineValuesRequest2.type=new messages_1.ProtocolRequestType(InlineValuesRequest2.method);})(InlineValuesRequest=exports.InlineValuesRequest||(exports.InlineValuesRequest={}));var InlineValuesRefreshRequest;(function(InlineValuesRefreshRequest2){InlineValuesRefreshRequest2.method="workspace/inlineValues/refresh";InlineValuesRefreshRequest2.type=new messages_1.ProtocolRequestType0(InlineValuesRefreshRequest2.method);})(InlineValuesRefreshRequest=exports.InlineValuesRefreshRequest||(exports.InlineValuesRefreshRequest={}));}});// client/node_modules/vscode-languageserver-protocol/lib/common/api.js
var require_api2=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/common/api.js":function clientNode_modulesVscodeLanguageserverProtocolLibCommonApiJs(exports){"use strict";var __createBinding2=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k];}});}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k];});var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m){if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding2(exports2,m,p);}};Object.defineProperty(exports,"__esModule",{value:true});exports.Proposed=exports.LSPErrorCodes=exports.createProtocolConnection=void 0;__exportStar(require_main(),exports);__exportStar(require_main2(),exports);__exportStar(require_messages2(),exports);__exportStar(require_protocol(),exports);var connection_1=require_connection2();Object.defineProperty(exports,"createProtocolConnection",{enumerable:true,get:function get(){return connection_1.createProtocolConnection;}});var LSPErrorCodes;(function(LSPErrorCodes2){LSPErrorCodes2.lspReservedErrorRangeStart=-32899;LSPErrorCodes2.RequestFailed=-32803;LSPErrorCodes2.ServerCancelled=-32802;LSPErrorCodes2.ContentModified=-32801;LSPErrorCodes2.RequestCancelled=-32800;LSPErrorCodes2.lspReservedErrorRangeEnd=-32800;})(LSPErrorCodes=exports.LSPErrorCodes||(exports.LSPErrorCodes={}));var diag=require_proposed_diagnostic();var typeh=require_proposed_typeHierarchy();var iv=require_proposed_inlineValue();var Proposed;(function(Proposed2){Proposed2.DiagnosticServerCancellationData=diag.DiagnosticServerCancellationData;Proposed2.DocumentDiagnosticReportKind=diag.DocumentDiagnosticReportKind;Proposed2.DocumentDiagnosticRequest=diag.DocumentDiagnosticRequest;Proposed2.WorkspaceDiagnosticRequest=diag.WorkspaceDiagnosticRequest;Proposed2.DiagnosticRefreshRequest=diag.DiagnosticRefreshRequest;Proposed2.TypeHierarchyPrepareRequest=typeh.TypeHierarchyPrepareRequest;Proposed2.TypeHierarchySupertypesRequest=typeh.TypeHierarchySupertypesRequest;Proposed2.TypeHierarchySubtypesRequest=typeh.TypeHierarchySubtypesRequest;Proposed2.InlineValuesRequest=iv.InlineValuesRequest;Proposed2.InlineValuesRefreshRequest=iv.InlineValuesRefreshRequest;})(Proposed=exports.Proposed||(exports.Proposed={}));}});// client/node_modules/vscode-languageserver-protocol/lib/browser/main.js
var require_main3=__commonJS({"client/node_modules/vscode-languageserver-protocol/lib/browser/main.js":function clientNode_modulesVscodeLanguageserverProtocolLibBrowserMainJs(exports){"use strict";var __createBinding2=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k];}});}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k];});var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m){if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding2(exports2,m,p);}};Object.defineProperty(exports,"__esModule",{value:true});exports.createProtocolConnection=void 0;var browser_1=require_browser();__exportStar(require_browser(),exports);__exportStar(require_api2(),exports);function createProtocolConnection(reader,writer,logger,options){return(0,browser_1.createMessageConnection)(reader,writer,logger,options);}exports.createProtocolConnection=createProtocolConnection;}});// client/node_modules/vscode-languageclient/lib/common/configuration.js
var require_configuration=__commonJS({"client/node_modules/vscode-languageclient/lib/common/configuration.js":function clientNode_modulesVscodeLanguageclientLibCommonConfigurationJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toJSONObject=exports.ConfigurationFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var ConfigurationFeature=/*#__PURE__*/function(){function ConfigurationFeature(_client){_classCallCheck(this,ConfigurationFeature);this._client=_client;}_createClass(ConfigurationFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){capabilities.workspace=capabilities.workspace||{};capabilities.workspace.configuration=true;}},{key:"initialize",value:function initialize(){var _this33=this;var client=this._client;client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type,function(params,token){var configuration=function configuration(params2){var result=[];var _iterator9=_createForOfIteratorHelper(params2.items),_step6;try{for(_iterator9.s();!(_step6=_iterator9.n()).done;){var item=_step6.value;var resource=item.scopeUri!==void 0&&item.scopeUri!==null?_this33._client.protocol2CodeConverter.asUri(item.scopeUri):void 0;result.push(_this33.getConfiguration(resource,item.section!==null?item.section:void 0));}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}return result;};var middleware=client.clientOptions.middleware.workspace;return middleware&&middleware.configuration?middleware.configuration(params,token,configuration):configuration(params,token);});}},{key:"getConfiguration",value:function getConfiguration(resource,section){var result=null;if(section){var index=section.lastIndexOf(".");if(index===-1){result=toJSONObject(vscode_1.workspace.getConfiguration(void 0,resource).get(section));}else{var config=vscode_1.workspace.getConfiguration(section.substr(0,index),resource);if(config){result=toJSONObject(config.get(section.substr(index+1)));}}}else{var _config2=vscode_1.workspace.getConfiguration(void 0,resource);result={};for(var _i4=0,_Object$keys=Object.keys(_config2);_i4<_Object$keys.length;_i4++){var key=_Object$keys[_i4];if(_config2.has(key)){result[key]=toJSONObject(_config2.get(key));}}}if(result===void 0){result=null;}return result;}},{key:"dispose",value:function dispose(){}}]);return ConfigurationFeature;}();exports.ConfigurationFeature=ConfigurationFeature;function toJSONObject(obj){if(obj){if(Array.isArray(obj)){return obj.map(toJSONObject);}else if(_typeof(obj)==="object"){var res=Object.create(null);for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){res[key]=toJSONObject(obj[key]);}}return res;}}return obj;}exports.toJSONObject=toJSONObject;}});// client/node_modules/vscode-languageclient/lib/common/utils/is.js
var require_is3=__commonJS({"client/node_modules/vscode-languageclient/lib/common/utils/is.js":function clientNode_modulesVscodeLanguageclientLibCommonUtilsIsJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.asPromise=exports.thenable=exports.typedArray=exports.stringArray=exports.array=exports.func=exports.error=exports.number=exports.string=exports.boolean=void 0;function boolean(value){return value===true||value===false;}exports.boolean=boolean;function string(value){return typeof value==="string"||value instanceof String;}exports.string=string;function number(value){return typeof value==="number"||value instanceof Number;}exports.number=number;function error(value){return value instanceof Error;}exports.error=error;function func(value){return typeof value==="function";}exports.func=func;function array(value){return Array.isArray(value);}exports.array=array;function stringArray(value){return array(value)&&value.every(function(elem){return string(elem);});}exports.stringArray=stringArray;function typedArray(value,check){return Array.isArray(value)&&value.every(check);}exports.typedArray=typedArray;function thenable(value){return value&&func(value.then);}exports.thenable=thenable;function asPromise(value){if(value instanceof Promise){return value;}else if(thenable(value)){return new Promise(function(resolve,reject){value.then(function(resolved){return resolve(resolved);},function(error2){return reject(error2);});});}else{return Promise.resolve(value);}}exports.asPromise=asPromise;}});// client/node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js
var require_protocolCompletionItem=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolCompletionItemJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var code=require("vscode");var ProtocolCompletionItem=/*#__PURE__*/function(_code$CompletionItem){_inherits(ProtocolCompletionItem,_code$CompletionItem);var _super36=_createSuper(ProtocolCompletionItem);function ProtocolCompletionItem(label){_classCallCheck(this,ProtocolCompletionItem);return _super36.call(this,label);}return _createClass(ProtocolCompletionItem);}(code.CompletionItem);exports.default=ProtocolCompletionItem;}});// client/node_modules/vscode-languageclient/lib/common/protocolCodeLens.js
var require_protocolCodeLens=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolCodeLens.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolCodeLensJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var code=require("vscode");var ProtocolCodeLens=/*#__PURE__*/function(_code$CodeLens){_inherits(ProtocolCodeLens,_code$CodeLens);var _super37=_createSuper(ProtocolCodeLens);function ProtocolCodeLens(range){_classCallCheck(this,ProtocolCodeLens);return _super37.call(this,range);}return _createClass(ProtocolCodeLens);}(code.CodeLens);exports.default=ProtocolCodeLens;}});// client/node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js
var require_protocolDocumentLink=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolDocumentLinkJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var code=require("vscode");var ProtocolDocumentLink=/*#__PURE__*/function(_code$DocumentLink){_inherits(ProtocolDocumentLink,_code$DocumentLink);var _super38=_createSuper(ProtocolDocumentLink);function ProtocolDocumentLink(range,target){_classCallCheck(this,ProtocolDocumentLink);return _super38.call(this,range,target);}return _createClass(ProtocolDocumentLink);}(code.DocumentLink);exports.default=ProtocolDocumentLink;}});// client/node_modules/vscode-languageclient/lib/common/protocolCodeAction.js
var require_protocolCodeAction=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolCodeAction.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolCodeActionJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var vscode4=require("vscode");var ProtocolCodeAction=/*#__PURE__*/function(_vscode4$CodeAction){_inherits(ProtocolCodeAction,_vscode4$CodeAction);var _super39=_createSuper(ProtocolCodeAction);function ProtocolCodeAction(title,data){var _this34;_classCallCheck(this,ProtocolCodeAction);_this34=_super39.call(this,title);_this34.data=data;return _this34;}return _createClass(ProtocolCodeAction);}(vscode4.CodeAction);exports.default=ProtocolCodeAction;}});// client/node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js
var require_protocolDiagnostic=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolDiagnosticJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProtocolDiagnostic=exports.DiagnosticCode=void 0;var vscode4=require("vscode");var Is2=require_is3();var DiagnosticCode;(function(DiagnosticCode2){function is2(value){var candidate=value;return candidate!==void 0&&candidate!==null&&(Is2.number(candidate.value)||Is2.string(candidate.value))&&Is2.string(candidate.target);}DiagnosticCode2.is=is2;})(DiagnosticCode=exports.DiagnosticCode||(exports.DiagnosticCode={}));var ProtocolDiagnostic=/*#__PURE__*/function(_vscode4$Diagnostic){_inherits(ProtocolDiagnostic,_vscode4$Diagnostic);var _super40=_createSuper(ProtocolDiagnostic);function ProtocolDiagnostic(range,message,severity,data){var _this35;_classCallCheck(this,ProtocolDiagnostic);_this35=_super40.call(this,range,message,severity);_this35.data=data;_this35.hasDiagnosticCode=false;return _this35;}return _createClass(ProtocolDiagnostic);}(vscode4.Diagnostic);exports.ProtocolDiagnostic=ProtocolDiagnostic;}});// client/node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js
var require_protocolCallHierarchyItem=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolCallHierarchyItemJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var code=require("vscode");var ProtocolCallHierarchyItem=/*#__PURE__*/function(_code$CallHierarchyIt){_inherits(ProtocolCallHierarchyItem,_code$CallHierarchyIt);var _super41=_createSuper(ProtocolCallHierarchyItem);function ProtocolCallHierarchyItem(kind,name,detail,uri,range,selectionRange,data){var _this36;_classCallCheck(this,ProtocolCallHierarchyItem);_this36=_super41.call(this,kind,name,detail,uri,range,selectionRange);if(data!==void 0){_this36.data=data;}return _this36;}return _createClass(ProtocolCallHierarchyItem);}(code.CallHierarchyItem);exports.default=ProtocolCallHierarchyItem;}});// client/node_modules/vscode-languageclient/lib/common/protocolTypeHierarchyItem.js
var require_protocolTypeHierarchyItem=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolTypeHierarchyItem.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolTypeHierarchyItemJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var code=require("vscode");var ProtocolTypeHierarchyItem=/*#__PURE__*/function(_code$TypeHierarchyIt){_inherits(ProtocolTypeHierarchyItem,_code$TypeHierarchyIt);var _super42=_createSuper(ProtocolTypeHierarchyItem);function ProtocolTypeHierarchyItem(kind,name,detail,uri,range,selectionRange,data){var _this37;_classCallCheck(this,ProtocolTypeHierarchyItem);_this37=_super42.call(this,kind,name,detail,uri,range,selectionRange);if(data!==void 0){_this37.data=data;}return _this37;}return _createClass(ProtocolTypeHierarchyItem);}(code.TypeHierarchyItem);exports.default=ProtocolTypeHierarchyItem;}});// client/node_modules/vscode-languageclient/lib/common/protocolWorkspaceSymbol.js
var require_protocolWorkspaceSymbol=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolWorkspaceSymbol.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolWorkspaceSymbolJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var code=require("vscode");var WorkspaceSymbol=/*#__PURE__*/function(_code$SymbolInformati){_inherits(WorkspaceSymbol,_code$SymbolInformati);var _super43=_createSuper(WorkspaceSymbol);function WorkspaceSymbol(name,kind,containerName,locationOrUri,data){var _this38;_classCallCheck(this,WorkspaceSymbol);var hasRange=!(locationOrUri instanceof code.Uri);_this38=_super43.call(this,name,kind,containerName,hasRange?locationOrUri:new code.Location(locationOrUri,new code.Range(0,0,0,0)));_this38.hasRange=hasRange;if(data!==void 0){_this38.data=data;}return _this38;}return _createClass(WorkspaceSymbol);}(code.SymbolInformation);exports.default=WorkspaceSymbol;}});// client/node_modules/vscode-languageclient/lib/common/codeConverter.js
var require_codeConverter=__commonJS({"client/node_modules/vscode-languageclient/lib/common/codeConverter.js":function clientNode_modulesVscodeLanguageclientLibCommonCodeConverterJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createConverter=void 0;var code=require("vscode");var proto=require_main3();var Is2=require_is3();var protocolCompletionItem_1=require_protocolCompletionItem();var protocolCodeLens_1=require_protocolCodeLens();var protocolDocumentLink_1=require_protocolDocumentLink();var protocolCodeAction_1=require_protocolCodeAction();var protocolDiagnostic_1=require_protocolDiagnostic();var protocolCallHierarchyItem_1=require_protocolCallHierarchyItem();var vscode_languageserver_protocol_1=require_main3();var protocolTypeHierarchyItem_1=require_protocolTypeHierarchyItem();var protocolWorkspaceSymbol_1=require_protocolWorkspaceSymbol();var InsertReplaceRange;(function(InsertReplaceRange2){function is2(value){var candidate=value;return candidate&&!!candidate.inserting&&!!candidate.replacing;}InsertReplaceRange2.is=is2;})(InsertReplaceRange||(InsertReplaceRange={}));function createConverter(uriConverter){var nullConverter=function nullConverter(value){return value.toString();};var _uriConverter=uriConverter||nullConverter;function asUri(value){return _uriConverter(value);}function asTextDocumentIdentifier(textDocument){return{uri:_uriConverter(textDocument.uri)};}function asVersionedTextDocumentIdentifier(textDocument){return{uri:_uriConverter(textDocument.uri),version:textDocument.version};}function asOpenTextDocumentParams(textDocument){return{textDocument:{uri:_uriConverter(textDocument.uri),languageId:textDocument.languageId,version:textDocument.version,text:textDocument.getText()}};}function isTextDocumentChangeEvent(value){var candidate=value;return!!candidate.document&&!!candidate.contentChanges;}function isTextDocument(value){var candidate=value;return!!candidate.uri&&!!candidate.version;}function asChangeTextDocumentParams(arg){if(isTextDocument(arg)){var result={textDocument:{uri:_uriConverter(arg.uri),version:arg.version},contentChanges:[{text:arg.getText()}]};return result;}else if(isTextDocumentChangeEvent(arg)){var document2=arg.document;var _result={textDocument:{uri:_uriConverter(document2.uri),version:document2.version},contentChanges:arg.contentChanges.map(function(change){var range=change.range;return{range:{start:{line:range.start.line,character:range.start.character},end:{line:range.end.line,character:range.end.character}},rangeLength:change.rangeLength,text:change.text};})};return _result;}else{throw Error("Unsupported text document change parameter");}}function asCloseTextDocumentParams(textDocument){return{textDocument:asTextDocumentIdentifier(textDocument)};}function asSaveTextDocumentParams(textDocument){var includeContent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var result={textDocument:asTextDocumentIdentifier(textDocument)};if(includeContent){result.text=textDocument.getText();}return result;}function asTextDocumentSaveReason(reason){switch(reason){case code.TextDocumentSaveReason.Manual:return proto.TextDocumentSaveReason.Manual;case code.TextDocumentSaveReason.AfterDelay:return proto.TextDocumentSaveReason.AfterDelay;case code.TextDocumentSaveReason.FocusOut:return proto.TextDocumentSaveReason.FocusOut;}return proto.TextDocumentSaveReason.Manual;}function asWillSaveTextDocumentParams(event){return{textDocument:asTextDocumentIdentifier(event.document),reason:asTextDocumentSaveReason(event.reason)};}function asDidCreateFilesParams(event){return{files:event.files.map(function(fileUri){return{uri:_uriConverter(fileUri)};})};}function asDidRenameFilesParams(event){return{files:event.files.map(function(file){return{oldUri:_uriConverter(file.oldUri),newUri:_uriConverter(file.newUri)};})};}function asDidDeleteFilesParams(event){return{files:event.files.map(function(fileUri){return{uri:_uriConverter(fileUri)};})};}function asWillCreateFilesParams(event){return{files:event.files.map(function(fileUri){return{uri:_uriConverter(fileUri)};})};}function asWillRenameFilesParams(event){return{files:event.files.map(function(file){return{oldUri:_uriConverter(file.oldUri),newUri:_uriConverter(file.newUri)};})};}function asWillDeleteFilesParams(event){return{files:event.files.map(function(fileUri){return{uri:_uriConverter(fileUri)};})};}function asTextDocumentPositionParams(textDocument,position){return{textDocument:asTextDocumentIdentifier(textDocument),position:asWorkerPosition(position)};}function asCompletionTriggerKind(triggerKind){switch(triggerKind){case code.CompletionTriggerKind.TriggerCharacter:return proto.CompletionTriggerKind.TriggerCharacter;case code.CompletionTriggerKind.TriggerForIncompleteCompletions:return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return proto.CompletionTriggerKind.Invoked;}}function asCompletionParams(textDocument,position,context){return{textDocument:asTextDocumentIdentifier(textDocument),position:asWorkerPosition(position),context:{triggerKind:asCompletionTriggerKind(context.triggerKind),triggerCharacter:context.triggerCharacter}};}function asSignatureHelpTriggerKind(triggerKind){switch(triggerKind){case code.SignatureHelpTriggerKind.Invoke:return proto.SignatureHelpTriggerKind.Invoked;case code.SignatureHelpTriggerKind.TriggerCharacter:return proto.SignatureHelpTriggerKind.TriggerCharacter;case code.SignatureHelpTriggerKind.ContentChange:return proto.SignatureHelpTriggerKind.ContentChange;}}function asParameterInformation(value){return{label:value.label};}function asParameterInformations(values){return values.map(asParameterInformation);}function asSignatureInformation(value){return{label:value.label,parameters:asParameterInformations(value.parameters)};}function asSignatureInformations(values){return values.map(asSignatureInformation);}function asSignatureHelp(value){if(value===void 0){return value;}return{signatures:asSignatureInformations(value.signatures),activeSignature:value.activeSignature,activeParameter:value.activeParameter};}function asSignatureHelpParams(textDocument,position,context){return{textDocument:asTextDocumentIdentifier(textDocument),position:asWorkerPosition(position),context:{isRetrigger:context.isRetrigger,triggerCharacter:context.triggerCharacter,triggerKind:asSignatureHelpTriggerKind(context.triggerKind),activeSignatureHelp:asSignatureHelp(context.activeSignatureHelp)}};}function asWorkerPosition(position){return{line:position.line,character:position.character};}function asPosition(value){if(value===void 0||value===null){return value;}return{line:value.line>vscode_languageserver_protocol_1.uinteger.MAX_VALUE?vscode_languageserver_protocol_1.uinteger.MAX_VALUE:value.line,character:value.character>vscode_languageserver_protocol_1.uinteger.MAX_VALUE?vscode_languageserver_protocol_1.uinteger.MAX_VALUE:value.character};}function asPositions(value){var result=[];var _iterator10=_createForOfIteratorHelper(value),_step7;try{for(_iterator10.s();!(_step7=_iterator10.n()).done;){var elem=_step7.value;result.push(asPosition(elem));}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}return result;}function asRange(value){if(value===void 0||value===null){return value;}return{start:asPosition(value.start),end:asPosition(value.end)};}function asLocation(value){if(value===void 0||value===null){return value;}return proto.Location.create(asUri(value.uri),asRange(value.range));}function asDiagnosticSeverity(value){switch(value){case code.DiagnosticSeverity.Error:return proto.DiagnosticSeverity.Error;case code.DiagnosticSeverity.Warning:return proto.DiagnosticSeverity.Warning;case code.DiagnosticSeverity.Information:return proto.DiagnosticSeverity.Information;case code.DiagnosticSeverity.Hint:return proto.DiagnosticSeverity.Hint;}}function asDiagnosticTags(tags){if(!tags){return void 0;}var result=[];var _iterator11=_createForOfIteratorHelper(tags),_step8;try{for(_iterator11.s();!(_step8=_iterator11.n()).done;){var tag=_step8.value;var converted=asDiagnosticTag(tag);if(converted!==void 0){result.push(converted);}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}return result.length>0?result:void 0;}function asDiagnosticTag(tag){switch(tag){case code.DiagnosticTag.Unnecessary:return proto.DiagnosticTag.Unnecessary;case code.DiagnosticTag.Deprecated:return proto.DiagnosticTag.Deprecated;default:return void 0;}}function asRelatedInformation(item){return{message:item.message,location:asLocation(item.location)};}function asRelatedInformations(items){return items.map(asRelatedInformation);}function asDiagnosticCode(value){if(value===void 0||value===null){return void 0;}if(Is2.number(value)||Is2.string(value)){return value;}return{value:value.value,target:asUri(value.target)};}function asDiagnostic(item){var result=proto.Diagnostic.create(asRange(item.range),item.message);var protocolDiagnostic=item instanceof protocolDiagnostic_1.ProtocolDiagnostic?item:void 0;if(protocolDiagnostic!==void 0&&protocolDiagnostic.data!==void 0){result.data=protocolDiagnostic.data;}var code2=asDiagnosticCode(item.code);if(protocolDiagnostic_1.DiagnosticCode.is(code2)){if(protocolDiagnostic!==void 0&&protocolDiagnostic.hasDiagnosticCode){result.code=code2;}else{result.code=code2.value;result.codeDescription={href:code2.target};}}else{result.code=code2;}if(Is2.number(item.severity)){result.severity=asDiagnosticSeverity(item.severity);}if(Array.isArray(item.tags)){result.tags=asDiagnosticTags(item.tags);}if(item.relatedInformation){result.relatedInformation=asRelatedInformations(item.relatedInformation);}if(item.source){result.source=item.source;}return result;}function asDiagnostics(items){if(items===void 0||items===null){return items;}return items.map(asDiagnostic);}function asDocumentation(format,documentation){switch(format){case"$string":return documentation;case proto.MarkupKind.PlainText:return{kind:format,value:documentation};case proto.MarkupKind.Markdown:return{kind:format,value:documentation.value};default:return"Unsupported Markup content received. Kind is: ".concat(format);}}function asCompletionItemTag(tag){switch(tag){case code.CompletionItemTag.Deprecated:return proto.CompletionItemTag.Deprecated;}return void 0;}function asCompletionItemTags(tags){if(tags===void 0){return tags;}var result=[];var _iterator12=_createForOfIteratorHelper(tags),_step9;try{for(_iterator12.s();!(_step9=_iterator12.n()).done;){var tag=_step9.value;var converted=asCompletionItemTag(tag);if(converted!==void 0){result.push(converted);}}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}return result;}function asCompletionItemKind(value,original){if(original!==void 0){return original;}return value+1;}function asCompletionItem(item){var labelDetailsSupport=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var label;var labelDetails;if(Is2.string(item.label)){label=item.label;}else{label=item.label.label;if(labelDetailsSupport&&(item.label.detail!==void 0||item.label.description!==void 0)){labelDetails={detail:item.label.detail,description:item.label.description};}}var result={label:label};if(labelDetails!==void 0){result.labelDetails=labelDetails;}var protocolItem=item instanceof protocolCompletionItem_1.default?item:void 0;if(item.detail){result.detail=item.detail;}if(item.documentation){if(!protocolItem||protocolItem.documentationFormat==="$string"){result.documentation=item.documentation;}else{result.documentation=asDocumentation(protocolItem.documentationFormat,item.documentation);}}if(item.filterText){result.filterText=item.filterText;}fillPrimaryInsertText(result,item);if(Is2.number(item.kind)){result.kind=asCompletionItemKind(item.kind,protocolItem&&protocolItem.originalItemKind);}if(item.sortText){result.sortText=item.sortText;}if(item.additionalTextEdits){result.additionalTextEdits=asTextEdits(item.additionalTextEdits);}if(item.commitCharacters){result.commitCharacters=item.commitCharacters.slice();}if(item.command){result.command=asCommand(item.command);}if(item.preselect===true||item.preselect===false){result.preselect=item.preselect;}var tags=asCompletionItemTags(item.tags);if(protocolItem){if(protocolItem.data!==void 0){result.data=protocolItem.data;}if(protocolItem.deprecated===true||protocolItem.deprecated===false){if(protocolItem.deprecated===true&&tags!==void 0&&tags.length>0){var index=tags.indexOf(code.CompletionItemTag.Deprecated);if(index!==-1){tags.splice(index,1);}}result.deprecated=protocolItem.deprecated;}if(protocolItem.insertTextMode!==void 0){result.insertTextMode=protocolItem.insertTextMode;}}if(tags!==void 0&&tags.length>0){result.tags=tags;}if(result.insertTextMode===void 0&&item.keepWhitespace===true){result.insertTextMode=vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;}return result;}function fillPrimaryInsertText(target,source){var format=proto.InsertTextFormat.PlainText;var text=void 0;var range=void 0;if(source.textEdit){text=source.textEdit.newText;range=source.textEdit.range;}else if(source.insertText instanceof code.SnippetString){format=proto.InsertTextFormat.Snippet;text=source.insertText.value;}else{text=source.insertText;}if(source.range){range=source.range;}target.insertTextFormat=format;if(source.fromEdit&&text!==void 0&&range!==void 0){target.textEdit=asCompletionTextEdit(text,range);}else{target.insertText=text;}}function asCompletionTextEdit(newText,range){if(InsertReplaceRange.is(range)){return proto.InsertReplaceEdit.create(newText,asRange(range.inserting),asRange(range.replacing));}else{return{newText:newText,range:asRange(range)};}}function asTextEdit(edit){return{range:asRange(edit.range),newText:edit.newText};}function asTextEdits(edits){if(edits===void 0||edits===null){return edits;}return edits.map(asTextEdit);}function asSymbolKind(item){if(item<=code.SymbolKind.TypeParameter){return item+1;}return proto.SymbolKind.Property;}function asSymbolTag(item){return item;}function asSymbolTags(items){return items.map(asSymbolTag);}function asReferenceParams(textDocument,position,options){return{textDocument:asTextDocumentIdentifier(textDocument),position:asWorkerPosition(position),context:{includeDeclaration:options.includeDeclaration}};}function asCodeAction(item){var result=proto.CodeAction.create(item.title);if(item instanceof protocolCodeAction_1.default&&item.data!==void 0){result.data=item.data;}if(item.kind!==void 0){result.kind=asCodeActionKind(item.kind);}if(item.diagnostics!==void 0){result.diagnostics=asDiagnostics(item.diagnostics);}if(item.edit!==void 0){throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");}if(item.command!==void 0){result.command=asCommand(item.command);}if(item.isPreferred!==void 0){result.isPreferred=item.isPreferred;}if(item.disabled!==void 0){result.disabled={reason:item.disabled.reason};}return result;}function asCodeActionContext(context){if(context===void 0||context===null){return context;}var only;if(context.only&&Is2.string(context.only.value)){only=[context.only.value];}return proto.CodeActionContext.create(asDiagnostics(context.diagnostics),only,asCodeActionTriggerKind(context.triggerKind));}function asCodeActionTriggerKind(kind){switch(kind){case code.CodeActionTriggerKind.Invoke:return proto.CodeActionTriggerKind.Invoked;case code.CodeActionTriggerKind.Automatic:return proto.CodeActionTriggerKind.Automatic;default:return void 0;}}function asCodeActionKind(item){if(item===void 0||item===null){return void 0;}return item.value;}function asInlineValuesContext(context){if(context===void 0||context===null){return context;}return proto.InlineValuesContext.create(context.stoppedLocation);}function asCommand(item){var result=proto.Command.create(item.title,item.command);if(item.arguments){result.arguments=item.arguments;}return result;}function asCodeLens(item){var result=proto.CodeLens.create(asRange(item.range));if(item.command){result.command=asCommand(item.command);}if(item instanceof protocolCodeLens_1.default){if(item.data){result.data=item.data;}}return result;}function asFormattingOptions(options,fileOptions){var result={tabSize:options.tabSize,insertSpaces:options.insertSpaces};if(fileOptions.trimTrailingWhitespace){result.trimTrailingWhitespace=true;}if(fileOptions.trimFinalNewlines){result.trimFinalNewlines=true;}if(fileOptions.insertFinalNewline){result.insertFinalNewline=true;}return result;}function asDocumentSymbolParams(textDocument){return{textDocument:asTextDocumentIdentifier(textDocument)};}function asCodeLensParams(textDocument){return{textDocument:asTextDocumentIdentifier(textDocument)};}function asDocumentLink(item){var result=proto.DocumentLink.create(asRange(item.range));if(item.target){result.target=asUri(item.target);}if(item.tooltip!==void 0){result.tooltip=item.tooltip;}var protocolItem=item instanceof protocolDocumentLink_1.default?item:void 0;if(protocolItem&&protocolItem.data){result.data=protocolItem.data;}return result;}function asDocumentLinkParams(textDocument){return{textDocument:asTextDocumentIdentifier(textDocument)};}function asCallHierarchyItem(value){var result={name:value.name,kind:asSymbolKind(value.kind),uri:asUri(value.uri),range:asRange(value.range),selectionRange:asRange(value.selectionRange)};if(value.detail!==void 0&&value.detail.length>0){result.detail=value.detail;}if(value.tags!==void 0){result.tags=asSymbolTags(value.tags);}if(value instanceof protocolCallHierarchyItem_1.default&&value.data!==void 0){result.data=value.data;}return result;}function asTypeHierarchyItem(value){var result={name:value.name,kind:asSymbolKind(value.kind),uri:asUri(value.uri),range:asRange(value.range),selectionRange:asRange(value.selectionRange)};if(value.detail!==void 0&&value.detail.length>0){result.detail=value.detail;}if(value.tags!==void 0){result.tags=asSymbolTags(value.tags);}if(value instanceof protocolTypeHierarchyItem_1.default&&value.data!==void 0){result.data=value.data;}return result;}function asWorkspaceSymbol(item){var result=item instanceof protocolWorkspaceSymbol_1.default?{name:item.name,kind:asSymbolKind(item.kind),location:item.hasRange?asLocation(item.location):{uri:_uriConverter(item.location.uri)},data:item.data}:{name:item.name,kind:asSymbolKind(item.kind),location:asLocation(item.location)};if(item.tags!==void 0){result.tags=asSymbolTags(item.tags);}if(item.containerName!==""){result.containerName=item.containerName;}return result;}return{asUri:asUri,asTextDocumentIdentifier:asTextDocumentIdentifier,asVersionedTextDocumentIdentifier:asVersionedTextDocumentIdentifier,asOpenTextDocumentParams:asOpenTextDocumentParams,asChangeTextDocumentParams:asChangeTextDocumentParams,asCloseTextDocumentParams:asCloseTextDocumentParams,asSaveTextDocumentParams:asSaveTextDocumentParams,asWillSaveTextDocumentParams:asWillSaveTextDocumentParams,asDidCreateFilesParams:asDidCreateFilesParams,asDidRenameFilesParams:asDidRenameFilesParams,asDidDeleteFilesParams:asDidDeleteFilesParams,asWillCreateFilesParams:asWillCreateFilesParams,asWillRenameFilesParams:asWillRenameFilesParams,asWillDeleteFilesParams:asWillDeleteFilesParams,asTextDocumentPositionParams:asTextDocumentPositionParams,asCompletionParams:asCompletionParams,asSignatureHelpParams:asSignatureHelpParams,asWorkerPosition:asWorkerPosition,asRange:asRange,asPosition:asPosition,asPositions:asPositions,asLocation:asLocation,asDiagnosticSeverity:asDiagnosticSeverity,asDiagnosticTag:asDiagnosticTag,asDiagnostic:asDiagnostic,asDiagnostics:asDiagnostics,asCompletionItem:asCompletionItem,asTextEdit:asTextEdit,asSymbolKind:asSymbolKind,asSymbolTag:asSymbolTag,asSymbolTags:asSymbolTags,asReferenceParams:asReferenceParams,asCodeAction:asCodeAction,asCodeActionContext:asCodeActionContext,asInlineValuesContext:asInlineValuesContext,asCommand:asCommand,asCodeLens:asCodeLens,asFormattingOptions:asFormattingOptions,asDocumentSymbolParams:asDocumentSymbolParams,asCodeLensParams:asCodeLensParams,asDocumentLink:asDocumentLink,asDocumentLinkParams:asDocumentLinkParams,asCallHierarchyItem:asCallHierarchyItem,asTypeHierarchyItem:asTypeHierarchyItem,asWorkspaceSymbol:asWorkspaceSymbol};}exports.createConverter=createConverter;}});// client/node_modules/vscode-languageclient/lib/common/protocolConverter.js
var require_protocolConverter=__commonJS({"client/node_modules/vscode-languageclient/lib/common/protocolConverter.js":function clientNode_modulesVscodeLanguageclientLibCommonProtocolConverterJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createConverter=void 0;var code=require("vscode");var ls2=require_main3();var Is2=require_is3();var protocolCompletionItem_1=require_protocolCompletionItem();var protocolCodeLens_1=require_protocolCodeLens();var protocolDocumentLink_1=require_protocolDocumentLink();var protocolCodeAction_1=require_protocolCodeAction();var protocolDiagnostic_1=require_protocolDiagnostic();var protocolCallHierarchyItem_1=require_protocolCallHierarchyItem();var vscode_languageserver_protocol_1=require_main3();var protocolTypeHierarchyItem_1=require_protocolTypeHierarchyItem();var protocolWorkspaceSymbol_1=require_protocolWorkspaceSymbol();var CodeBlock;(function(CodeBlock2){function is2(value){var candidate=value;return candidate&&Is2.string(candidate.language)&&Is2.string(candidate.value);}CodeBlock2.is=is2;})(CodeBlock||(CodeBlock={}));function createConverter(uriConverter,trustMarkdown,supportHtml){var nullConverter=function nullConverter(value){return code.Uri.parse(value);};var _uriConverter=uriConverter||nullConverter;function asUri(value){return _uriConverter(value);}function asDiagnostics(diagnostics){return diagnostics.map(asDiagnostic);}function asDiagnostic(diagnostic){var result=new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range),diagnostic.message,asDiagnosticSeverity(diagnostic.severity),diagnostic.data);if(diagnostic.code!==void 0){if(ls2.CodeDescription.is(diagnostic.codeDescription)){result.code={value:diagnostic.code,target:asUri(diagnostic.codeDescription.href)};}else if(protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)){result.hasDiagnosticCode=true;result.code={value:diagnostic.code.value,target:asUri(diagnostic.code.target)};}else{result.code=diagnostic.code;}}if(diagnostic.source){result.source=diagnostic.source;}if(diagnostic.relatedInformation){result.relatedInformation=asRelatedInformation(diagnostic.relatedInformation);}if(Array.isArray(diagnostic.tags)){result.tags=asDiagnosticTags(diagnostic.tags);}return result;}function asRelatedInformation(relatedInformation){return relatedInformation.map(asDiagnosticRelatedInformation);}function asDiagnosticRelatedInformation(information){return new code.DiagnosticRelatedInformation(asLocation(information.location),information.message);}function asDiagnosticTags(tags){if(!tags){return void 0;}var result=[];var _iterator13=_createForOfIteratorHelper(tags),_step10;try{for(_iterator13.s();!(_step10=_iterator13.n()).done;){var tag=_step10.value;var converted=asDiagnosticTag(tag);if(converted!==void 0){result.push(converted);}}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return result.length>0?result:void 0;}function asDiagnosticTag(tag){switch(tag){case ls2.DiagnosticTag.Unnecessary:return code.DiagnosticTag.Unnecessary;case ls2.DiagnosticTag.Deprecated:return code.DiagnosticTag.Deprecated;default:return void 0;}}function asPosition(value){if(!value){return void 0;}return new code.Position(value.line,value.character);}function asRange(value){if(!value){return void 0;}return new code.Range(asPosition(value.start),asPosition(value.end));}function asRanges(value){return value.map(function(value2){return asRange(value2);});}function asDiagnosticSeverity(value){if(value===void 0||value===null){return code.DiagnosticSeverity.Error;}switch(value){case ls2.DiagnosticSeverity.Error:return code.DiagnosticSeverity.Error;case ls2.DiagnosticSeverity.Warning:return code.DiagnosticSeverity.Warning;case ls2.DiagnosticSeverity.Information:return code.DiagnosticSeverity.Information;case ls2.DiagnosticSeverity.Hint:return code.DiagnosticSeverity.Hint;}return code.DiagnosticSeverity.Error;}function asHoverContent(value){if(Is2.string(value)){return asMarkdownString(value);}else if(CodeBlock.is(value)){var result=asMarkdownString();return result.appendCodeblock(value.value,value.language);}else if(Array.isArray(value)){var _result2=[];var _iterator14=_createForOfIteratorHelper(value),_step11;try{for(_iterator14.s();!(_step11=_iterator14.n()).done;){var element=_step11.value;var item=asMarkdownString();if(CodeBlock.is(element)){item.appendCodeblock(element.value,element.language);}else{item.appendMarkdown(element);}_result2.push(item);}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}return _result2;}else{var _result3;switch(value.kind){case ls2.MarkupKind.Markdown:return asMarkdownString(value.value);case ls2.MarkupKind.PlainText:_result3=asMarkdownString();_result3.appendText(value.value);return _result3;default:_result3=asMarkdownString();_result3.appendText("Unsupported Markup content received. Kind is: ".concat(value.kind));return _result3;}}}function asDocumentation(value){if(Is2.string(value)){return value;}else{switch(value.kind){case ls2.MarkupKind.Markdown:return asMarkdownString(value.value);case ls2.MarkupKind.PlainText:return value.value;default:return"Unsupported Markup content received. Kind is: ".concat(value.kind);}}}function asMarkdownString(value){var result=new code.MarkdownString(value);result.isTrusted=trustMarkdown;result.supportHtml=supportHtml;return result;}function asHover(hover){if(!hover){return void 0;}return new code.Hover(asHoverContent(hover.contents),asRange(hover.range));}function asCompletionResult(result,allCommitCharacters){var _list$itemDefaults,_list$itemDefaults$co,_list$itemDefaults2;if(!result){return void 0;}if(Array.isArray(result)){var items=result;return items.map(function(item){return asCompletionItem(item,allCommitCharacters);});}var list=result;var rangeDefaults=(_list$itemDefaults=list.itemDefaults)===null||_list$itemDefaults===void 0?void 0:_list$itemDefaults.editRange;var _ref3=ls2.Range.is(rangeDefaults)?[asRange(rangeDefaults),void 0,void 0]:rangeDefaults!==void 0?[void 0,asRange(rangeDefaults.insert),asRange(rangeDefaults.replace)]:[void 0,void 0,void 0],_ref4=_slicedToArray(_ref3,3),range=_ref4[0],inserting=_ref4[1],replacing=_ref4[2];var commitCharacterDefaults=(_list$itemDefaults$co=(_list$itemDefaults2=list.itemDefaults)===null||_list$itemDefaults2===void 0?void 0:_list$itemDefaults2.commitCharacters)!==null&&_list$itemDefaults$co!==void 0?_list$itemDefaults$co:allCommitCharacters;return new code.CompletionList(list.items.map(function(item){var _list$itemDefaults3,_list$itemDefaults4;var result2=asCompletionItem(item,commitCharacterDefaults,(_list$itemDefaults3=list.itemDefaults)===null||_list$itemDefaults3===void 0?void 0:_list$itemDefaults3.insertTextMode,(_list$itemDefaults4=list.itemDefaults)===null||_list$itemDefaults4===void 0?void 0:_list$itemDefaults4.insertTextFormat);if(result2.range===void 0){if(range!==void 0){result2.range=range;}else if(inserting!==void 0&&replacing!==void 0){result2.range={inserting:inserting,replacing:replacing};}}return result2;}),list.isIncomplete);}function asCompletionItemKind(value){if(ls2.CompletionItemKind.Text<=value&&value<=ls2.CompletionItemKind.TypeParameter){return[value-1,void 0];}return[code.CompletionItemKind.Text,value];}function asCompletionItemTag(tag){switch(tag){case ls2.CompletionItemTag.Deprecated:return code.CompletionItemTag.Deprecated;}return void 0;}function asCompletionItemTags(tags){if(tags===void 0||tags===null){return[];}var result=[];var _iterator15=_createForOfIteratorHelper(tags),_step12;try{for(_iterator15.s();!(_step12=_iterator15.n()).done;){var tag=_step12.value;var converted=asCompletionItemTag(tag);if(converted!==void 0){result.push(converted);}}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}return result;}function asCompletionItem(item,defaultCommitCharacters,defaultInsertTextMode,defaultInsertTextFormat){var _item$insertTextMode;var tags=asCompletionItemTags(item.tags);var label=asCompletionItemLabel(item);var result=new protocolCompletionItem_1.default(label);if(item.detail){result.detail=item.detail;}if(item.documentation){result.documentation=asDocumentation(item.documentation);result.documentationFormat=Is2.string(item.documentation)?"$string":item.documentation.kind;}if(item.filterText){result.filterText=item.filterText;}var insertText=asCompletionInsertText(item,defaultInsertTextFormat);if(insertText){result.insertText=insertText.text;result.range=insertText.range;result.fromEdit=insertText.fromEdit;}if(Is2.number(item.kind)){var _asCompletionItemKind=asCompletionItemKind(item.kind),_asCompletionItemKind2=_slicedToArray(_asCompletionItemKind,2),itemKind=_asCompletionItemKind2[0],original=_asCompletionItemKind2[1];result.kind=itemKind;if(original){result.originalItemKind=original;}}if(item.sortText){result.sortText=item.sortText;}if(item.additionalTextEdits){result.additionalTextEdits=asTextEdits(item.additionalTextEdits);}var commitCharacters=item.commitCharacters!==void 0?Is2.stringArray(item.commitCharacters)?item.commitCharacters:void 0:defaultCommitCharacters;if(commitCharacters){result.commitCharacters=commitCharacters.slice();}if(item.command){result.command=asCommand(item.command);}if(item.deprecated===true||item.deprecated===false){result.deprecated=item.deprecated;if(item.deprecated===true){tags.push(code.CompletionItemTag.Deprecated);}}if(item.preselect===true||item.preselect===false){result.preselect=item.preselect;}if(item.data!==void 0){result.data=item.data;}if(tags.length>0){result.tags=tags;}var insertTextMode=(_item$insertTextMode=item.insertTextMode)!==null&&_item$insertTextMode!==void 0?_item$insertTextMode:defaultInsertTextMode;if(insertTextMode!==void 0){result.insertTextMode=insertTextMode;if(insertTextMode===vscode_languageserver_protocol_1.InsertTextMode.asIs){result.keepWhitespace=true;}}return result;}function asCompletionItemLabel(item){if(vscode_languageserver_protocol_1.CompletionItemLabelDetails.is(item.labelDetails)){return{label:item.label,detail:item.labelDetails.detail,description:item.labelDetails.description};}else{return item.label;}}function asCompletionInsertText(item,defaultInsertTextFormat){var _item$insertTextForma;var insertTextFormat=(_item$insertTextForma=item.insertTextFormat)!==null&&_item$insertTextForma!==void 0?_item$insertTextForma:defaultInsertTextFormat;if(item.textEdit){if(insertTextFormat===ls2.InsertTextFormat.Snippet){return{text:new code.SnippetString(item.textEdit.newText),range:asCompletionRange(item.textEdit),fromEdit:true};}else{return{text:item.textEdit.newText,range:asCompletionRange(item.textEdit),fromEdit:true};}}else if(item.insertText){if(insertTextFormat===ls2.InsertTextFormat.Snippet){return{text:new code.SnippetString(item.insertText),fromEdit:false};}else{return{text:item.insertText,fromEdit:false};}}else{return void 0;}}function asCompletionRange(value){if(ls2.InsertReplaceEdit.is(value)){return{inserting:asRange(value.insert),replacing:asRange(value.replace)};}else{return asRange(value.range);}}function asTextEdit(edit){if(!edit){return void 0;}return new code.TextEdit(asRange(edit.range),edit.newText);}function asTextEdits(items){if(!items){return void 0;}return items.map(asTextEdit);}function asSignatureHelp(item){if(!item){return void 0;}var result=new code.SignatureHelp();if(Is2.number(item.activeSignature)){result.activeSignature=item.activeSignature;}else{result.activeSignature=0;}if(Is2.number(item.activeParameter)){result.activeParameter=item.activeParameter;}else{result.activeParameter=0;}if(item.signatures){result.signatures=asSignatureInformations(item.signatures);}return result;}function asSignatureInformations(items){return items.map(asSignatureInformation);}function asSignatureInformation(item){var result=new code.SignatureInformation(item.label);if(item.documentation!==void 0){result.documentation=asDocumentation(item.documentation);}if(item.parameters!==void 0){result.parameters=asParameterInformations(item.parameters);}if(item.activeParameter!==void 0){result.activeParameter=item.activeParameter;}{return result;}}function asParameterInformations(item){return item.map(asParameterInformation);}function asParameterInformation(item){var result=new code.ParameterInformation(item.label);if(item.documentation){result.documentation=asDocumentation(item.documentation);}return result;}function asLocation(item){if(!item){return void 0;}return new code.Location(_uriConverter(item.uri),asRange(item.range));}function asDeclarationResult(item){if(!item){return void 0;}return asLocationResult(item);}function asDefinitionResult(item){if(!item){return void 0;}return asLocationResult(item);}function asLocationLink(item){if(!item){return void 0;}var result={targetUri:_uriConverter(item.targetUri),targetRange:asRange(item.targetRange),originSelectionRange:asRange(item.originSelectionRange),targetSelectionRange:asRange(item.targetSelectionRange)};if(!result.targetSelectionRange){throw new Error("targetSelectionRange must not be undefined or null");}return result;}function asLocationResult(item){if(!item){return void 0;}if(Is2.array(item)){if(item.length===0){return[];}else if(ls2.LocationLink.is(item[0])){var links=item;return links.map(function(link){return asLocationLink(link);});}else{var locations=item;return locations.map(function(location2){return asLocation(location2);});}}else if(ls2.LocationLink.is(item)){return[asLocationLink(item)];}else{return asLocation(item);}}function asReferences(values){if(!values){return void 0;}return values.map(function(location2){return asLocation(location2);});}function asDocumentHighlights(values){if(!values){return void 0;}return values.map(asDocumentHighlight);}function asDocumentHighlight(item){var result=new code.DocumentHighlight(asRange(item.range));if(Is2.number(item.kind)){result.kind=asDocumentHighlightKind(item.kind);}return result;}function asDocumentHighlightKind(item){switch(item){case ls2.DocumentHighlightKind.Text:return code.DocumentHighlightKind.Text;case ls2.DocumentHighlightKind.Read:return code.DocumentHighlightKind.Read;case ls2.DocumentHighlightKind.Write:return code.DocumentHighlightKind.Write;}return code.DocumentHighlightKind.Text;}function asSymbolInformations(values){if(!values){return void 0;}return values.map(function(information){return asSymbolInformation(information);});}function asSymbolKind(item){if(item<=ls2.SymbolKind.TypeParameter){return item-1;}return code.SymbolKind.Property;}function asSymbolTag(value){switch(value){case ls2.SymbolTag.Deprecated:return code.SymbolTag.Deprecated;default:return void 0;}}function asSymbolTags(items){if(items===void 0||items===null){return void 0;}var result=[];var _iterator16=_createForOfIteratorHelper(items),_step13;try{for(_iterator16.s();!(_step13=_iterator16.n()).done;){var item=_step13.value;var converted=asSymbolTag(item);if(converted!==void 0){result.push(converted);}}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}return result.length===0?void 0:result;}function asSymbolInformation(item){var _item$containerName,_item$containerName2;var data=item.data;var location2=item.location;var result=location2.range===void 0||data!==void 0?new protocolWorkspaceSymbol_1.default(item.name,asSymbolKind(item.kind),(_item$containerName=item.containerName)!==null&&_item$containerName!==void 0?_item$containerName:"",location2.range===void 0?_uriConverter(location2.uri):new code.Location(_uriConverter(item.location.uri),asRange(location2.range)),data):new code.SymbolInformation(item.name,asSymbolKind(item.kind),(_item$containerName2=item.containerName)!==null&&_item$containerName2!==void 0?_item$containerName2:"",new code.Location(_uriConverter(item.location.uri),asRange(location2.range)));fillTags(result,item);return result;}function asDocumentSymbols(values){if(values===void 0||values===null){return void 0;}return values.map(asDocumentSymbol);}function asDocumentSymbol(value){var result=new code.DocumentSymbol(value.name,value.detail||"",asSymbolKind(value.kind),asRange(value.range),asRange(value.selectionRange));fillTags(result,value);if(value.children!==void 0&&value.children.length>0){var children=[];var _iterator17=_createForOfIteratorHelper(value.children),_step14;try{for(_iterator17.s();!(_step14=_iterator17.n()).done;){var child=_step14.value;children.push(asDocumentSymbol(child));}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}result.children=children;}return result;}function fillTags(result,value){result.tags=asSymbolTags(value.tags);if(value.deprecated){if(!result.tags){result.tags=[code.SymbolTag.Deprecated];}else{if(!result.tags.includes(code.SymbolTag.Deprecated)){result.tags=result.tags.concat(code.SymbolTag.Deprecated);}}}}function asCommand(item){var result={title:item.title,command:item.command};if(item.arguments){result.arguments=item.arguments;}return result;}function asCommands(items){if(!items){return void 0;}return items.map(asCommand);}var kindMapping=new Map();kindMapping.set(ls2.CodeActionKind.Empty,code.CodeActionKind.Empty);kindMapping.set(ls2.CodeActionKind.QuickFix,code.CodeActionKind.QuickFix);kindMapping.set(ls2.CodeActionKind.Refactor,code.CodeActionKind.Refactor);kindMapping.set(ls2.CodeActionKind.RefactorExtract,code.CodeActionKind.RefactorExtract);kindMapping.set(ls2.CodeActionKind.RefactorInline,code.CodeActionKind.RefactorInline);kindMapping.set(ls2.CodeActionKind.RefactorRewrite,code.CodeActionKind.RefactorRewrite);kindMapping.set(ls2.CodeActionKind.Source,code.CodeActionKind.Source);kindMapping.set(ls2.CodeActionKind.SourceOrganizeImports,code.CodeActionKind.SourceOrganizeImports);function asCodeActionKind(item){if(item===void 0||item===null){return void 0;}var result=kindMapping.get(item);if(result){return result;}var parts=item.split(".");result=code.CodeActionKind.Empty;var _iterator18=_createForOfIteratorHelper(parts),_step15;try{for(_iterator18.s();!(_step15=_iterator18.n()).done;){var part=_step15.value;result=result.append(part);}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}return result;}function asCodeActionKinds(items){if(items===void 0||items===null){return void 0;}return items.map(function(kind){return asCodeActionKind(kind);});}function asCodeAction(item){if(item===void 0||item===null){return void 0;}var result=new protocolCodeAction_1.default(item.title,item.data);if(item.kind!==void 0){result.kind=asCodeActionKind(item.kind);}if(item.diagnostics!==void 0){result.diagnostics=asDiagnostics(item.diagnostics);}if(item.edit!==void 0){result.edit=asWorkspaceEdit(item.edit);}if(item.command!==void 0){result.command=asCommand(item.command);}if(item.isPreferred!==void 0){result.isPreferred=item.isPreferred;}if(item.disabled!==void 0){result.disabled={reason:item.disabled.reason};}return result;}function asCodeLens(item){if(!item){return void 0;}var result=new protocolCodeLens_1.default(asRange(item.range));if(item.command){result.command=asCommand(item.command);}if(item.data!==void 0&&item.data!==null){result.data=item.data;}return result;}function asCodeLenses(items){if(!items){return void 0;}return items.map(function(codeLens){return asCodeLens(codeLens);});}function asWorkspaceEdit(item){if(!item){return void 0;}var sharedMetadata=new Map();if(item.changeAnnotations!==void 0){for(var _i5=0,_Object$keys2=Object.keys(item.changeAnnotations);_i5<_Object$keys2.length;_i5++){var key=_Object$keys2[_i5];var metaData=asWorkspaceEditEntryMetadata(item.changeAnnotations[key]);sharedMetadata.set(key,metaData);}}var asMetadata=function asMetadata(annotation){if(annotation===void 0){return void 0;}else{return sharedMetadata.get(annotation);}};var result=new code.WorkspaceEdit();if(item.documentChanges){var _iterator19=_createForOfIteratorHelper(item.documentChanges),_step16;try{for(_iterator19.s();!(_step16=_iterator19.n()).done;){var change=_step16.value;if(ls2.CreateFile.is(change)){result.createFile(_uriConverter(change.uri),change.options,asMetadata(change.annotationId));}else if(ls2.RenameFile.is(change)){result.renameFile(_uriConverter(change.oldUri),_uriConverter(change.newUri),change.options,asMetadata(change.annotationId));}else if(ls2.DeleteFile.is(change)){result.deleteFile(_uriConverter(change.uri),change.options,asMetadata(change.annotationId));}else if(ls2.TextDocumentEdit.is(change)){var uri=_uriConverter(change.textDocument.uri);var _iterator20=_createForOfIteratorHelper(change.edits),_step17;try{for(_iterator20.s();!(_step17=_iterator20.n()).done;){var edit=_step17.value;if(vscode_languageserver_protocol_1.AnnotatedTextEdit.is(edit)){result.replace(uri,asRange(edit.range),edit.newText,asMetadata(edit.annotationId));}else{result.replace(uri,asRange(edit.range),edit.newText);}}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}}else{throw new Error("Unknown workspace edit change received:\n".concat(JSON.stringify(change,void 0,4)));}}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}}else if(item.changes){Object.keys(item.changes).forEach(function(key){result.set(_uriConverter(key),asTextEdits(item.changes[key]));});}return result;}function asWorkspaceEditEntryMetadata(annotation){if(annotation===void 0){return void 0;}return{label:annotation.label,needsConfirmation:!!annotation.needsConfirmation,description:annotation.description};}function asDocumentLink(item){var range=asRange(item.range);var target=item.target?asUri(item.target):void 0;var link=new protocolDocumentLink_1.default(range,target);if(item.tooltip!==void 0){link.tooltip=item.tooltip;}if(item.data!==void 0&&item.data!==null){link.data=item.data;}return link;}function asDocumentLinks(items){if(!items){return void 0;}return items.map(asDocumentLink);}function asColor(color){return new code.Color(color.red,color.green,color.blue,color.alpha);}function asColorInformation(ci2){return new code.ColorInformation(asRange(ci2.range),asColor(ci2.color));}function asColorInformations(colorInformation){if(Array.isArray(colorInformation)){return colorInformation.map(asColorInformation);}return void 0;}function asColorPresentation(cp){var presentation=new code.ColorPresentation(cp.label);presentation.additionalTextEdits=asTextEdits(cp.additionalTextEdits);if(cp.textEdit){presentation.textEdit=asTextEdit(cp.textEdit);}return presentation;}function asColorPresentations(colorPresentations){if(Array.isArray(colorPresentations)){return colorPresentations.map(asColorPresentation);}return void 0;}function asFoldingRangeKind(kind){if(kind){switch(kind){case ls2.FoldingRangeKind.Comment:return code.FoldingRangeKind.Comment;case ls2.FoldingRangeKind.Imports:return code.FoldingRangeKind.Imports;case ls2.FoldingRangeKind.Region:return code.FoldingRangeKind.Region;}}return void 0;}function asFoldingRange(r){return new code.FoldingRange(r.startLine,r.endLine,asFoldingRangeKind(r.kind));}function asFoldingRanges(foldingRanges){if(Array.isArray(foldingRanges)){return foldingRanges.map(asFoldingRange);}return void 0;}function asSelectionRange(selectionRange){return new code.SelectionRange(asRange(selectionRange.range),selectionRange.parent?asSelectionRange(selectionRange.parent):void 0);}function asSelectionRanges(selectionRanges){if(!Array.isArray(selectionRanges)){return[];}var result=[];var _iterator21=_createForOfIteratorHelper(selectionRanges),_step18;try{for(_iterator21.s();!(_step18=_iterator21.n()).done;){var range=_step18.value;result.push(asSelectionRange(range));}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}return result;}function asInlineValue(inlineValue){if(ls2.InlineValueText.is(inlineValue)){return new code.InlineValueText(asRange(inlineValue.range),inlineValue.text);}else if(ls2.InlineValueVariableLookup.is(inlineValue)){return new code.InlineValueVariableLookup(asRange(inlineValue.range),inlineValue.variableName,inlineValue.caseSensitiveLookup);}else{return new code.InlineValueEvaluatableExpression(asRange(inlineValue.range),inlineValue.expression);}}function asInlineValues(inlineValues){if(!Array.isArray(inlineValues)){return[];}var result=[];var _iterator22=_createForOfIteratorHelper(inlineValues),_step19;try{for(_iterator22.s();!(_step19=_iterator22.n()).done;){var inlineValue=_step19.value;result.push(asInlineValue(inlineValue));}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return result;}function asCallHierarchyItem(item){if(item===null){return void 0;}var result=new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind),item.name,item.detail||"",asUri(item.uri),asRange(item.range),asRange(item.selectionRange),item.data);if(item.tags!==void 0){result.tags=asSymbolTags(item.tags);}return result;}function asCallHierarchyItems(items){if(items===null){return void 0;}return items.map(function(item){return asCallHierarchyItem(item);});}function asCallHierarchyIncomingCall(item){return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from),asRanges(item.fromRanges));}function asCallHierarchyIncomingCalls(items){if(items===null){return void 0;}return items.map(function(item){return asCallHierarchyIncomingCall(item);});}function asCallHierarchyOutgoingCall(item){return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to),asRanges(item.fromRanges));}function asCallHierarchyOutgoingCalls(items){if(items===null){return void 0;}return items.map(function(item){return asCallHierarchyOutgoingCall(item);});}function asSemanticTokens(value){if(value===void 0||value===null){return void 0;}return new code.SemanticTokens(new Uint32Array(value.data),value.resultId);}function asSemanticTokensEdit(value){return new code.SemanticTokensEdit(value.start,value.deleteCount,value.data!==void 0?new Uint32Array(value.data):void 0);}function asSemanticTokensEdits(value){if(value===void 0||value===null){return void 0;}return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit),value.resultId);}function asSemanticTokensLegend(value){return value;}function asLinkedEditingRanges(value){if(value===null||value===void 0){return void 0;}return new code.LinkedEditingRanges(asRanges(value.ranges),asRegularExpression(value.wordPattern));}function asRegularExpression(value){if(value===null||value===void 0){return void 0;}return new RegExp(value);}function asTypeHierarchyItem(item){if(item===null){return void 0;}var result=new protocolTypeHierarchyItem_1.default(asSymbolKind(item.kind),item.name,item.detail||"",asUri(item.uri),asRange(item.range),asRange(item.selectionRange),item.data);if(item.tags!==void 0){result.tags=asSymbolTags(item.tags);}return result;}function asTypeHierarchyItems(items){if(items===null){return void 0;}return items.map(function(item){return asTypeHierarchyItem(item);});}return{asUri:asUri,asDiagnostics:asDiagnostics,asDiagnostic:asDiagnostic,asRange:asRange,asRanges:asRanges,asPosition:asPosition,asDiagnosticSeverity:asDiagnosticSeverity,asDiagnosticTag:asDiagnosticTag,asHover:asHover,asCompletionResult:asCompletionResult,asCompletionItem:asCompletionItem,asTextEdit:asTextEdit,asTextEdits:asTextEdits,asSignatureHelp:asSignatureHelp,asSignatureInformations:asSignatureInformations,asSignatureInformation:asSignatureInformation,asParameterInformations:asParameterInformations,asParameterInformation:asParameterInformation,asDeclarationResult:asDeclarationResult,asDefinitionResult:asDefinitionResult,asLocation:asLocation,asReferences:asReferences,asDocumentHighlights:asDocumentHighlights,asDocumentHighlight:asDocumentHighlight,asDocumentHighlightKind:asDocumentHighlightKind,asSymbolKind:asSymbolKind,asSymbolTag:asSymbolTag,asSymbolTags:asSymbolTags,asSymbolInformations:asSymbolInformations,asSymbolInformation:asSymbolInformation,asDocumentSymbols:asDocumentSymbols,asDocumentSymbol:asDocumentSymbol,asCommand:asCommand,asCommands:asCommands,asCodeAction:asCodeAction,asCodeActionKind:asCodeActionKind,asCodeActionKinds:asCodeActionKinds,asCodeLens:asCodeLens,asCodeLenses:asCodeLenses,asWorkspaceEdit:asWorkspaceEdit,asDocumentLink:asDocumentLink,asDocumentLinks:asDocumentLinks,asFoldingRangeKind:asFoldingRangeKind,asFoldingRange:asFoldingRange,asFoldingRanges:asFoldingRanges,asColor:asColor,asColorInformation:asColorInformation,asColorInformations:asColorInformations,asColorPresentation:asColorPresentation,asColorPresentations:asColorPresentations,asSelectionRange:asSelectionRange,asSelectionRanges:asSelectionRanges,asInlineValue:asInlineValue,asInlineValues:asInlineValues,asSemanticTokensLegend:asSemanticTokensLegend,asSemanticTokens:asSemanticTokens,asSemanticTokensEdit:asSemanticTokensEdit,asSemanticTokensEdits:asSemanticTokensEdits,asCallHierarchyItem:asCallHierarchyItem,asCallHierarchyItems:asCallHierarchyItems,asCallHierarchyIncomingCall:asCallHierarchyIncomingCall,asCallHierarchyIncomingCalls:asCallHierarchyIncomingCalls,asCallHierarchyOutgoingCall:asCallHierarchyOutgoingCall,asCallHierarchyOutgoingCalls:asCallHierarchyOutgoingCalls,asLinkedEditingRanges:asLinkedEditingRanges,asTypeHierarchyItem:asTypeHierarchyItem,asTypeHierarchyItems:asTypeHierarchyItems};}exports.createConverter=createConverter;}});// client/node_modules/vscode-languageclient/lib/common/utils/async.js
var require_async=__commonJS({"client/node_modules/vscode-languageclient/lib/common/utils/async.js":function clientNode_modulesVscodeLanguageclientLibCommonUtilsAsyncJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Delayer=void 0;var vscode_languageserver_protocol_1=require_main3();var Delayer=/*#__PURE__*/function(){function Delayer(defaultDelay){_classCallCheck(this,Delayer);this.defaultDelay=defaultDelay;this.timeout=void 0;this.completionPromise=void 0;this.onSuccess=void 0;this.task=void 0;}_createClass(Delayer,[{key:"trigger",value:function trigger(task){var _this39=this;var delay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.defaultDelay;this.task=task;if(delay>=0){this.cancelTimeout();}if(!this.completionPromise){this.completionPromise=new Promise(function(resolve){_this39.onSuccess=resolve;}).then(function(){_this39.completionPromise=void 0;_this39.onSuccess=void 0;var result=_this39.task();_this39.task=void 0;return result;});}if(delay>=0||this.timeout===void 0){this.timeout=(0,vscode_languageserver_protocol_1.RAL)().timer.setTimeout(function(){_this39.timeout=void 0;_this39.onSuccess(void 0);},delay>=0?delay:this.defaultDelay);}return this.completionPromise;}},{key:"forceDelivery",value:function forceDelivery(){if(!this.completionPromise){return void 0;}this.cancelTimeout();var result=this.task();this.completionPromise=void 0;this.onSuccess=void 0;this.task=void 0;return result;}},{key:"isTriggered",value:function isTriggered(){return this.timeout!==void 0;}},{key:"cancel",value:function cancel(){this.cancelTimeout();this.completionPromise=void 0;}},{key:"cancelTimeout",value:function cancelTimeout(){if(this.timeout!==void 0){this.timeout.dispose();this.timeout=void 0;}}}]);return Delayer;}();exports.Delayer=Delayer;}});// client/node_modules/vscode-languageclient/lib/common/utils/uuid.js
var require_uuid=__commonJS({"client/node_modules/vscode-languageclient/lib/common/utils/uuid.js":function clientNode_modulesVscodeLanguageclientLibCommonUtilsUuidJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.generateUuid=exports.parse=exports.isUUID=exports.v4=exports.empty=void 0;var ValueUUID=/*#__PURE__*/function(){function ValueUUID(_value){_classCallCheck(this,ValueUUID);this._value=_value;}_createClass(ValueUUID,[{key:"asHex",value:function asHex(){return this._value;}},{key:"equals",value:function equals(other){return this.asHex()===other.asHex();}}]);return ValueUUID;}();var V4UUID=/*#__PURE__*/function(_ValueUUID){_inherits(V4UUID,_ValueUUID);var _super44=_createSuper(V4UUID);function V4UUID(){_classCallCheck(this,V4UUID);return _super44.call(this,[V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-","4",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._oneOf(V4UUID._timeHighBits),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex()].join(""));}_createClass(V4UUID,null,[{key:"_oneOf",value:function _oneOf(array){return array[Math.floor(array.length*Math.random())];}},{key:"_randomHex",value:function _randomHex(){return V4UUID._oneOf(V4UUID._chars);}}]);return V4UUID;}(ValueUUID);V4UUID._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];V4UUID._timeHighBits=["8","9","a","b"];exports.empty=new ValueUUID("00000000-0000-0000-0000-000000000000");function v4(){return new V4UUID();}exports.v4=v4;var _UUIDPattern=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function isUUID(value){return _UUIDPattern.test(value);}exports.isUUID=isUUID;function parse(value){if(!isUUID(value)){throw new Error("invalid uuid");}return new ValueUUID(value);}exports.parse=parse;function generateUuid(){return v4().asHex();}exports.generateUuid=generateUuid;}});// client/node_modules/vscode-languageclient/lib/common/progressPart.js
var require_progressPart=__commonJS({"client/node_modules/vscode-languageclient/lib/common/progressPart.js":function clientNode_modulesVscodeLanguageclientLibCommonProgressPartJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProgressPart=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var Is2=require_is3();var ProgressPart=/*#__PURE__*/function(){function ProgressPart(_client,_token,done){var _this40=this;_classCallCheck(this,ProgressPart);this._client=_client;this._token=_token;this._reported=0;this._infinite=false;this._lspProgressDisposable=this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type,this._token,function(value){switch(value.kind){case"begin":_this40.begin(value);break;case"report":_this40.report(value);break;case"end":_this40.done();done&&done(_this40);break;}});}_createClass(ProgressPart,[{key:"begin",value:function begin(params){var _this41=this;this._infinite=params.percentage===void 0;if(this._lspProgressDisposable===void 0){return;}void vscode_1.window.withProgress({location:vscode_1.ProgressLocation.Window,cancellable:params.cancellable,title:params.title},/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(progress,cancellationToken){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(_this41._lspProgressDisposable===void 0)){_context4.next=2;break;}return _context4.abrupt("return");case 2:_this41._progress=progress;_this41._cancellationToken=cancellationToken;_this41._tokenDisposable=_this41._cancellationToken.onCancellationRequested(function(){_this41._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type,{token:_this41._token});});_this41.report(params);return _context4.abrupt("return",new Promise(function(resolve,reject){_this41._resolve=resolve;_this41._reject=reject;}));case 7:case"end":return _context4.stop();}}},_callee4);}));return function(_x9,_x10){return _ref5.apply(this,arguments);};}());}},{key:"report",value:function report(params){if(this._infinite&&Is2.string(params.message)){this._progress!==void 0&&this._progress.report({message:params.message});}else if(Is2.number(params.percentage)){var percentage=Math.max(0,Math.min(params.percentage,100));var delta=Math.max(0,percentage-this._reported);this._reported+=delta;this._progress!==void 0&&this._progress.report({message:params.message,increment:delta});}}},{key:"cancel",value:function cancel(){this.cleanup();if(this._reject!==void 0){this._reject();this._resolve=void 0;this._reject=void 0;}}},{key:"done",value:function done(){this.cleanup();if(this._resolve!==void 0){this._resolve();this._resolve=void 0;this._reject=void 0;}}},{key:"cleanup",value:function cleanup(){if(this._lspProgressDisposable!==void 0){this._lspProgressDisposable.dispose();this._lspProgressDisposable=void 0;}if(this._tokenDisposable!==void 0){this._tokenDisposable.dispose();this._tokenDisposable=void 0;}this._progress=void 0;this._cancellationToken=void 0;}}]);return ProgressPart;}();exports.ProgressPart=ProgressPart;}});// client/node_modules/vscode-languageclient/lib/common/client.js
var require_client=__commonJS({"client/node_modules/vscode-languageclient/lib/common/client.js":function clientNode_modulesVscodeLanguageclientLibCommonClientJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BaseLanguageClient=exports.LSPCancellationError=exports.MessageTransports=exports.TextDocumentFeature=exports.State=exports.RevealOutputChannelOn=exports.DiagnosticPullMode=exports.CloseAction=exports.ErrorAction=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var configuration_1=require_configuration();var c2p=require_codeConverter();var p2c=require_protocolConverter();var Is2=require_is3();var async_1=require_async();var UUID=require_uuid();var progressPart_1=require_progressPart();var ConsoleLogger=/*#__PURE__*/function(){function ConsoleLogger(){_classCallCheck(this,ConsoleLogger);}_createClass(ConsoleLogger,[{key:"error",value:function error(message){(0,vscode_languageserver_protocol_1.RAL)().console.error(message);}},{key:"warn",value:function warn(message){(0,vscode_languageserver_protocol_1.RAL)().console.warn(message);}},{key:"info",value:function info(message){(0,vscode_languageserver_protocol_1.RAL)().console.info(message);}},{key:"log",value:function log(message){(0,vscode_languageserver_protocol_1.RAL)().console.log(message);}}]);return ConsoleLogger;}();function _createConnection(input,output,errorHandler,closeHandler,options){var logger=new ConsoleLogger();var connection=(0,vscode_languageserver_protocol_1.createProtocolConnection)(input,output,logger,options);connection.onError(function(data){errorHandler(data[0],data[1],data[2]);});connection.onClose(closeHandler);var result={listen:function listen(){return connection.listen();},sendRequest:function sendRequest(type){for(var _len7=arguments.length,params=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){params[_key7-1]=arguments[_key7];}return connection.sendRequest.apply(connection,[type].concat(params));},onRequest:function onRequest(type,handler){return connection.onRequest(type,handler);},sendNotification:function sendNotification(type,params){return connection.sendNotification(type,params);},onNotification:function onNotification(type,handler){return connection.onNotification(type,handler);},onProgress:connection.onProgress,sendProgress:connection.sendProgress,trace:function trace(value,tracer,sendNotificationOrTraceOptions){var defaultTraceOptions={sendNotification:false,traceFormat:vscode_languageserver_protocol_1.TraceFormat.Text};if(sendNotificationOrTraceOptions===void 0){connection.trace(value,tracer,defaultTraceOptions);}else if(Is2.boolean(sendNotificationOrTraceOptions)){connection.trace(value,tracer,sendNotificationOrTraceOptions);}else{connection.trace(value,tracer,sendNotificationOrTraceOptions);}},initialize:function initialize(params){return connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type,params);},shutdown:function shutdown(){return connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type,void 0);},exit:function exit(){return connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type);},onLogMessage:function onLogMessage(handler){return connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type,handler);},onShowMessage:function onShowMessage(handler){return connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type,handler);},onTelemetry:function onTelemetry(handler){return connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type,handler);},didChangeConfiguration:function didChangeConfiguration(params){return connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type,params);},didChangeWatchedFiles:function didChangeWatchedFiles(params){return connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type,params);},didOpenTextDocument:function didOpenTextDocument(params){return connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type,params);},didChangeTextDocument:function didChangeTextDocument(params){return connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,params);},didCloseTextDocument:function didCloseTextDocument(params){return connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type,params);},didSaveTextDocument:function didSaveTextDocument(params){return connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type,params);},onDiagnostics:function onDiagnostics(handler){return connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type,handler);},end:function end(){return connection.end();},dispose:function dispose(){return connection.dispose();}};return result;}var ErrorAction;(function(ErrorAction2){ErrorAction2[ErrorAction2["Continue"]=1]="Continue";ErrorAction2[ErrorAction2["Shutdown"]=2]="Shutdown";})(ErrorAction=exports.ErrorAction||(exports.ErrorAction={}));var CloseAction;(function(CloseAction2){CloseAction2[CloseAction2["DoNotRestart"]=1]="DoNotRestart";CloseAction2[CloseAction2["Restart"]=2]="Restart";})(CloseAction=exports.CloseAction||(exports.CloseAction={}));var DefaultErrorHandler=/*#__PURE__*/function(){function DefaultErrorHandler(client,maxRestartCount){_classCallCheck(this,DefaultErrorHandler);this.client=client;this.maxRestartCount=maxRestartCount;this.restarts=[];}_createClass(DefaultErrorHandler,[{key:"error",value:function error(_error,_message,count){if(count&&count<=3){return{action:ErrorAction.Continue};}return{action:ErrorAction.Shutdown};}},{key:"closed",value:function closed(){this.restarts.push(Date.now());if(this.restarts.length<=this.maxRestartCount){return{action:CloseAction.Restart};}else{var diff=this.restarts[this.restarts.length-1]-this.restarts[0];if(diff<=3*60*1e3){return{action:CloseAction.DoNotRestart,message:"The ".concat(this.client.name," server crashed ").concat(this.maxRestartCount+1," times in the last 3 minutes. The server will not be restarted. The output for more information.")};}else{this.restarts.shift();return{action:CloseAction.Restart};}}}}]);return DefaultErrorHandler;}();var DiagnosticPullMode;(function(DiagnosticPullMode2){DiagnosticPullMode2["onType"]="onType";DiagnosticPullMode2["onSave"]="onSave";})(DiagnosticPullMode=exports.DiagnosticPullMode||(exports.DiagnosticPullMode={}));var RevealOutputChannelOn2;(function(RevealOutputChannelOn3){RevealOutputChannelOn3[RevealOutputChannelOn3["Info"]=1]="Info";RevealOutputChannelOn3[RevealOutputChannelOn3["Warn"]=2]="Warn";RevealOutputChannelOn3[RevealOutputChannelOn3["Error"]=3]="Error";RevealOutputChannelOn3[RevealOutputChannelOn3["Never"]=4]="Never";})(RevealOutputChannelOn2=exports.RevealOutputChannelOn||(exports.RevealOutputChannelOn={}));var State;(function(State2){State2[State2["Stopped"]=1]="Stopped";State2[State2["Starting"]=3]="Starting";State2[State2["Running"]=2]="Running";})(State=exports.State||(exports.State={}));var ClientState;(function(ClientState2){ClientState2[ClientState2["Initial"]=0]="Initial";ClientState2[ClientState2["Starting"]=1]="Starting";ClientState2[ClientState2["StartFailed"]=2]="StartFailed";ClientState2[ClientState2["Running"]=3]="Running";ClientState2[ClientState2["Stopping"]=4]="Stopping";ClientState2[ClientState2["Stopped"]=5]="Stopped";})(ClientState||(ClientState={}));var SupportedSymbolKinds=[vscode_languageserver_protocol_1.SymbolKind.File,vscode_languageserver_protocol_1.SymbolKind.Module,vscode_languageserver_protocol_1.SymbolKind.Namespace,vscode_languageserver_protocol_1.SymbolKind.Package,vscode_languageserver_protocol_1.SymbolKind.Class,vscode_languageserver_protocol_1.SymbolKind.Method,vscode_languageserver_protocol_1.SymbolKind.Property,vscode_languageserver_protocol_1.SymbolKind.Field,vscode_languageserver_protocol_1.SymbolKind.Constructor,vscode_languageserver_protocol_1.SymbolKind.Enum,vscode_languageserver_protocol_1.SymbolKind.Interface,vscode_languageserver_protocol_1.SymbolKind.Function,vscode_languageserver_protocol_1.SymbolKind.Variable,vscode_languageserver_protocol_1.SymbolKind.Constant,vscode_languageserver_protocol_1.SymbolKind.String,vscode_languageserver_protocol_1.SymbolKind.Number,vscode_languageserver_protocol_1.SymbolKind.Boolean,vscode_languageserver_protocol_1.SymbolKind.Array,vscode_languageserver_protocol_1.SymbolKind.Object,vscode_languageserver_protocol_1.SymbolKind.Key,vscode_languageserver_protocol_1.SymbolKind.Null,vscode_languageserver_protocol_1.SymbolKind.EnumMember,vscode_languageserver_protocol_1.SymbolKind.Struct,vscode_languageserver_protocol_1.SymbolKind.Event,vscode_languageserver_protocol_1.SymbolKind.Operator,vscode_languageserver_protocol_1.SymbolKind.TypeParameter];var SupportedCompletionItemKinds=[vscode_languageserver_protocol_1.CompletionItemKind.Text,vscode_languageserver_protocol_1.CompletionItemKind.Method,vscode_languageserver_protocol_1.CompletionItemKind.Function,vscode_languageserver_protocol_1.CompletionItemKind.Constructor,vscode_languageserver_protocol_1.CompletionItemKind.Field,vscode_languageserver_protocol_1.CompletionItemKind.Variable,vscode_languageserver_protocol_1.CompletionItemKind.Class,vscode_languageserver_protocol_1.CompletionItemKind.Interface,vscode_languageserver_protocol_1.CompletionItemKind.Module,vscode_languageserver_protocol_1.CompletionItemKind.Property,vscode_languageserver_protocol_1.CompletionItemKind.Unit,vscode_languageserver_protocol_1.CompletionItemKind.Value,vscode_languageserver_protocol_1.CompletionItemKind.Enum,vscode_languageserver_protocol_1.CompletionItemKind.Keyword,vscode_languageserver_protocol_1.CompletionItemKind.Snippet,vscode_languageserver_protocol_1.CompletionItemKind.Color,vscode_languageserver_protocol_1.CompletionItemKind.File,vscode_languageserver_protocol_1.CompletionItemKind.Reference,vscode_languageserver_protocol_1.CompletionItemKind.Folder,vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,vscode_languageserver_protocol_1.CompletionItemKind.Constant,vscode_languageserver_protocol_1.CompletionItemKind.Struct,vscode_languageserver_protocol_1.CompletionItemKind.Event,vscode_languageserver_protocol_1.CompletionItemKind.Operator,vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter];var SupportedSymbolTags=[vscode_languageserver_protocol_1.SymbolTag.Deprecated];function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var FileFormattingOptions;(function(FileFormattingOptions2){function fromConfiguration(document2){var filesConfig=vscode_1.workspace.getConfiguration("files",document2);return{trimTrailingWhitespace:filesConfig.get("trimTrailingWhitespace"),trimFinalNewlines:filesConfig.get("trimFinalNewlines"),insertFinalNewline:filesConfig.get("insertFinalNewline")};}FileFormattingOptions2.fromConfiguration=fromConfiguration;})(FileFormattingOptions||(FileFormattingOptions={}));var DynamicFeature;(function(DynamicFeature2){function is2(value){var candidate=value;return candidate&&Is2.func(candidate.register)&&Is2.func(candidate.unregister)&&Is2.func(candidate.dispose)&&candidate.registrationType!==void 0;}DynamicFeature2.is=is2;})(DynamicFeature||(DynamicFeature={}));var DocumentNotifications=/*#__PURE__*/function(){function DocumentNotifications(_client,_event,_type,_middleware,_createParams,_selectorFilter){_classCallCheck(this,DocumentNotifications);this._client=_client;this._event=_event;this._type=_type;this._middleware=_middleware;this._createParams=_createParams;this._selectorFilter=_selectorFilter;this._selectors=new Map();this._onNotificationSent=new vscode_1.EventEmitter();}_createClass(DocumentNotifications,[{key:"register",value:function register(data){var _this42=this;if(!data.registerOptions.documentSelector){return;}if(!this._listener){this._listener=this._event(function(data2){_this42.callback(data2).catch(function(error){_this42._client.error("Sending document notification ".concat(_this42._type.method," failed."),error);});});}this._selectors.set(data.id,data.registerOptions.documentSelector);}},{key:"callback",value:function(){var _callback=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(data){var _this43=this;var doSend;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:doSend=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(data2){var params;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:params=_this43._createParams(data2);_context5.next=3;return _this43._client.sendNotification(_this43._type,params).catch();case 3:_this43.notificationSent(data2,_this43._type,params);case 4:case"end":return _context5.stop();}}},_callee5);}));return function doSend(_x12){return _ref6.apply(this,arguments);};}();if(!(!this._selectorFilter||this._selectorFilter(this._selectors.values(),data))){_context6.next=3;break;}return _context6.abrupt("return",this._middleware?this._middleware(data,function(data2){return doSend(data2);}):doSend(data));case 3:case"end":return _context6.stop();}}},_callee6,this);}));function callback(_x11){return _callback.apply(this,arguments);}return callback;}()},{key:"onNotificationSent",get:function get(){return this._onNotificationSent.event;}},{key:"notificationSent",value:function notificationSent(data,type,params){this._onNotificationSent.fire({original:data,type:type,params:params});}},{key:"unregister",value:function unregister(id){this._selectors.delete(id);if(this._selectors.size===0&&this._listener){this._listener.dispose();this._listener=void 0;}}},{key:"dispose",value:function dispose(){this._selectors.clear();this._onNotificationSent.dispose();if(this._listener){this._listener.dispose();this._listener=void 0;}}},{key:"getProvider",value:function getProvider(document2){var _this44=this;var _iterator23=_createForOfIteratorHelper(this._selectors.values()),_step20;try{for(_iterator23.s();!(_step20=_iterator23.n()).done;){var selector=_step20.value;if(vscode_1.languages.match(selector,document2)){return{send:function send(data){return _this44.callback(data);}};}}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}return void 0;}}],[{key:"textDocumentFilter",value:function textDocumentFilter(selectors,textDocument){var _iterator24=_createForOfIteratorHelper(selectors),_step21;try{for(_iterator24.s();!(_step21=_iterator24.n()).done;){var selector=_step21.value;if(vscode_1.languages.match(selector,textDocument)){return true;}}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}return false;}}]);return DocumentNotifications;}();var DidOpenTextDocumentFeature=/*#__PURE__*/function(_DocumentNotification){_inherits(DidOpenTextDocumentFeature,_DocumentNotification);var _super45=_createSuper(DidOpenTextDocumentFeature);function DidOpenTextDocumentFeature(client,_syncedDocuments){var _this45;_classCallCheck(this,DidOpenTextDocumentFeature);_this45=_super45.call(this,client,vscode_1.workspace.onDidOpenTextDocument,vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type,client.clientOptions.middleware.didOpen,function(textDocument){return client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument);},DocumentNotifications.textDocumentFilter);_this45._syncedDocuments=_syncedDocuments;return _this45;}_createClass(DidOpenTextDocumentFeature,[{key:"openDocuments",get:function get(){return this._syncedDocuments.values();}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"synchronization").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;if(documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.openClose){this.register({id:UUID.generateUuid(),registerOptions:{documentSelector:documentSelector}});}}},{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;}},{key:"register",value:function register(data){var _this46=this;_get(_getPrototypeOf(DidOpenTextDocumentFeature.prototype),"register",this).call(this,data);if(!data.registerOptions.documentSelector){return;}var documentSelector=data.registerOptions.documentSelector;vscode_1.workspace.textDocuments.forEach(function(textDocument){var uri=textDocument.uri.toString();if(_this46._syncedDocuments.has(uri)){return;}if(vscode_1.languages.match(documentSelector,textDocument)){var middleware=_this46._client.clientOptions.middleware;var didOpen=function didOpen(textDocument2){return _this46._client.sendNotification(_this46._type,_this46._createParams(textDocument2));};(middleware.didOpen?middleware.didOpen(textDocument,didOpen):didOpen(textDocument)).catch(function(error){_this46._client.error("Sending document notification ".concat(_this46._type.method," failed"),error);});_this46._syncedDocuments.set(uri,textDocument);}});}},{key:"notificationSent",value:function notificationSent(textDocument,type,params){_get(_getPrototypeOf(DidOpenTextDocumentFeature.prototype),"notificationSent",this).call(this,textDocument,type,params);this._syncedDocuments.set(textDocument.uri.toString(),textDocument);}}]);return DidOpenTextDocumentFeature;}(DocumentNotifications);var DidCloseTextDocumentFeature=/*#__PURE__*/function(_DocumentNotification2){_inherits(DidCloseTextDocumentFeature,_DocumentNotification2);var _super46=_createSuper(DidCloseTextDocumentFeature);function DidCloseTextDocumentFeature(client,_syncedDocuments){var _this47;_classCallCheck(this,DidCloseTextDocumentFeature);_this47=_super46.call(this,client,vscode_1.workspace.onDidCloseTextDocument,vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type,client.clientOptions.middleware.didClose,function(textDocument){return client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument);},DocumentNotifications.textDocumentFilter);_this47._syncedDocuments=_syncedDocuments;return _this47;}_createClass(DidCloseTextDocumentFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"synchronization").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;if(documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.openClose){this.register({id:UUID.generateUuid(),registerOptions:{documentSelector:documentSelector}});}}},{key:"notificationSent",value:function notificationSent(textDocument,type,params){_get(_getPrototypeOf(DidCloseTextDocumentFeature.prototype),"notificationSent",this).call(this,textDocument,type,params);this._syncedDocuments.delete(textDocument.uri.toString());}},{key:"unregister",value:function unregister(id){var _this48=this;var selector=this._selectors.get(id);_get(_getPrototypeOf(DidCloseTextDocumentFeature.prototype),"unregister",this).call(this,id);var selectors=this._selectors.values();this._syncedDocuments.forEach(function(textDocument){if(vscode_1.languages.match(selector,textDocument)&&!_this48._selectorFilter(selectors,textDocument)){var middleware=_this48._client.clientOptions.middleware;var didClose=function didClose(textDocument2){return _this48._client.sendNotification(_this48._type,_this48._createParams(textDocument2));};_this48._syncedDocuments.delete(textDocument.uri.toString());(middleware.didClose?middleware.didClose(textDocument,didClose):didClose(textDocument)).catch(function(error){_this48._client.error("Sending document notification ".concat(_this48._type.method," failed"),error);});}});}}]);return DidCloseTextDocumentFeature;}(DocumentNotifications);var DidChangeTextDocumentFeature=/*#__PURE__*/function(){function DidChangeTextDocumentFeature(_client){_classCallCheck(this,DidChangeTextDocumentFeature);this._client=_client;this._changeData=new Map();this._forcingDelivery=false;this._onNotificationSent=new vscode_1.EventEmitter();}_createClass(DidChangeTextDocumentFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"synchronization").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;if(documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.change!==void 0&&textDocumentSyncOptions.change!==vscode_languageserver_protocol_1.TextDocumentSyncKind.None){this.register({id:UUID.generateUuid(),registerOptions:Object.assign({},{documentSelector:documentSelector},{syncKind:textDocumentSyncOptions.change})});}}},{key:"register",value:function register(data){if(!data.registerOptions.documentSelector){return;}if(!this._listener){this._listener=vscode_1.workspace.onDidChangeTextDocument(this.callback,this);}this._changeData.set(data.id,{documentSelector:data.registerOptions.documentSelector,syncKind:data.registerOptions.syncKind});}},{key:"callback",value:function(){var _callback2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee10(event){var _this49=this;var promises,_iterator25,_step22,changeData,middleware;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!(event.contentChanges.length===0)){_context10.next=2;break;}return _context10.abrupt("return");case 2:promises=[];_iterator25=_createForOfIteratorHelper(this._changeData.values());try{for(_iterator25.s();!(_step22=_iterator25.n()).done;){changeData=_step22.value;if(vscode_1.languages.match(changeData.documentSelector,event.document)){middleware=this._client.clientOptions.middleware;if(changeData.syncKind===vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental){(function(){var didChange=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(event2){var params;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:params=_this49._client.code2ProtocolConverter.asChangeTextDocumentParams(event2);_context7.next=3;return _this49._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,params);case 3:_this49.notificationSent(event2,vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,params);case 4:case"end":return _context7.stop();}}},_callee7);}));return function didChange(_x14){return _ref7.apply(this,arguments);};}();promises.push(middleware.didChange?middleware.didChange(event,function(event2){return didChange(event2);}):didChange(event));})();}else if(changeData.syncKind===vscode_languageserver_protocol_1.TextDocumentSyncKind.Full){(function(){var didChange=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(event2){var doSend;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:doSend=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(event3){var params;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:params=_this49._client.code2ProtocolConverter.asChangeTextDocumentParams(event3.document);_context8.next=3;return _this49._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,params);case 3:_this49.notificationSent(event3,vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,params);case 4:case"end":return _context8.stop();}}},_callee8);}));return function doSend(_x16){return _ref9.apply(this,arguments);};}();if(!_this49._changeDelayer){_context9.next=6;break;}if(_this49._changeDelayer.uri!==event2.document.uri.toString()){_this49.forceDelivery();_this49._changeDelayer.uri=event2.document.uri.toString();}return _context9.abrupt("return",_this49._changeDelayer.delayer.trigger(function(){return doSend(event2);}));case 6:_this49._changeDelayer={uri:event2.document.uri.toString(),delayer:new async_1.Delayer(200)};return _context9.abrupt("return",_this49._changeDelayer.delayer.trigger(function(){return doSend(event2);},-1));case 8:case"end":return _context9.stop();}}},_callee9);}));return function didChange(_x15){return _ref8.apply(this,arguments);};}();promises.push(middleware.didChange?middleware.didChange(event,function(event2){return didChange(event2);}):didChange(event));})();}}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}return _context10.abrupt("return",Promise.all(promises).then(void 0,function(error){_this49._client.error("Sending document notification ".concat(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method," failed"),error);throw error;}));case 6:case"end":return _context10.stop();}}},_callee10,this);}));function callback(_x13){return _callback2.apply(this,arguments);}return callback;}()},{key:"onNotificationSent",get:function get(){return this._onNotificationSent.event;}},{key:"notificationSent",value:function notificationSent(changeEvent,type,params){this._onNotificationSent.fire({original:changeEvent,type:type,params:params});}},{key:"unregister",value:function unregister(id){this._changeData.delete(id);if(this._changeData.size===0&&this._listener){this._listener.dispose();this._listener=void 0;}}},{key:"dispose",value:function dispose(){this._changeDelayer=void 0;this._forcingDelivery=false;this._changeData.clear();if(this._listener){this._listener.dispose();this._listener=void 0;}}},{key:"forceDelivery",value:function forceDelivery(){if(this._forcingDelivery||!this._changeDelayer){return;}try{this._forcingDelivery=true;this._changeDelayer.delayer.forceDelivery();}finally{this._forcingDelivery=false;}}},{key:"getProvider",value:function getProvider(document2){var _this50=this;var _iterator26=_createForOfIteratorHelper(this._changeData.values()),_step23;try{for(_iterator26.s();!(_step23=_iterator26.n()).done;){var changeData=_step23.value;if(vscode_1.languages.match(changeData.documentSelector,document2)){return{send:function send(event){return _this50.callback(event);}};}}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}return void 0;}}]);return DidChangeTextDocumentFeature;}();var WillSaveFeature=/*#__PURE__*/function(_DocumentNotification3){_inherits(WillSaveFeature,_DocumentNotification3);var _super47=_createSuper(WillSaveFeature);function WillSaveFeature(client){_classCallCheck(this,WillSaveFeature);return _super47.call(this,client,vscode_1.workspace.onWillSaveTextDocument,vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type,client.clientOptions.middleware.willSave,function(willSaveEvent){return client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent);},function(selectors,willSaveEvent){return DocumentNotifications.textDocumentFilter(selectors,willSaveEvent.document);});}_createClass(WillSaveFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var value=ensure(ensure(capabilities,"textDocument"),"synchronization");value.willSave=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;if(documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.willSave){this.register({id:UUID.generateUuid(),registerOptions:{documentSelector:documentSelector}});}}}]);return WillSaveFeature;}(DocumentNotifications);var WillSaveWaitUntilFeature=/*#__PURE__*/function(){function WillSaveWaitUntilFeature(_client){_classCallCheck(this,WillSaveWaitUntilFeature);this._client=_client;this._selectors=new Map();}_createClass(WillSaveWaitUntilFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var value=ensure(ensure(capabilities,"textDocument"),"synchronization");value.willSaveWaitUntil=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;if(documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.willSaveWaitUntil){this.register({id:UUID.generateUuid(),registerOptions:{documentSelector:documentSelector}});}}},{key:"register",value:function register(data){if(!data.registerOptions.documentSelector){return;}if(!this._listener){this._listener=vscode_1.workspace.onWillSaveTextDocument(this.callback,this);}this._selectors.set(data.id,data.registerOptions.documentSelector);}},{key:"callback",value:function callback(event){var _this51=this;if(DocumentNotifications.textDocumentFilter(this._selectors.values(),event.document)){var middleware=this._client.clientOptions.middleware;var willSaveWaitUntil=function willSaveWaitUntil(event2){return _this51._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type,_this51._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event2)).then(function(edits){var vEdits=_this51._client.protocol2CodeConverter.asTextEdits(edits);return vEdits===void 0?[]:vEdits;});};event.waitUntil(middleware.willSaveWaitUntil?middleware.willSaveWaitUntil(event,willSaveWaitUntil):willSaveWaitUntil(event));}}},{key:"unregister",value:function unregister(id){this._selectors.delete(id);if(this._selectors.size===0&&this._listener){this._listener.dispose();this._listener=void 0;}}},{key:"dispose",value:function dispose(){this._selectors.clear();if(this._listener){this._listener.dispose();this._listener=void 0;}}}]);return WillSaveWaitUntilFeature;}();var DidSaveTextDocumentFeature=/*#__PURE__*/function(_DocumentNotification4){_inherits(DidSaveTextDocumentFeature,_DocumentNotification4);var _super48=_createSuper(DidSaveTextDocumentFeature);function DidSaveTextDocumentFeature(client){var _this52;_classCallCheck(this,DidSaveTextDocumentFeature);_this52=_super48.call(this,client,vscode_1.workspace.onDidSaveTextDocument,vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type,client.clientOptions.middleware.didSave,function(textDocument){return client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument,_this52._includeText);},DocumentNotifications.textDocumentFilter);_this52._includeText=false;return _this52;}_createClass(DidSaveTextDocumentFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"synchronization").didSave=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var textDocumentSyncOptions=capabilities.resolvedTextDocumentSync;if(documentSelector&&textDocumentSyncOptions&&textDocumentSyncOptions.save){var saveOptions=typeof textDocumentSyncOptions.save==="boolean"?{includeText:false}:{includeText:!!textDocumentSyncOptions.save.includeText};this.register({id:UUID.generateUuid(),registerOptions:Object.assign({},{documentSelector:documentSelector},saveOptions)});}}},{key:"register",value:function register(data){this._includeText=!!data.registerOptions.includeText;_get(_getPrototypeOf(DidSaveTextDocumentFeature.prototype),"register",this).call(this,data);}}]);return DidSaveTextDocumentFeature;}(DocumentNotifications);var FileSystemWatcherFeature=/*#__PURE__*/function(){function FileSystemWatcherFeature(_client,_notifyFileEvent){_classCallCheck(this,FileSystemWatcherFeature);this._client=_client;this._notifyFileEvent=_notifyFileEvent;this._watchers=new Map();}_createClass(FileSystemWatcherFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"workspace"),"didChangeWatchedFiles").dynamicRegistration=true;}},{key:"initialize",value:function initialize(_capabilities,_documentSelector){}},{key:"register",value:function register(data){if(!Array.isArray(data.registerOptions.watchers)){return;}var disposables=[];var _iterator27=_createForOfIteratorHelper(data.registerOptions.watchers),_step24;try{for(_iterator27.s();!(_step24=_iterator27.n()).done;){var watcher=_step24.value;if(!Is2.string(watcher.globPattern)){continue;}var watchCreate=true,watchChange=true,watchDelete=true;if(watcher.kind!==void 0&&watcher.kind!==null){watchCreate=(watcher.kind&vscode_languageserver_protocol_1.WatchKind.Create)!==0;watchChange=(watcher.kind&vscode_languageserver_protocol_1.WatchKind.Change)!==0;watchDelete=(watcher.kind&vscode_languageserver_protocol_1.WatchKind.Delete)!==0;}var fileSystemWatcher=vscode_1.workspace.createFileSystemWatcher(watcher.globPattern,!watchCreate,!watchChange,!watchDelete);this.hookListeners(fileSystemWatcher,watchCreate,watchChange,watchDelete);disposables.push(fileSystemWatcher);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}this._watchers.set(data.id,disposables);}},{key:"registerRaw",value:function registerRaw(id,fileSystemWatchers){var disposables=[];var _iterator28=_createForOfIteratorHelper(fileSystemWatchers),_step25;try{for(_iterator28.s();!(_step25=_iterator28.n()).done;){var fileSystemWatcher=_step25.value;this.hookListeners(fileSystemWatcher,true,true,true,disposables);}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}this._watchers.set(id,disposables);}},{key:"hookListeners",value:function hookListeners(fileSystemWatcher,watchCreate,watchChange,watchDelete,listeners){var _this53=this;if(watchCreate){fileSystemWatcher.onDidCreate(function(resource){return _this53._notifyFileEvent({uri:_this53._client.code2ProtocolConverter.asUri(resource),type:vscode_languageserver_protocol_1.FileChangeType.Created});},null,listeners);}if(watchChange){fileSystemWatcher.onDidChange(function(resource){return _this53._notifyFileEvent({uri:_this53._client.code2ProtocolConverter.asUri(resource),type:vscode_languageserver_protocol_1.FileChangeType.Changed});},null,listeners);}if(watchDelete){fileSystemWatcher.onDidDelete(function(resource){return _this53._notifyFileEvent({uri:_this53._client.code2ProtocolConverter.asUri(resource),type:vscode_languageserver_protocol_1.FileChangeType.Deleted});},null,listeners);}}},{key:"unregister",value:function unregister(id){var disposables=this._watchers.get(id);if(disposables){var _iterator29=_createForOfIteratorHelper(disposables),_step26;try{for(_iterator29.s();!(_step26=_iterator29.n()).done;){var disposable=_step26.value;disposable.dispose();}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}}}},{key:"dispose",value:function dispose(){this._watchers.forEach(function(disposables){var _iterator30=_createForOfIteratorHelper(disposables),_step27;try{for(_iterator30.s();!(_step27=_iterator30.n()).done;){var disposable=_step27.value;disposable.dispose();}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}});this._watchers.clear();}}]);return FileSystemWatcherFeature;}();var TextDocumentFeature=/*#__PURE__*/function(){function TextDocumentFeature(_client,_registrationType){_classCallCheck(this,TextDocumentFeature);this._client=_client;this._registrationType=_registrationType;this._registrations=new Map();}_createClass(TextDocumentFeature,[{key:"registrationType",get:function get(){return this._registrationType;}},{key:"register",value:function register(data){if(!data.registerOptions.documentSelector){return;}var registration=this.registerLanguageProvider(data.registerOptions,data.id);this._registrations.set(data.id,{disposable:registration[0],data:data,provider:registration[1]});}},{key:"unregister",value:function unregister(id){var registration=this._registrations.get(id);if(registration!==void 0){registration.disposable.dispose();}}},{key:"dispose",value:function dispose(){this._registrations.forEach(function(value){value.disposable.dispose();});this._registrations.clear();}},{key:"getRegistration",value:function getRegistration(documentSelector,capability){if(!capability){return[void 0,void 0];}else if(vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)){var id=vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability)?capability.id:UUID.generateUuid();var selector=capability.documentSelector||documentSelector;if(selector){return[id,Object.assign({},capability,{documentSelector:selector})];}}else if(Is2.boolean(capability)&&capability===true||vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)){if(!documentSelector){return[void 0,void 0];}var options=Is2.boolean(capability)&&capability===true?{documentSelector:documentSelector}:Object.assign({},capability,{documentSelector:documentSelector});return[UUID.generateUuid(),options];}return[void 0,void 0];}},{key:"getRegistrationOptions",value:function getRegistrationOptions(documentSelector,capability){if(!documentSelector||!capability){return void 0;}return Is2.boolean(capability)&&capability===true?{documentSelector:documentSelector}:Object.assign({},capability,{documentSelector:documentSelector});}},{key:"getProvider",value:function getProvider(textDocument){var _iterator31=_createForOfIteratorHelper(this._registrations.values()),_step28;try{for(_iterator31.s();!(_step28=_iterator31.n()).done;){var registration=_step28.value;var selector=registration.data.registerOptions.documentSelector;if(selector!==null&&vscode_1.languages.match(selector,textDocument)){return registration.provider;}}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}return void 0;}},{key:"getAllProviders",value:function getAllProviders(){var result=[];var _iterator32=_createForOfIteratorHelper(this._registrations.values()),_step29;try{for(_iterator32.s();!(_step29=_iterator32.n()).done;){var item=_step29.value;result.push(item.provider);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}return result;}}]);return TextDocumentFeature;}();exports.TextDocumentFeature=TextDocumentFeature;var WorkspaceFeature=/*#__PURE__*/function(){function WorkspaceFeature(_client,_registrationType){_classCallCheck(this,WorkspaceFeature);this._client=_client;this._registrationType=_registrationType;this._registrations=new Map();}_createClass(WorkspaceFeature,[{key:"registrationType",get:function get(){return this._registrationType;}},{key:"register",value:function register(data){var registration=this.registerLanguageProvider(data.registerOptions);this._registrations.set(data.id,{disposable:registration[0],provider:registration[1]});}},{key:"unregister",value:function unregister(id){var registration=this._registrations.get(id);if(registration!==void 0){registration.disposable.dispose();}}},{key:"dispose",value:function dispose(){this._registrations.forEach(function(registration){registration.disposable.dispose();});this._registrations.clear();}},{key:"getProviders",value:function getProviders(){var result=[];var _iterator33=_createForOfIteratorHelper(this._registrations.values()),_step30;try{for(_iterator33.s();!(_step30=_iterator33.n()).done;){var registration=_step30.value;result.push(registration.provider);}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}return result;}}]);return WorkspaceFeature;}();var CompletionItemFeature=/*#__PURE__*/function(_TextDocumentFeature){_inherits(CompletionItemFeature,_TextDocumentFeature);var _super49=_createSuper(CompletionItemFeature);function CompletionItemFeature(client){var _this54;_classCallCheck(this,CompletionItemFeature);_this54=_super49.call(this,client,vscode_languageserver_protocol_1.CompletionRequest.type);_this54.labelDetailsSupport=new Map();return _this54;}_createClass(CompletionItemFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var completion=ensure(ensure(capabilities,"textDocument"),"completion");completion.dynamicRegistration=true;completion.contextSupport=true;completion.completionItem={snippetSupport:true,commitCharactersSupport:true,documentationFormat:[vscode_languageserver_protocol_1.MarkupKind.Markdown,vscode_languageserver_protocol_1.MarkupKind.PlainText],deprecatedSupport:true,preselectSupport:true,tagSupport:{valueSet:[vscode_languageserver_protocol_1.CompletionItemTag.Deprecated]},insertReplaceSupport:true,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[vscode_languageserver_protocol_1.InsertTextMode.asIs,vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation]},labelDetailsSupport:true};completion.insertTextMode=vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;completion.completionItemKind={valueSet:SupportedCompletionItemKinds};completion.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]};}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.completionProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options,id){var _options$completionIt,_options$triggerChara,_this55=this,_vscode_1$languages;this.labelDetailsSupport.set(id,!!((_options$completionIt=options.completionItem)!==null&&_options$completionIt!==void 0&&_options$completionIt.labelDetailsSupport));var triggerCharacters=(_options$triggerChara=options.triggerCharacters)!==null&&_options$triggerChara!==void 0?_options$triggerChara:[];var defaultCommitCharacters=options.allCommitCharacters;var provider={provideCompletionItems:function provideCompletionItems(document2,position,token,context){var client=_this55._client;var middleware=_this55._client.clientOptions.middleware;var provideCompletionItems=function provideCompletionItems(document3,position2,context2,token2){return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type,client.code2ProtocolConverter.asCompletionParams(document3,position2,context2),token2).then(function(result){return client.protocol2CodeConverter.asCompletionResult(result,defaultCommitCharacters);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type,token2,error,null);});};return middleware.provideCompletionItem?middleware.provideCompletionItem(document2,position,context,token,provideCompletionItems):provideCompletionItems(document2,position,context,token);},resolveCompletionItem:options.resolveProvider?function(item,token){var client=_this55._client;var middleware=_this55._client.clientOptions.middleware;var resolveCompletionItem=function resolveCompletionItem(item2,token2){return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type,client.code2ProtocolConverter.asCompletionItem(item2,!!_this55.labelDetailsSupport.get(id)),token2).then(client.protocol2CodeConverter.asCompletionItem,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type,token2,error,item2);});};return middleware.resolveCompletionItem?middleware.resolveCompletionItem(item,token,resolveCompletionItem):resolveCompletionItem(item,token);}:void 0};return[(_vscode_1$languages=vscode_1.languages).registerCompletionItemProvider.apply(_vscode_1$languages,[options.documentSelector,provider].concat(_toConsumableArray(triggerCharacters))),provider];}}]);return CompletionItemFeature;}(TextDocumentFeature);var HoverFeature=/*#__PURE__*/function(_TextDocumentFeature2){_inherits(HoverFeature,_TextDocumentFeature2);var _super50=_createSuper(HoverFeature);function HoverFeature(client){_classCallCheck(this,HoverFeature);return _super50.call(this,client,vscode_languageserver_protocol_1.HoverRequest.type);}_createClass(HoverFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var hoverCapability=ensure(ensure(capabilities,"textDocument"),"hover");hoverCapability.dynamicRegistration=true;hoverCapability.contentFormat=[vscode_languageserver_protocol_1.MarkupKind.Markdown,vscode_languageserver_protocol_1.MarkupKind.PlainText];}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.hoverProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this56=this;var provider={provideHover:function provideHover(document2,position,token){var client=_this56._client;var provideHover=function provideHover(document3,position2,token2){return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asHover,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideHover?middleware.provideHover(document2,position,token,provideHover):provideHover(document2,position,token);}};return[vscode_1.languages.registerHoverProvider(options.documentSelector,provider),provider];}}]);return HoverFeature;}(TextDocumentFeature);var SignatureHelpFeature=/*#__PURE__*/function(_TextDocumentFeature3){_inherits(SignatureHelpFeature,_TextDocumentFeature3);var _super51=_createSuper(SignatureHelpFeature);function SignatureHelpFeature(client){_classCallCheck(this,SignatureHelpFeature);return _super51.call(this,client,vscode_languageserver_protocol_1.SignatureHelpRequest.type);}_createClass(SignatureHelpFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var config=ensure(ensure(capabilities,"textDocument"),"signatureHelp");config.dynamicRegistration=true;config.signatureInformation={documentationFormat:[vscode_languageserver_protocol_1.MarkupKind.Markdown,vscode_languageserver_protocol_1.MarkupKind.PlainText]};config.signatureInformation.parameterInformation={labelOffsetSupport:true};config.signatureInformation.activeParameterSupport=true;config.contextSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.signatureHelpProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this57=this;var provider={provideSignatureHelp:function provideSignatureHelp(document2,position,token,context){var client=_this57._client;var providerSignatureHelp=function providerSignatureHelp(document3,position2,context2,token2){return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type,client.code2ProtocolConverter.asSignatureHelpParams(document3,position2,context2),token2).then(client.protocol2CodeConverter.asSignatureHelp,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideSignatureHelp?middleware.provideSignatureHelp(document2,position,context,token,providerSignatureHelp):providerSignatureHelp(document2,position,context,token);}};var disposable;if(options.retriggerCharacters===void 0){var _vscode_1$languages2;var triggerCharacters=options.triggerCharacters||[];disposable=(_vscode_1$languages2=vscode_1.languages).registerSignatureHelpProvider.apply(_vscode_1$languages2,[options.documentSelector,provider].concat(_toConsumableArray(triggerCharacters)));}else{var metaData={triggerCharacters:options.triggerCharacters||[],retriggerCharacters:options.retriggerCharacters||[]};disposable=vscode_1.languages.registerSignatureHelpProvider(options.documentSelector,provider,metaData);}return[disposable,provider];}}]);return SignatureHelpFeature;}(TextDocumentFeature);var DefinitionFeature=/*#__PURE__*/function(_TextDocumentFeature4){_inherits(DefinitionFeature,_TextDocumentFeature4);var _super52=_createSuper(DefinitionFeature);function DefinitionFeature(client){_classCallCheck(this,DefinitionFeature);return _super52.call(this,client,vscode_languageserver_protocol_1.DefinitionRequest.type);}_createClass(DefinitionFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var definitionSupport=ensure(ensure(capabilities,"textDocument"),"definition");definitionSupport.dynamicRegistration=true;definitionSupport.linkSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.definitionProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this58=this;var provider={provideDefinition:function provideDefinition(document2,position,token){var client=_this58._client;var provideDefinition=function provideDefinition(document3,position2,token2){return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDefinitionResult,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideDefinition?middleware.provideDefinition(document2,position,token,provideDefinition):provideDefinition(document2,position,token);}};return[vscode_1.languages.registerDefinitionProvider(options.documentSelector,provider),provider];}}]);return DefinitionFeature;}(TextDocumentFeature);var ReferencesFeature=/*#__PURE__*/function(_TextDocumentFeature5){_inherits(ReferencesFeature,_TextDocumentFeature5);var _super53=_createSuper(ReferencesFeature);function ReferencesFeature(client){_classCallCheck(this,ReferencesFeature);return _super53.call(this,client,vscode_languageserver_protocol_1.ReferencesRequest.type);}_createClass(ReferencesFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"references").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.referencesProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this59=this;var provider={provideReferences:function provideReferences(document2,position,options2,token){var client=_this59._client;var _providerReferences=function _providerReferences(document3,position2,options3,token2){return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type,client.code2ProtocolConverter.asReferenceParams(document3,position2,options3),token2).then(client.protocol2CodeConverter.asReferences,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideReferences?middleware.provideReferences(document2,position,options2,token,_providerReferences):_providerReferences(document2,position,options2,token);}};return[vscode_1.languages.registerReferenceProvider(options.documentSelector,provider),provider];}}]);return ReferencesFeature;}(TextDocumentFeature);var DocumentHighlightFeature=/*#__PURE__*/function(_TextDocumentFeature6){_inherits(DocumentHighlightFeature,_TextDocumentFeature6);var _super54=_createSuper(DocumentHighlightFeature);function DocumentHighlightFeature(client){_classCallCheck(this,DocumentHighlightFeature);return _super54.call(this,client,vscode_languageserver_protocol_1.DocumentHighlightRequest.type);}_createClass(DocumentHighlightFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"documentHighlight").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.documentHighlightProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this60=this;var provider={provideDocumentHighlights:function provideDocumentHighlights(document2,position,token){var client=_this60._client;var _provideDocumentHighlights=function _provideDocumentHighlights(document3,position2,token2){return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDocumentHighlights,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideDocumentHighlights?middleware.provideDocumentHighlights(document2,position,token,_provideDocumentHighlights):_provideDocumentHighlights(document2,position,token);}};return[vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector,provider),provider];}}]);return DocumentHighlightFeature;}(TextDocumentFeature);var DocumentSymbolFeature=/*#__PURE__*/function(_TextDocumentFeature7){_inherits(DocumentSymbolFeature,_TextDocumentFeature7);var _super55=_createSuper(DocumentSymbolFeature);function DocumentSymbolFeature(client){_classCallCheck(this,DocumentSymbolFeature);return _super55.call(this,client,vscode_languageserver_protocol_1.DocumentSymbolRequest.type);}_createClass(DocumentSymbolFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var symbolCapabilities=ensure(ensure(capabilities,"textDocument"),"documentSymbol");symbolCapabilities.dynamicRegistration=true;symbolCapabilities.symbolKind={valueSet:SupportedSymbolKinds};symbolCapabilities.hierarchicalDocumentSymbolSupport=true;symbolCapabilities.tagSupport={valueSet:SupportedSymbolTags};symbolCapabilities.labelSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.documentSymbolProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this61=this;var provider={provideDocumentSymbols:function provideDocumentSymbols(document2,token){var client=_this61._client;var _provideDocumentSymbols=function _provideDocumentSymbols(document3,token2){return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type,client.code2ProtocolConverter.asDocumentSymbolParams(document3),token2).then(function(data){if(data===null){return void 0;}if(data.length===0){return[];}else{var element=data[0];if(vscode_languageserver_protocol_1.DocumentSymbol.is(element)){return client.protocol2CodeConverter.asDocumentSymbols(data);}else{return client.protocol2CodeConverter.asSymbolInformations(data);}}},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideDocumentSymbols?middleware.provideDocumentSymbols(document2,token,_provideDocumentSymbols):_provideDocumentSymbols(document2,token);}};var metaData=options.label!==void 0?{label:options.label}:void 0;return[vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector,provider,metaData),provider];}}]);return DocumentSymbolFeature;}(TextDocumentFeature);var WorkspaceSymbolFeature=/*#__PURE__*/function(_WorkspaceFeature){_inherits(WorkspaceSymbolFeature,_WorkspaceFeature);var _super56=_createSuper(WorkspaceSymbolFeature);function WorkspaceSymbolFeature(client){_classCallCheck(this,WorkspaceSymbolFeature);return _super56.call(this,client,vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);}_createClass(WorkspaceSymbolFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var symbolCapabilities=ensure(ensure(capabilities,"workspace"),"symbol");symbolCapabilities.dynamicRegistration=true;symbolCapabilities.symbolKind={valueSet:SupportedSymbolKinds};symbolCapabilities.tagSupport={valueSet:SupportedSymbolTags};symbolCapabilities.resolveSupport={properties:["location.range"]};}},{key:"initialize",value:function initialize(capabilities){if(!capabilities.workspaceSymbolProvider){return;}this.register({id:UUID.generateUuid(),registerOptions:capabilities.workspaceSymbolProvider===true?{workDoneProgress:false}:capabilities.workspaceSymbolProvider});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this62=this;var provider={provideWorkspaceSymbols:function provideWorkspaceSymbols(query,token){var client=_this62._client;var provideWorkspaceSymbols=function provideWorkspaceSymbols(query2,token2){return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type,{query:query2},token2).then(client.protocol2CodeConverter.asSymbolInformations,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideWorkspaceSymbols?middleware.provideWorkspaceSymbols(query,token,provideWorkspaceSymbols):provideWorkspaceSymbols(query,token);},resolveWorkspaceSymbol:options.resolveProvider===true?function(item,token){var client=_this62._client;var resolveWorkspaceSymbol=function resolveWorkspaceSymbol(item2,token2){return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type,client.code2ProtocolConverter.asWorkspaceSymbol(item2),token2).then(client.protocol2CodeConverter.asSymbolInformation,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.resolveWorkspaceSymbol?middleware.resolveWorkspaceSymbol(item,token,resolveWorkspaceSymbol):resolveWorkspaceSymbol(item,token);}:void 0};return[vscode_1.languages.registerWorkspaceSymbolProvider(provider),provider];}}]);return WorkspaceSymbolFeature;}(WorkspaceFeature);var CodeActionFeature=/*#__PURE__*/function(_TextDocumentFeature8){_inherits(CodeActionFeature,_TextDocumentFeature8);var _super57=_createSuper(CodeActionFeature);function CodeActionFeature(client){_classCallCheck(this,CodeActionFeature);return _super57.call(this,client,vscode_languageserver_protocol_1.CodeActionRequest.type);}_createClass(CodeActionFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var cap=ensure(ensure(capabilities,"textDocument"),"codeAction");cap.dynamicRegistration=true;cap.isPreferredSupport=true;cap.disabledSupport=true;cap.dataSupport=true;cap.resolveSupport={properties:["edit"]};cap.codeActionLiteralSupport={codeActionKind:{valueSet:[vscode_languageserver_protocol_1.CodeActionKind.Empty,vscode_languageserver_protocol_1.CodeActionKind.QuickFix,vscode_languageserver_protocol_1.CodeActionKind.Refactor,vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,vscode_languageserver_protocol_1.CodeActionKind.Source,vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports]}};cap.honorsChangeAnnotations=false;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.codeActionProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this63=this;var provider={provideCodeActions:function provideCodeActions(document2,range,context,token){var client=_this63._client;var _provideCodeActions=function _provideCodeActions(document3,range2,context2,token2){var params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),range:client.code2ProtocolConverter.asRange(range2),context:client.code2ProtocolConverter.asCodeActionContext(context2)};return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type,params,token2).then(function(values){if(values===null){return void 0;}var result=[];var _iterator34=_createForOfIteratorHelper(values),_step31;try{for(_iterator34.s();!(_step31=_iterator34.n()).done;){var item=_step31.value;if(vscode_languageserver_protocol_1.Command.is(item)){result.push(client.protocol2CodeConverter.asCommand(item));}else{result.push(client.protocol2CodeConverter.asCodeAction(item));}}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}return result;},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideCodeActions?middleware.provideCodeActions(document2,range,context,token,_provideCodeActions):_provideCodeActions(document2,range,context,token);},resolveCodeAction:options.resolveProvider?function(item,token){var client=_this63._client;var middleware=_this63._client.clientOptions.middleware;var resolveCodeAction=function resolveCodeAction(item2,token2){return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type,client.code2ProtocolConverter.asCodeAction(item2),token2).then(client.protocol2CodeConverter.asCodeAction,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type,token2,error,item2);});};return middleware.resolveCodeAction?middleware.resolveCodeAction(item,token,resolveCodeAction):resolveCodeAction(item,token);}:void 0};return[vscode_1.languages.registerCodeActionsProvider(options.documentSelector,provider,options.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds)}:void 0),provider];}}]);return CodeActionFeature;}(TextDocumentFeature);var CodeLensFeature=/*#__PURE__*/function(_TextDocumentFeature9){_inherits(CodeLensFeature,_TextDocumentFeature9);var _super58=_createSuper(CodeLensFeature);function CodeLensFeature(client){_classCallCheck(this,CodeLensFeature);return _super58.call(this,client,vscode_languageserver_protocol_1.CodeLensRequest.type);}_createClass(CodeLensFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"codeLens").dynamicRegistration=true;ensure(ensure(capabilities,"workspace"),"codeLens").refreshSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this64=this;var client=this._client;client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type,/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){var _iterator35,_step32,provider;return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_iterator35=_createForOfIteratorHelper(_this64.getAllProviders());try{for(_iterator35.s();!(_step32=_iterator35.n()).done;){provider=_step32.value;provider.onDidChangeCodeLensEmitter.fire();}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}case 2:case"end":return _context11.stop();}}},_callee11);})));var options=this.getRegistrationOptions(documentSelector,capabilities.codeLensProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this65=this;var eventEmitter=new vscode_1.EventEmitter();var provider={onDidChangeCodeLenses:eventEmitter.event,provideCodeLenses:function provideCodeLenses(document2,token){var client=_this65._client;var provideCodeLenses=function provideCodeLenses(document3,token2){return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type,client.code2ProtocolConverter.asCodeLensParams(document3),token2).then(client.protocol2CodeConverter.asCodeLenses,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideCodeLenses?middleware.provideCodeLenses(document2,token,provideCodeLenses):provideCodeLenses(document2,token);},resolveCodeLens:options.resolveProvider?function(codeLens,token){var client=_this65._client;var resolveCodeLens=function resolveCodeLens(codeLens2,token2){return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type,client.code2ProtocolConverter.asCodeLens(codeLens2),token2).then(client.protocol2CodeConverter.asCodeLens,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type,token2,error,codeLens2);});};var middleware=client.clientOptions.middleware;return middleware.resolveCodeLens?middleware.resolveCodeLens(codeLens,token,resolveCodeLens):resolveCodeLens(codeLens,token);}:void 0};return[vscode_1.languages.registerCodeLensProvider(options.documentSelector,provider),{provider:provider,onDidChangeCodeLensEmitter:eventEmitter}];}}]);return CodeLensFeature;}(TextDocumentFeature);var DocumentFormattingFeature=/*#__PURE__*/function(_TextDocumentFeature10){_inherits(DocumentFormattingFeature,_TextDocumentFeature10);var _super59=_createSuper(DocumentFormattingFeature);function DocumentFormattingFeature(client){_classCallCheck(this,DocumentFormattingFeature);return _super59.call(this,client,vscode_languageserver_protocol_1.DocumentFormattingRequest.type);}_createClass(DocumentFormattingFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"formatting").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.documentFormattingProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this66=this;var provider={provideDocumentFormattingEdits:function provideDocumentFormattingEdits(document2,options2,token){var client=_this66._client;var provideDocumentFormattingEdits=function provideDocumentFormattingEdits(document3,options3,token2){var params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),options:client.code2ProtocolConverter.asFormattingOptions(options3,FileFormattingOptions.fromConfiguration(document3))};return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type,params,token2).then(client.protocol2CodeConverter.asTextEdits,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideDocumentFormattingEdits?middleware.provideDocumentFormattingEdits(document2,options2,token,provideDocumentFormattingEdits):provideDocumentFormattingEdits(document2,options2,token);}};return[vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector,provider),provider];}}]);return DocumentFormattingFeature;}(TextDocumentFeature);var DocumentRangeFormattingFeature=/*#__PURE__*/function(_TextDocumentFeature11){_inherits(DocumentRangeFormattingFeature,_TextDocumentFeature11);var _super60=_createSuper(DocumentRangeFormattingFeature);function DocumentRangeFormattingFeature(client){_classCallCheck(this,DocumentRangeFormattingFeature);return _super60.call(this,client,vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);}_createClass(DocumentRangeFormattingFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"rangeFormatting").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.documentRangeFormattingProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this67=this;var provider={provideDocumentRangeFormattingEdits:function provideDocumentRangeFormattingEdits(document2,range,options2,token){var client=_this67._client;var provideDocumentRangeFormattingEdits=function provideDocumentRangeFormattingEdits(document3,range2,options3,token2){var params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),range:client.code2ProtocolConverter.asRange(range2),options:client.code2ProtocolConverter.asFormattingOptions(options3,FileFormattingOptions.fromConfiguration(document3))};return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type,params,token2).then(client.protocol2CodeConverter.asTextEdits,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideDocumentRangeFormattingEdits?middleware.provideDocumentRangeFormattingEdits(document2,range,options2,token,provideDocumentRangeFormattingEdits):provideDocumentRangeFormattingEdits(document2,range,options2,token);}};return[vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector,provider),provider];}}]);return DocumentRangeFormattingFeature;}(TextDocumentFeature);var DocumentOnTypeFormattingFeature=/*#__PURE__*/function(_TextDocumentFeature12){_inherits(DocumentOnTypeFormattingFeature,_TextDocumentFeature12);var _super61=_createSuper(DocumentOnTypeFormattingFeature);function DocumentOnTypeFormattingFeature(client){_classCallCheck(this,DocumentOnTypeFormattingFeature);return _super61.call(this,client,vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);}_createClass(DocumentOnTypeFormattingFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"onTypeFormatting").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.documentOnTypeFormattingProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this68=this,_vscode_1$languages3;var provider={provideOnTypeFormattingEdits:function provideOnTypeFormattingEdits(document2,position,ch,options2,token){var client=_this68._client;var provideOnTypeFormattingEdits=function provideOnTypeFormattingEdits(document3,position2,ch2,options3,token2){var params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),position:client.code2ProtocolConverter.asPosition(position2),ch:ch2,options:client.code2ProtocolConverter.asFormattingOptions(options3,FileFormattingOptions.fromConfiguration(document3))};return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type,params,token2).then(client.protocol2CodeConverter.asTextEdits,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideOnTypeFormattingEdits?middleware.provideOnTypeFormattingEdits(document2,position,ch,options2,token,provideOnTypeFormattingEdits):provideOnTypeFormattingEdits(document2,position,ch,options2,token);}};var moreTriggerCharacter=options.moreTriggerCharacter||[];return[(_vscode_1$languages3=vscode_1.languages).registerOnTypeFormattingEditProvider.apply(_vscode_1$languages3,[options.documentSelector,provider,options.firstTriggerCharacter].concat(_toConsumableArray(moreTriggerCharacter))),provider];}}]);return DocumentOnTypeFormattingFeature;}(TextDocumentFeature);var RenameFeature=/*#__PURE__*/function(_TextDocumentFeature13){_inherits(RenameFeature,_TextDocumentFeature13);var _super62=_createSuper(RenameFeature);function RenameFeature(client){_classCallCheck(this,RenameFeature);return _super62.call(this,client,vscode_languageserver_protocol_1.RenameRequest.type);}_createClass(RenameFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var rename=ensure(ensure(capabilities,"textDocument"),"rename");rename.dynamicRegistration=true;rename.prepareSupport=true;rename.prepareSupportDefaultBehavior=vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;rename.honorsChangeAnnotations=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.renameProvider);if(!options){return;}if(Is2.boolean(capabilities.renameProvider)){options.prepareProvider=false;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this69=this;var provider={provideRenameEdits:function provideRenameEdits(document2,position,newName,token){var client=_this69._client;var provideRenameEdits=function provideRenameEdits(document3,position2,newName2,token2){var params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),position:client.code2ProtocolConverter.asPosition(position2),newName:newName2};return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type,params,token2).then(client.protocol2CodeConverter.asWorkspaceEdit,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type,token2,error,null,false);});};var middleware=client.clientOptions.middleware;return middleware.provideRenameEdits?middleware.provideRenameEdits(document2,position,newName,token,provideRenameEdits):provideRenameEdits(document2,position,newName,token);},prepareRename:options.prepareProvider?function(document2,position,token){var client=_this69._client;var prepareRename=function prepareRename(document3,position2,token2){var params={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),position:client.code2ProtocolConverter.asPosition(position2)};return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type,params,token2).then(function(result){if(vscode_languageserver_protocol_1.Range.is(result)){return client.protocol2CodeConverter.asRange(result);}else if(_this69.isDefaultBehavior(result)){return result.defaultBehavior===true?null:Promise.reject(new Error("The element can't be renamed."));}else if(result&&vscode_languageserver_protocol_1.Range.is(result.range)){return{range:client.protocol2CodeConverter.asRange(result.range),placeholder:result.placeholder};}return Promise.reject(new Error("The element can't be renamed."));},function(error){if(typeof error.message==="string"){throw new Error(error.message);}else{throw new Error("The element can't be renamed.");}});};var middleware=client.clientOptions.middleware;return middleware.prepareRename?middleware.prepareRename(document2,position,token,prepareRename):prepareRename(document2,position,token);}:void 0};return[vscode_1.languages.registerRenameProvider(options.documentSelector,provider),provider];}},{key:"isDefaultBehavior",value:function isDefaultBehavior(value){var candidate=value;return candidate&&Is2.boolean(candidate.defaultBehavior);}}]);return RenameFeature;}(TextDocumentFeature);var DocumentLinkFeature=/*#__PURE__*/function(_TextDocumentFeature14){_inherits(DocumentLinkFeature,_TextDocumentFeature14);var _super63=_createSuper(DocumentLinkFeature);function DocumentLinkFeature(client){_classCallCheck(this,DocumentLinkFeature);return _super63.call(this,client,vscode_languageserver_protocol_1.DocumentLinkRequest.type);}_createClass(DocumentLinkFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var documentLinkCapabilities=ensure(ensure(capabilities,"textDocument"),"documentLink");documentLinkCapabilities.dynamicRegistration=true;documentLinkCapabilities.tooltipSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var options=this.getRegistrationOptions(documentSelector,capabilities.documentLinkProvider);if(!options){return;}this.register({id:UUID.generateUuid(),registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this70=this;var provider={provideDocumentLinks:function provideDocumentLinks(document2,token){var client=_this70._client;var provideDocumentLinks=function provideDocumentLinks(document3,token2){return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type,client.code2ProtocolConverter.asDocumentLinkParams(document3),token2).then(client.protocol2CodeConverter.asDocumentLinks,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideDocumentLinks?middleware.provideDocumentLinks(document2,token,provideDocumentLinks):provideDocumentLinks(document2,token);},resolveDocumentLink:options.resolveProvider?function(link,token){var client=_this70._client;var resolveDocumentLink=function resolveDocumentLink(link2,token2){return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type,client.code2ProtocolConverter.asDocumentLink(link2),token2).then(client.protocol2CodeConverter.asDocumentLink,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type,token2,error,link2);});};var middleware=client.clientOptions.middleware;return middleware.resolveDocumentLink?middleware.resolveDocumentLink(link,token,resolveDocumentLink):resolveDocumentLink(link,token);}:void 0};return[vscode_1.languages.registerDocumentLinkProvider(options.documentSelector,provider),provider];}}]);return DocumentLinkFeature;}(TextDocumentFeature);var ConfigurationFeature=/*#__PURE__*/function(){function ConfigurationFeature(_client){_classCallCheck(this,ConfigurationFeature);this._client=_client;this._listeners=new Map();}_createClass(ConfigurationFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"workspace"),"didChangeConfiguration").dynamicRegistration=true;}},{key:"initialize",value:function initialize(){var section=this._client.clientOptions.synchronize.configurationSection;if(section!==void 0){this.register({id:UUID.generateUuid(),registerOptions:{section:section}});}}},{key:"register",value:function register(data){var _this71=this;var disposable=vscode_1.workspace.onDidChangeConfiguration(function(event){_this71.onDidChangeConfiguration(data.registerOptions.section,event);});this._listeners.set(data.id,disposable);if(data.registerOptions.section!==void 0){this.onDidChangeConfiguration(data.registerOptions.section,void 0);}}},{key:"unregister",value:function unregister(id){var disposable=this._listeners.get(id);if(disposable){this._listeners.delete(id);disposable.dispose();}}},{key:"dispose",value:function dispose(){var _iterator36=_createForOfIteratorHelper(this._listeners.values()),_step33;try{for(_iterator36.s();!(_step33=_iterator36.n()).done;){var disposable=_step33.value;disposable.dispose();}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}this._listeners.clear();}},{key:"onDidChangeConfiguration",value:function onDidChangeConfiguration(configurationSection,event){var _this72=this;var sections;if(Is2.string(configurationSection)){sections=[configurationSection];}else{sections=configurationSection;}if(sections!==void 0&&event!==void 0){var affected=sections.some(function(section){return event.affectsConfiguration(section);});if(!affected){return;}}var didChangeConfiguration=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee12(sections2){return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!(sections2===void 0)){_context12.next=4;break;}return _context12.abrupt("return",_this72._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type,{settings:null}));case 4:return _context12.abrupt("return",_this72._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type,{settings:_this72.extractSettingsInformation(sections2)}));case 5:case"end":return _context12.stop();}}},_callee12);}));return function didChangeConfiguration(_x17){return _ref11.apply(this,arguments);};}();var middleware=this.getMiddleware();(middleware?middleware(sections,didChangeConfiguration):didChangeConfiguration(sections)).catch(function(error){_this72._client.error("Sending notification ".concat(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type.method," failed"),error);});}},{key:"extractSettingsInformation",value:function extractSettingsInformation(keys){function ensurePath(config,path){var current=config;for(var i=0;i<path.length-1;i++){var obj=current[path[i]];if(!obj){obj=Object.create(null);current[path[i]]=obj;}current=obj;}return current;}var resource=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0;var result=Object.create(null);for(var i=0;i<keys.length;i++){var key=keys[i];var index=key.indexOf(".");var config=null;if(index>=0){config=vscode_1.workspace.getConfiguration(key.substr(0,index),resource).get(key.substr(index+1));}else{config=vscode_1.workspace.getConfiguration(void 0,resource).get(key);}if(config){var path=keys[i].split(".");ensurePath(result,path)[path[path.length-1]]=(0,configuration_1.toJSONObject)(config);}}return result;}},{key:"getMiddleware",value:function getMiddleware(){var middleware=this._client.clientOptions.middleware;if(middleware.workspace&&middleware.workspace.didChangeConfiguration){return middleware.workspace.didChangeConfiguration;}else{return void 0;}}}]);return ConfigurationFeature;}();var ExecuteCommandFeature=/*#__PURE__*/function(){function ExecuteCommandFeature(_client){_classCallCheck(this,ExecuteCommandFeature);this._client=_client;this._commands=new Map();}_createClass(ExecuteCommandFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"workspace"),"executeCommand").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities){if(!capabilities.executeCommandProvider){return;}this.register({id:UUID.generateUuid(),registerOptions:Object.assign({},capabilities.executeCommandProvider)});}},{key:"register",value:function register(data){var client=this._client;var middleware=client.clientOptions.middleware;var executeCommand=function executeCommand(command,args){var params={command:command,arguments:args};return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type,params).then(void 0,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type,void 0,error,void 0);});};if(data.registerOptions.commands){var disposables=[];var _iterator37=_createForOfIteratorHelper(data.registerOptions.commands),_step34;try{var _loop2=function _loop2(){var command=_step34.value;disposables.push(vscode_1.commands.registerCommand(command,function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++){args[_key8]=arguments[_key8];}return middleware.executeCommand?middleware.executeCommand(command,args,executeCommand):executeCommand(command,args);}));};for(_iterator37.s();!(_step34=_iterator37.n()).done;){_loop2();}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}this._commands.set(data.id,disposables);}}},{key:"unregister",value:function unregister(id){var disposables=this._commands.get(id);if(disposables){disposables.forEach(function(disposable){return disposable.dispose();});}}},{key:"dispose",value:function dispose(){this._commands.forEach(function(value){value.forEach(function(disposable){return disposable.dispose();});});this._commands.clear();}}]);return ExecuteCommandFeature;}();var MessageTransports;(function(MessageTransports2){function is2(value){var candidate=value;return candidate&&vscode_languageserver_protocol_1.MessageReader.is(value.reader)&&vscode_languageserver_protocol_1.MessageWriter.is(value.writer);}MessageTransports2.is=is2;})(MessageTransports=exports.MessageTransports||(exports.MessageTransports={}));var OnReady=/*#__PURE__*/function(){function OnReady(_resolve,_reject){_classCallCheck(this,OnReady);this._resolve=_resolve;this._reject=_reject;this._used=false;}_createClass(OnReady,[{key:"isUsed",get:function get(){return this._used;}},{key:"resolve",value:function resolve(){this._used=true;this._resolve();}},{key:"reject",value:function reject(error){this._used=true;this._reject(error);}}]);return OnReady;}();var LSPCancellationError=/*#__PURE__*/function(_vscode_1$Cancellatio){_inherits(LSPCancellationError,_vscode_1$Cancellatio);var _super64=_createSuper(LSPCancellationError);function LSPCancellationError(data){var _this73;_classCallCheck(this,LSPCancellationError);_this73=_super64.call(this);_this73.data=data;return _this73;}return _createClass(LSPCancellationError);}(vscode_1.CancellationError);exports.LSPCancellationError=LSPCancellationError;var BaseLanguageClient=/*#__PURE__*/function(){function BaseLanguageClient(id,name,clientOptions){var _clientOptions$docume,_clientOptions$synchr,_clientOptions$output,_clientOptions$reveal,_clientOptions$stdioE,_clientOptions$errorH,_clientOptions$connec,_clientOptions$middle,_clientOptions$diagno,_this74=this;_classCallCheck(this,BaseLanguageClient);this._traceFormat=vscode_languageserver_protocol_1.TraceFormat.Text;this._features=[];this._dynamicFeatures=new Map();this._id=id;this._name=name;clientOptions=clientOptions||{};var markdown={isTrusted:false,supportHtml:false};if(clientOptions.markdown!==void 0){markdown.isTrusted=clientOptions.markdown.isTrusted===true;markdown.supportHtml=clientOptions.markdown.supportHtml===true;}this._clientOptions={documentSelector:(_clientOptions$docume=clientOptions.documentSelector)!==null&&_clientOptions$docume!==void 0?_clientOptions$docume:[],synchronize:(_clientOptions$synchr=clientOptions.synchronize)!==null&&_clientOptions$synchr!==void 0?_clientOptions$synchr:{},diagnosticCollectionName:clientOptions.diagnosticCollectionName,outputChannelName:(_clientOptions$output=clientOptions.outputChannelName)!==null&&_clientOptions$output!==void 0?_clientOptions$output:this._name,revealOutputChannelOn:(_clientOptions$reveal=clientOptions.revealOutputChannelOn)!==null&&_clientOptions$reveal!==void 0?_clientOptions$reveal:RevealOutputChannelOn2.Error,stdioEncoding:(_clientOptions$stdioE=clientOptions.stdioEncoding)!==null&&_clientOptions$stdioE!==void 0?_clientOptions$stdioE:"utf8",initializationOptions:clientOptions.initializationOptions,initializationFailedHandler:clientOptions.initializationFailedHandler,progressOnInitialization:!!clientOptions.progressOnInitialization,errorHandler:(_clientOptions$errorH=clientOptions.errorHandler)!==null&&_clientOptions$errorH!==void 0?_clientOptions$errorH:this.createDefaultErrorHandler((_clientOptions$connec=clientOptions.connectionOptions)===null||_clientOptions$connec===void 0?void 0:_clientOptions$connec.maxRestartCount),middleware:(_clientOptions$middle=clientOptions.middleware)!==null&&_clientOptions$middle!==void 0?_clientOptions$middle:{},uriConverters:clientOptions.uriConverters,workspaceFolder:clientOptions.workspaceFolder,connectionOptions:clientOptions.connectionOptions,markdown:markdown,diagnosticPullOptions:(_clientOptions$diagno=clientOptions.diagnosticPullOptions)!==null&&_clientOptions$diagno!==void 0?_clientOptions$diagno:{onChange:true,onSave:false}};this._clientOptions.synchronize=this._clientOptions.synchronize||{};this._state=ClientState.Initial;this._connectionPromise=void 0;this._resolvedConnection=void 0;this._initializeResult=void 0;if(clientOptions.outputChannel){this._outputChannel=clientOptions.outputChannel;this._disposeOutputChannel=false;}else{this._outputChannel=void 0;this._disposeOutputChannel=true;}this._traceOutputChannel=clientOptions.traceOutputChannel;this._listeners=void 0;this._providers=void 0;this._diagnostics=void 0;this._fileEvents=[];this._fileEventDelayer=new async_1.Delayer(250);this._onReady=new Promise(function(resolve,reject){_this74._onReadyCallbacks=new OnReady(resolve,reject);});this._onStop=void 0;this._telemetryEmitter=new vscode_languageserver_protocol_1.Emitter();this._stateChangeEmitter=new vscode_languageserver_protocol_1.Emitter();this._trace=vscode_languageserver_protocol_1.Trace.Off;this._tracer={log:function log(messageOrDataObject,data){if(Is2.string(messageOrDataObject)){_this74.logTrace(messageOrDataObject,data);}else{_this74.logObjectTrace(messageOrDataObject);}}};this._c2p=c2p.createConverter(clientOptions.uriConverters?clientOptions.uriConverters.code2Protocol:void 0);this._p2c=p2c.createConverter(clientOptions.uriConverters?clientOptions.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml);this._syncedDocuments=new Map();this.registerBuiltinFeatures();}_createClass(BaseLanguageClient,[{key:"state",get:function get(){return this._state;},set:function set(value){var oldState=this.getPublicState();this._state=value;var newState=this.getPublicState();if(newState!==oldState){this._stateChangeEmitter.fire({oldState:oldState,newState:newState});}}},{key:"getPublicState",value:function getPublicState(){if(this.state===ClientState.Running){return State.Running;}else if(this.state===ClientState.Starting){return State.Starting;}else{return State.Stopped;}}},{key:"initializeResult",get:function get(){return this._initializeResult;}},{key:"sendRequest",value:function sendRequest(type){if(!this.isConnectionActive()){throw new Error("Language client is not ready yet when handling ".concat(Is2.string(type)?type:type.method));}this.forceDocumentSync();try{var _this$_resolvedConnec;for(var _len9=arguments.length,params=new Array(_len9>1?_len9-1:0),_key9=1;_key9<_len9;_key9++){params[_key9-1]=arguments[_key9];}return(_this$_resolvedConnec=this._resolvedConnection).sendRequest.apply(_this$_resolvedConnec,[type].concat(params));}catch(error){this.error("Sending request ".concat(Is2.string(type)?type:type.method," failed."),error);throw error;}}},{key:"onRequest",value:function onRequest(type,handler){if(!this.isConnectionActive()){throw new Error("Language client is not ready yet when handling ".concat(Is2.string(type)?type:type.method));}try{return this._resolvedConnection.onRequest(type,handler);}catch(error){this.error("Registering request handler ".concat(Is2.string(type)?type:type.method," failed."),error);throw error;}}},{key:"sendNotification",value:function sendNotification(type,params){if(!this.isConnectionActive()){throw new Error("Language client is not ready yet when handling ".concat(Is2.string(type)?type:type.method));}this.forceDocumentSync();try{return this._resolvedConnection.sendNotification(type,params);}catch(error){this.error("Sending notification ".concat(Is2.string(type)?type:type.method," failed."),error);throw error;}}},{key:"onNotification",value:function onNotification(type,handler){if(!this.isConnectionActive()){throw new Error("Language client is not ready yet when handling ".concat(Is2.string(type)?type:type.method));}try{return this._resolvedConnection.onNotification(type,handler);}catch(error){this.error("Registering notification handler ".concat(Is2.string(type)?type:type.method," failed."),error);throw error;}}},{key:"onProgress",value:function onProgress(type,token,handler){if(!this.isConnectionActive()){throw new Error("Language client is not ready yet when trying to send progress");}try{if(vscode_languageserver_protocol_1.WorkDoneProgress.is(type)){var handleWorkDoneProgress=this._clientOptions.middleware.handleWorkDoneProgress;if(handleWorkDoneProgress!==void 0){return this._resolvedConnection.onProgress(type,token,function(params){handleWorkDoneProgress(token,params,function(){return handler(params);});});}}return this._resolvedConnection.onProgress(type,token,handler);}catch(error){this.error("Registering progress handler for token ".concat(token," failed."),error);throw error;}}},{key:"sendProgress",value:function sendProgress(type,token,value){var _this75=this;if(!this.isConnectionActive()){throw new Error("Language client is not ready yet when trying to send progress");}this.forceDocumentSync();return this._resolvedConnection.sendProgress(type,token,value).then(void 0,function(error){_this75.error("Sending progress for token ".concat(token," failed."),error);throw error;});}},{key:"name",get:function get(){return this._name;}},{key:"clientOptions",get:function get(){return this._clientOptions;}},{key:"protocol2CodeConverter",get:function get(){return this._p2c;}},{key:"code2ProtocolConverter",get:function get(){return this._c2p;}},{key:"onTelemetry",get:function get(){return this._telemetryEmitter.event;}},{key:"onDidChangeState",get:function get(){return this._stateChangeEmitter.event;}},{key:"outputChannel",get:function get(){if(!this._outputChannel){this._outputChannel=vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name);}return this._outputChannel;}},{key:"traceOutputChannel",get:function get(){if(this._traceOutputChannel){return this._traceOutputChannel;}return this.outputChannel;}},{key:"diagnostics",get:function get(){return this._diagnostics;}},{key:"createDefaultErrorHandler",value:function createDefaultErrorHandler(maxRestartCount){if(maxRestartCount!==void 0&&maxRestartCount<0){throw new Error("Invalid maxRestartCount: ".concat(maxRestartCount));}return new DefaultErrorHandler(this,maxRestartCount!==null&&maxRestartCount!==void 0?maxRestartCount:4);}},{key:"trace",set:function set(value){var _this76=this;this._trace=value;this.onReady().then(function(){_this76.resolveConnection().then(function(connection){connection.trace(_this76._trace,_this76._tracer,{sendNotification:false,traceFormat:_this76._traceFormat});},function(){return _this76.info("Setting trace value failed",void 0,false);});},function(){});}},{key:"data2String",value:function data2String(data){if(data instanceof vscode_languageserver_protocol_1.ResponseError){var responseError=data;return"  Message: ".concat(responseError.message,"\n  Code: ").concat(responseError.code," ").concat(responseError.data?"\n"+responseError.data.toString():"");}if(data instanceof Error){if(Is2.string(data.stack)){return data.stack;}return data.message;}if(Is2.string(data)){return data;}return data.toString();}},{key:"info",value:function info(message,data){var showNotification=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;this.outputChannel.appendLine("[Info  - ".concat(new Date().toLocaleTimeString(),"] ").concat(message));if(data!==null&&data!==void 0){this.outputChannel.appendLine(this.data2String(data));}if(showNotification&&this._clientOptions.revealOutputChannelOn<=RevealOutputChannelOn2.Info){this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Info,message);}}},{key:"warn",value:function warn(message,data){var showNotification=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;this.outputChannel.appendLine("[Warn  - ".concat(new Date().toLocaleTimeString(),"] ").concat(message));if(data!==null&&data!==void 0){this.outputChannel.appendLine(this.data2String(data));}if(showNotification&&this._clientOptions.revealOutputChannelOn<=RevealOutputChannelOn2.Warn){this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Warning,message);}}},{key:"error",value:function error(message,data){var showNotification=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;this.outputChannel.appendLine("[Error - ".concat(new Date().toLocaleTimeString(),"] ").concat(message));if(data!==null&&data!==void 0){this.outputChannel.appendLine(this.data2String(data));}if(showNotification==="force"||showNotification&&this._clientOptions.revealOutputChannelOn<=RevealOutputChannelOn2.Error){this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Error,message);}}},{key:"showNotificationMessage",value:function showNotificationMessage(type,message){var _message2,_this77=this;message=(_message2=message)!==null&&_message2!==void 0?_message2:"A request has failed. See the output for more information.";var messageFunc=type===vscode_languageserver_protocol_1.MessageType.Error?vscode_1.window.showErrorMessage:type===vscode_languageserver_protocol_1.MessageType.Warning?vscode_1.window.showWarningMessage:vscode_1.window.showInformationMessage;void messageFunc(message,"Go to output").then(function(selection){if(selection!==void 0){_this77.outputChannel.show(true);}});}},{key:"logTrace",value:function logTrace(message,data){this.traceOutputChannel.appendLine("[Trace - ".concat(new Date().toLocaleTimeString(),"] ").concat(message));if(data){this.traceOutputChannel.appendLine(this.data2String(data));}}},{key:"logObjectTrace",value:function logObjectTrace(data){if(data.isLSPMessage&&data.type){this.traceOutputChannel.append("[LSP   - ".concat(new Date().toLocaleTimeString(),"] "));}else{this.traceOutputChannel.append("[Trace - ".concat(new Date().toLocaleTimeString(),"] "));}if(data){this.traceOutputChannel.appendLine("".concat(JSON.stringify(data)));}}},{key:"needsStart",value:function needsStart(){return this.state===ClientState.Initial||this.state===ClientState.Stopping||this.state===ClientState.Stopped;}},{key:"needsStop",value:function needsStop(){return this.state===ClientState.Starting||this.state===ClientState.Running;}},{key:"onReady",value:function onReady(){return this._onReady;}},{key:"isConnectionActive",value:function isConnectionActive(){return this.state===ClientState.Running&&!!this._resolvedConnection;}},{key:"start",value:function start(){var _this78=this;if(this._onReadyCallbacks.isUsed){this._onReady=new Promise(function(resolve,reject){_this78._onReadyCallbacks=new OnReady(resolve,reject);});}this._listeners=[];this._providers=[];if(!this._diagnostics){this._diagnostics=this._clientOptions.diagnosticCollectionName?vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):vscode_1.languages.createDiagnosticCollection();}this.state=ClientState.Starting;this.resolveConnection().then(function(connection){connection.onLogMessage(function(message){switch(message.type){case vscode_languageserver_protocol_1.MessageType.Error:_this78.error(message.message,void 0,false);break;case vscode_languageserver_protocol_1.MessageType.Warning:_this78.warn(message.message,void 0,false);break;case vscode_languageserver_protocol_1.MessageType.Info:_this78.info(message.message,void 0,false);break;default:_this78.outputChannel.appendLine(message.message);}});connection.onShowMessage(function(message){switch(message.type){case vscode_languageserver_protocol_1.MessageType.Error:void vscode_1.window.showErrorMessage(message.message);break;case vscode_languageserver_protocol_1.MessageType.Warning:void vscode_1.window.showWarningMessage(message.message);break;case vscode_languageserver_protocol_1.MessageType.Info:void vscode_1.window.showInformationMessage(message.message);break;default:void vscode_1.window.showInformationMessage(message.message);}});connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type,function(params){var messageFunc;switch(params.type){case vscode_languageserver_protocol_1.MessageType.Error:messageFunc=vscode_1.window.showErrorMessage;break;case vscode_languageserver_protocol_1.MessageType.Warning:messageFunc=vscode_1.window.showWarningMessage;break;case vscode_languageserver_protocol_1.MessageType.Info:messageFunc=vscode_1.window.showInformationMessage;break;default:messageFunc=vscode_1.window.showInformationMessage;}var actions=params.actions||[];return messageFunc.apply(void 0,[params.message].concat(_toConsumableArray(actions)));});connection.onTelemetry(function(data){_this78._telemetryEmitter.fire(data);});connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type,/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee14(params){var _this78$_clientOption;var showDocument,middleware;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:showDocument=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee13(params2){var uri,success,options;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:uri=_this78.protocol2CodeConverter.asUri(params2.uri);_context13.prev=1;if(!(params2.external===true)){_context13.next=9;break;}_context13.next=5;return vscode_1.env.openExternal(uri);case 5:success=_context13.sent;return _context13.abrupt("return",{success:success});case 9:options={};if(params2.selection!==void 0){options.selection=_this78.protocol2CodeConverter.asRange(params2.selection);}if(params2.takeFocus===void 0||params2.takeFocus===false){options.preserveFocus=true;}else if(params2.takeFocus===true){options.preserveFocus=false;}_context13.next=14;return vscode_1.window.showTextDocument(uri,options);case 14:return _context13.abrupt("return",{success:true});case 15:_context13.next=20;break;case 17:_context13.prev=17;_context13.t0=_context13["catch"](1);return _context13.abrupt("return",{success:true});case 20:case"end":return _context13.stop();}}},_callee13,null,[[1,17]]);}));return function showDocument(_x19){return _ref13.apply(this,arguments);};}();middleware=(_this78$_clientOption=_this78._clientOptions.middleware.window)===null||_this78$_clientOption===void 0?void 0:_this78$_clientOption.showDocument;if(!(middleware!==void 0)){_context14.next=6;break;}return _context14.abrupt("return",middleware(params,showDocument));case 6:return _context14.abrupt("return",showDocument(params));case 7:case"end":return _context14.stop();}}},_callee14);}));return function(_x18){return _ref12.apply(this,arguments);};}());connection.listen();return _this78.initialize(connection);}).catch(function(error){_this78.state=ClientState.StartFailed;_this78._onReadyCallbacks.reject(error);_this78.error("".concat(_this78._name," client: couldn't create connection to server"),error,"force");});return new vscode_1.Disposable(function(){if(_this78.needsStop()){_this78.stop().catch(function(error){_this78.error("Stopping server failed.",error,false);});}});}},{key:"resolveConnection",value:function resolveConnection(){if(!this._connectionPromise){this._connectionPromise=this.createConnection();}return this._connectionPromise;}},{key:"initialize",value:function initialize(connection){this.refreshTrace(connection,false);var initOption=this._clientOptions.initializationOptions;var _ref14=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],_ref15=_slicedToArray(_ref14,2),rootPath=_ref15[0],workspaceFolders=_ref15[1];var initParams={processId:null,clientInfo:{name:vscode_1.env.appName,version:vscode_1.version},locale:this.getLocale(),rootPath:rootPath?rootPath:null,rootUri:rootPath?this._c2p.asUri(vscode_1.Uri.file(rootPath)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Is2.func(initOption)?initOption():initOption,trace:vscode_languageserver_protocol_1.Trace.toString(this._trace),workspaceFolders:workspaceFolders};this.fillInitializeParams(initParams);if(this._clientOptions.progressOnInitialization){var token=UUID.generateUuid();var part=new progressPart_1.ProgressPart(connection,token);initParams.workDoneToken=token;return this.doInitialize(connection,initParams).then(function(result){part.done();return result;},function(error){part.cancel();throw error;});}else{return this.doInitialize(connection,initParams);}}},{key:"doInitialize",value:function doInitialize(connection,initParams){var _this79=this;return connection.initialize(initParams).then(function(result){_this79._resolvedConnection=connection;_this79._initializeResult=result;_this79.state=ClientState.Running;var textDocumentSyncOptions=void 0;if(Is2.number(result.capabilities.textDocumentSync)){if(result.capabilities.textDocumentSync===vscode_languageserver_protocol_1.TextDocumentSyncKind.None){textDocumentSyncOptions={openClose:false,change:vscode_languageserver_protocol_1.TextDocumentSyncKind.None,save:void 0};}else{textDocumentSyncOptions={openClose:true,change:result.capabilities.textDocumentSync,save:{includeText:false}};}}else if(result.capabilities.textDocumentSync!==void 0&&result.capabilities.textDocumentSync!==null){textDocumentSyncOptions=result.capabilities.textDocumentSync;}_this79._capabilities=Object.assign({},result.capabilities,{resolvedTextDocumentSync:textDocumentSyncOptions});connection.onDiagnostics(function(params){return _this79.handleDiagnostics(params);});connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type,function(params){return _this79.handleRegistrationRequest(params);});connection.onRequest("client/registerFeature",function(params){return _this79.handleRegistrationRequest(params);});connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type,function(params){return _this79.handleUnregistrationRequest(params);});connection.onRequest("client/unregisterFeature",function(params){return _this79.handleUnregistrationRequest(params);});connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type,function(params){return _this79.handleApplyWorkspaceEdit(params);});return connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type,{}).then(function(){_this79.hookFileEvents(connection);_this79.hookConfigurationChanged(connection);_this79.initializeFeatures(connection);_this79._onReadyCallbacks.resolve();return result;});}).then(void 0,function(error){if(_this79._clientOptions.initializationFailedHandler){if(_this79._clientOptions.initializationFailedHandler(error)){void _this79.initialize(connection);}else{void _this79.stop();_this79._onReadyCallbacks.reject(error);}}else if(error instanceof vscode_languageserver_protocol_1.ResponseError&&error.data&&error.data.retry){void vscode_1.window.showErrorMessage(error.message,{title:"Retry",id:"retry"}).then(function(item){if(item&&item.id==="retry"){void _this79.initialize(connection);}else{void _this79.stop();_this79._onReadyCallbacks.reject(error);}});}else{if(error&&error.message){void vscode_1.window.showErrorMessage(error.message);}_this79.error("Server initialization failed.",error);void _this79.stop();_this79._onReadyCallbacks.reject(error);}throw error;});}},{key:"_clientGetRootPath",value:function _clientGetRootPath(){var folders=vscode_1.workspace.workspaceFolders;if(!folders||folders.length===0){return void 0;}var folder=folders[0];if(folder.uri.scheme==="file"){return folder.uri.fsPath;}return void 0;}},{key:"stop",value:function(){var _stop=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee15(){var _this80=this;var timeout,tp,shutdown,_args15=arguments;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:timeout=_args15.length>0&&_args15[0]!==undefined?_args15[0]:2e3;_context15.next=3;return this.onReady();case 3:this._initializeResult=void 0;if(this._connectionPromise){_context15.next=7;break;}this.state=ClientState.Stopped;return _context15.abrupt("return",Promise.resolve());case 7:if(!(this.state===ClientState.Stopping&&this._onStop)){_context15.next=9;break;}return _context15.abrupt("return",this._onStop);case 9:this.state=ClientState.Stopping;this.cleanUp(false);tp=new Promise(function(c){(0,vscode_languageserver_protocol_1.RAL)().timer.setTimeout(c,timeout);});shutdown=this.resolveConnection().then(function(connection){return connection.shutdown().then(function(){return connection.exit().then(function(){return connection;});});});return _context15.abrupt("return",this._onStop=Promise.race([tp,shutdown]).then(function(connection){if(connection!==void 0){connection.end();connection.dispose();}else{_this80.error("Stopping server timed out",void 0,false);throw new Error("Stopping the server timed out");}},function(error){_this80.error("Stopping server failed",error,false);throw error;}).finally(function(){_this80.state=ClientState.Stopped;_this80.cleanUpChannel();_this80._onStop=void 0;_this80._connectionPromise=void 0;_this80._resolvedConnection=void 0;}));case 14:case"end":return _context15.stop();}}},_callee15,this);}));function stop(){return _stop.apply(this,arguments);}return stop;}()},{key:"cleanUp",value:function cleanUp(){var channel=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var diagnostics=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(this._listeners){this._listeners.forEach(function(listener){return listener.dispose();});this._listeners=void 0;}if(this._providers){this._providers.forEach(function(provider){return provider.dispose();});this._providers=void 0;}if(this._syncedDocuments){this._syncedDocuments.clear();}var _iterator38=_createForOfIteratorHelper(this._features.values()),_step35;try{for(_iterator38.s();!(_step35=_iterator38.n()).done;){var feature=_step35.value;feature.dispose();}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}if(channel){this.cleanUpChannel();}if(diagnostics&&this._diagnostics){this._diagnostics.dispose();this._diagnostics=void 0;}}},{key:"cleanUpChannel",value:function cleanUpChannel(){if(this._outputChannel&&this._disposeOutputChannel){this._outputChannel.dispose();this._outputChannel=void 0;}}},{key:"notifyFileEvent",value:function notifyFileEvent(event){var _this$clientOptions$m;var client=this;function didChangeWatchedFile(_x20){return _didChangeWatchedFile.apply(this,arguments);}function _didChangeWatchedFile(){_didChangeWatchedFile=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee17(event2){return regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:client._fileEvents.push(event2);return _context17.abrupt("return",client._fileEventDelayer.trigger(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee16(){var connection,promise;return regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return client.onReady();case 2:_context16.next=4;return client.resolveConnection();case 4:connection=_context16.sent;promise=Promise.resolve();if(client.isConnectionActive()){client.forceDocumentSync();promise=connection.didChangeWatchedFiles({changes:client._fileEvents});}client._fileEvents=[];return _context16.abrupt("return",promise);case 9:case"end":return _context16.stop();}}},_callee16);}))));case 2:case"end":return _context17.stop();}}},_callee17);}));return _didChangeWatchedFile.apply(this,arguments);}var workSpaceMiddleware=(_this$clientOptions$m=this.clientOptions.middleware)===null||_this$clientOptions$m===void 0?void 0:_this$clientOptions$m.workspace;(workSpaceMiddleware!==null&&workSpaceMiddleware!==void 0&&workSpaceMiddleware.didChangeWatchedFile?workSpaceMiddleware.didChangeWatchedFile(event,didChangeWatchedFile):didChangeWatchedFile(event)).catch(function(error){client.error("Notify file events failed.",error);});}},{key:"forceDocumentSync",value:function forceDocumentSync(){if(this._didChangeTextDocumentFeature===void 0){this._didChangeTextDocumentFeature=this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method);}this._didChangeTextDocumentFeature.forceDelivery();}},{key:"handleDiagnostics",value:function handleDiagnostics(params){var _this81=this;if(!this._diagnostics){return;}var uri=this._p2c.asUri(params.uri);var diagnostics=this._p2c.asDiagnostics(params.diagnostics);var middleware=this.clientOptions.middleware;if(middleware.handleDiagnostics){middleware.handleDiagnostics(uri,diagnostics,function(uri2,diagnostics2){return _this81.setDiagnostics(uri2,diagnostics2);});}else{this.setDiagnostics(uri,diagnostics);}}},{key:"setDiagnostics",value:function setDiagnostics(uri,diagnostics){if(!this._diagnostics){return;}this._diagnostics.set(uri,diagnostics);}},{key:"createConnection",value:function createConnection(){var _this82=this;var errorHandler=function errorHandler(error,message,count){_this82.handleConnectionError(error,message,count);};var closeHandler=function closeHandler(){_this82.handleConnectionClosed();};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(function(transports){return _createConnection(transports.reader,transports.writer,errorHandler,closeHandler,_this82._clientOptions.connectionOptions);});}},{key:"handleConnectionClosed",value:function handleConnectionClosed(){if(this.state===ClientState.Stopped){return;}try{if(this._resolvedConnection){this._resolvedConnection.dispose();}}catch(error){}var handlerResult={action:CloseAction.DoNotRestart};if(this.state!==ClientState.Stopping){try{handlerResult=this._clientOptions.errorHandler.closed();}catch(error){}}this._connectionPromise=void 0;this._resolvedConnection=void 0;if(handlerResult.action===CloseAction.DoNotRestart){var _handlerResult$messag;this.error((_handlerResult$messag=handlerResult.message)!==null&&_handlerResult$messag!==void 0?_handlerResult$messag:"Connection to server got closed. Server will not be restarted.",void 0,"force");if(this.state===ClientState.Starting){this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted."));this.state=ClientState.StartFailed;}else{this.state=ClientState.Stopped;}this.cleanUp(false,true);}else if(handlerResult.action===CloseAction.Restart){var _handlerResult$messag2;this.info((_handlerResult$messag2=handlerResult.message)!==null&&_handlerResult$messag2!==void 0?_handlerResult$messag2:"Connection to server got closed. Server will restart.");this.cleanUp(false,false);this.state=ClientState.Initial;this.start();}}},{key:"handleConnectionError",value:function handleConnectionError(error,message,count){var _this83=this;var handlerResult=this._clientOptions.errorHandler.error(error,message,count);if(handlerResult.action===ErrorAction.Shutdown){var _handlerResult$messag3;this.error((_handlerResult$messag3=handlerResult.message)!==null&&_handlerResult$messag3!==void 0?_handlerResult$messag3:"Client ".concat(this._name,": connection to server is erroring. Shutting down server."),void 0,"force");this.stop().catch(function(error2){_this83.error("Stopping server failed",error2,false);});}}},{key:"hookConfigurationChanged",value:function hookConfigurationChanged(connection){var _this84=this;vscode_1.workspace.onDidChangeConfiguration(function(){_this84.refreshTrace(connection,true);});}},{key:"refreshTrace",value:function refreshTrace(connection){var sendNotification=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var config=vscode_1.workspace.getConfiguration(this._id);var trace=vscode_languageserver_protocol_1.Trace.Off;var traceFormat=vscode_languageserver_protocol_1.TraceFormat.Text;if(config){var traceConfig=config.get("trace.server","off");if(typeof traceConfig==="string"){trace=vscode_languageserver_protocol_1.Trace.fromString(traceConfig);}else{trace=vscode_languageserver_protocol_1.Trace.fromString(config.get("trace.server.verbosity","off"));traceFormat=vscode_languageserver_protocol_1.TraceFormat.fromString(config.get("trace.server.format","text"));}}this._trace=trace;this._traceFormat=traceFormat;connection.trace(this._trace,this._tracer,{sendNotification:sendNotification,traceFormat:this._traceFormat});}},{key:"hookFileEvents",value:function hookFileEvents(_connection){var fileEvents=this._clientOptions.synchronize.fileEvents;if(!fileEvents){return;}var watchers;if(Is2.array(fileEvents)){watchers=fileEvents;}else{watchers=[fileEvents];}if(!watchers){return;}this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(),watchers);}},{key:"registerFeatures",value:function registerFeatures(features){var _iterator39=_createForOfIteratorHelper(features),_step36;try{for(_iterator39.s();!(_step36=_iterator39.n()).done;){var feature=_step36.value;this.registerFeature(feature);}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}}},{key:"registerFeature",value:function registerFeature(feature){this._features.push(feature);if(DynamicFeature.is(feature)){var registrationType=feature.registrationType;this._dynamicFeatures.set(registrationType.method,feature);}}},{key:"getFeature",value:function getFeature(request){return this._dynamicFeatures.get(request);}},{key:"registerBuiltinFeatures",value:function registerBuiltinFeatures(){var _this85=this;this.registerFeature(new ConfigurationFeature(this));this.registerFeature(new DidOpenTextDocumentFeature(this,this._syncedDocuments));this.registerFeature(new DidChangeTextDocumentFeature(this));this.registerFeature(new WillSaveFeature(this));this.registerFeature(new WillSaveWaitUntilFeature(this));this.registerFeature(new DidSaveTextDocumentFeature(this));this.registerFeature(new DidCloseTextDocumentFeature(this,this._syncedDocuments));this.registerFeature(new FileSystemWatcherFeature(this,function(event){return _this85.notifyFileEvent(event);}));this.registerFeature(new CompletionItemFeature(this));this.registerFeature(new HoverFeature(this));this.registerFeature(new SignatureHelpFeature(this));this.registerFeature(new DefinitionFeature(this));this.registerFeature(new ReferencesFeature(this));this.registerFeature(new DocumentHighlightFeature(this));this.registerFeature(new DocumentSymbolFeature(this));this.registerFeature(new WorkspaceSymbolFeature(this));this.registerFeature(new CodeActionFeature(this));this.registerFeature(new CodeLensFeature(this));this.registerFeature(new DocumentFormattingFeature(this));this.registerFeature(new DocumentRangeFormattingFeature(this));this.registerFeature(new DocumentOnTypeFormattingFeature(this));this.registerFeature(new RenameFeature(this));this.registerFeature(new DocumentLinkFeature(this));this.registerFeature(new ExecuteCommandFeature(this));}},{key:"fillInitializeParams",value:function fillInitializeParams(params){var _iterator40=_createForOfIteratorHelper(this._features),_step37;try{for(_iterator40.s();!(_step37=_iterator40.n()).done;){var feature=_step37.value;if(Is2.func(feature.fillInitializeParams)){feature.fillInitializeParams(params);}}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}}},{key:"computeClientCapabilities",value:function computeClientCapabilities(){var result={};ensure(result,"workspace").applyEdit=true;var workspaceEdit=ensure(ensure(result,"workspace"),"workspaceEdit");workspaceEdit.documentChanges=true;workspaceEdit.resourceOperations=[vscode_languageserver_protocol_1.ResourceOperationKind.Create,vscode_languageserver_protocol_1.ResourceOperationKind.Rename,vscode_languageserver_protocol_1.ResourceOperationKind.Delete];workspaceEdit.failureHandling=vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;workspaceEdit.normalizesLineEndings=true;workspaceEdit.changeAnnotationSupport={groupsOnLabel:true};var diagnostics=ensure(ensure(result,"textDocument"),"publishDiagnostics");diagnostics.relatedInformation=true;diagnostics.versionSupport=false;diagnostics.tagSupport={valueSet:[vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary,vscode_languageserver_protocol_1.DiagnosticTag.Deprecated]};diagnostics.codeDescriptionSupport=true;diagnostics.dataSupport=true;var windowCapabilities=ensure(result,"window");var showMessage=ensure(windowCapabilities,"showMessage");showMessage.messageActionItem={additionalPropertiesSupport:true};var showDocument=ensure(windowCapabilities,"showDocument");showDocument.support=true;var generalCapabilities=ensure(result,"general");generalCapabilities.staleRequestSupport={cancel:true,retryOnContentModified:Array.from(BaseLanguageClient.RequestsToCancelOnContentModified)};generalCapabilities.regularExpressions={engine:"ECMAScript",version:"ES2020"};generalCapabilities.markdown={parser:"marked",version:"1.1.0"};if(this._clientOptions.markdown.supportHtml){generalCapabilities.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"];}var _iterator41=_createForOfIteratorHelper(this._features),_step38;try{for(_iterator41.s();!(_step38=_iterator41.n()).done;){var feature=_step38.value;feature.fillClientCapabilities(result);}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}return result;}},{key:"initializeFeatures",value:function initializeFeatures(_connection){var documentSelector=this._clientOptions.documentSelector;var _iterator42=_createForOfIteratorHelper(this._features),_step39;try{for(_iterator42.s();!(_step39=_iterator42.n()).done;){var feature=_step39.value;feature.initialize(this._capabilities,documentSelector);}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}}},{key:"handleRegistrationRequest",value:function handleRegistrationRequest(params){var _this86=this;return new Promise(function(resolve,reject){var _iterator43=_createForOfIteratorHelper(params.registrations),_step40;try{for(_iterator43.s();!(_step40=_iterator43.n()).done;){var _registration$registe,_options$documentSele;var registration=_step40.value;var feature=_this86._dynamicFeatures.get(registration.method);if(feature===void 0){reject(new Error("No feature implementation for ".concat(registration.method," found. Registration failed.")));return;}var options=(_registration$registe=registration.registerOptions)!==null&&_registration$registe!==void 0?_registration$registe:{};options.documentSelector=(_options$documentSele=options.documentSelector)!==null&&_options$documentSele!==void 0?_options$documentSele:_this86._clientOptions.documentSelector;var data={id:registration.id,registerOptions:options};try{feature.register(data);}catch(err){reject(err);return;}}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}resolve();});}},{key:"handleUnregistrationRequest",value:function handleUnregistrationRequest(params){var _this87=this;return new Promise(function(resolve,reject){var _iterator44=_createForOfIteratorHelper(params.unregisterations),_step41;try{for(_iterator44.s();!(_step41=_iterator44.n()).done;){var unregistration=_step41.value;var feature=_this87._dynamicFeatures.get(unregistration.method);if(!feature){reject(new Error("No feature implementation for ".concat(unregistration.method," found. Unregistration failed.")));return;}feature.unregister(unregistration.id);}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}resolve();});}},{key:"handleApplyWorkspaceEdit",value:function handleApplyWorkspaceEdit(params){var workspaceEdit=params.edit;var openTextDocuments=new Map();vscode_1.workspace.textDocuments.forEach(function(document2){return openTextDocuments.set(document2.uri.toString(),document2);});var versionMismatch=false;if(workspaceEdit.documentChanges){var _iterator45=_createForOfIteratorHelper(workspaceEdit.documentChanges),_step42;try{for(_iterator45.s();!(_step42=_iterator45.n()).done;){var change=_step42.value;if(vscode_languageserver_protocol_1.TextDocumentEdit.is(change)&&change.textDocument.version&&change.textDocument.version>=0){var textDocument=openTextDocuments.get(change.textDocument.uri);if(textDocument&&textDocument.version!==change.textDocument.version){versionMismatch=true;break;}}}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}}if(versionMismatch){return Promise.resolve({applied:false});}return Is2.asPromise(vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then(function(value){return{applied:value};}));}},{key:"handleFailedRequest",value:function handleFailedRequest(type,token,error,defaultValue){var showNotification=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;if(error instanceof vscode_languageserver_protocol_1.ResponseError){if(error.code===vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled||error.code===vscode_languageserver_protocol_1.LSPErrorCodes.ServerCancelled){if(token!==void 0&&token.isCancellationRequested){return defaultValue;}else{if(error.data!==void 0){throw new LSPCancellationError(error.data);}else{throw new vscode_1.CancellationError();}}}else if(error.code===vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified){if(BaseLanguageClient.RequestsToCancelOnContentModified.has(type.method)){throw new vscode_1.CancellationError();}else{return defaultValue;}}}this.error("Request ".concat(type.method," failed."),error,showNotification);throw error;}}]);return BaseLanguageClient;}();exports.BaseLanguageClient=BaseLanguageClient;BaseLanguageClient.RequestsToCancelOnContentModified=new Set([vscode_languageserver_protocol_1.SemanticTokensRequest.method,vscode_languageserver_protocol_1.SemanticTokensRangeRequest.method,vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.method]);}});// client/node_modules/vscode-languageclient/lib/common/colorProvider.js
var require_colorProvider=__commonJS({"client/node_modules/vscode-languageclient/lib/common/colorProvider.js":function clientNode_modulesVscodeLanguageclientLibCommonColorProviderJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorProviderFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var ColorProviderFeature=/*#__PURE__*/function(_client_1$TextDocumen){_inherits(ColorProviderFeature,_client_1$TextDocumen);var _super65=_createSuper(ColorProviderFeature);function ColorProviderFeature(client){_classCallCheck(this,ColorProviderFeature);return _super65.call(this,client,vscode_languageserver_protocol_1.DocumentColorRequest.type);}_createClass(ColorProviderFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"colorProvider").dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration=this.getRegistration(documentSelector,capabilities.colorProvider),_this$getRegistration2=_slicedToArray(_this$getRegistration,2),id=_this$getRegistration2[0],options=_this$getRegistration2[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this88=this;var provider={provideColorPresentations:function provideColorPresentations(color,context,token){var client=_this88._client;var provideColorPresentations=function provideColorPresentations(color2,context2,token2){var requestParams={color:color2,textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(context2.document),range:client.code2ProtocolConverter.asRange(context2.range)};return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type,requestParams,token2).then(_this88.asColorPresentations.bind(_this88),function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideColorPresentations?middleware.provideColorPresentations(color,context,token,provideColorPresentations):provideColorPresentations(color,context,token);},provideDocumentColors:function provideDocumentColors(document2,token){var client=_this88._client;var provideDocumentColors=function provideDocumentColors(document3,token2){var requestParams={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3)};return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type,requestParams,token2).then(_this88.asColorInformations.bind(_this88),function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideDocumentColors?middleware.provideDocumentColors(document2,token,provideDocumentColors):provideDocumentColors(document2,token);}};return[vscode_1.languages.registerColorProvider(options.documentSelector,provider),provider];}},{key:"asColor",value:function asColor(color){return new vscode_1.Color(color.red,color.green,color.blue,color.alpha);}},{key:"asColorInformations",value:function asColorInformations(colorInformation){var _this89=this;if(Array.isArray(colorInformation)){return colorInformation.map(function(ci2){return new vscode_1.ColorInformation(_this89._client.protocol2CodeConverter.asRange(ci2.range),_this89.asColor(ci2.color));});}return[];}},{key:"asColorPresentations",value:function asColorPresentations(colorPresentations){var _this90=this;if(Array.isArray(colorPresentations)){return colorPresentations.map(function(cp){var presentation=new vscode_1.ColorPresentation(cp.label);presentation.additionalTextEdits=_this90._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits);presentation.textEdit=_this90._client.protocol2CodeConverter.asTextEdit(cp.textEdit);return presentation;});}return[];}}]);return ColorProviderFeature;}(client_1.TextDocumentFeature);exports.ColorProviderFeature=ColorProviderFeature;}});// client/node_modules/vscode-languageclient/lib/common/implementation.js
var require_implementation=__commonJS({"client/node_modules/vscode-languageclient/lib/common/implementation.js":function clientNode_modulesVscodeLanguageclientLibCommonImplementationJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ImplementationFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var ImplementationFeature=/*#__PURE__*/function(_client_1$TextDocumen2){_inherits(ImplementationFeature,_client_1$TextDocumen2);var _super66=_createSuper(ImplementationFeature);function ImplementationFeature(client){_classCallCheck(this,ImplementationFeature);return _super66.call(this,client,vscode_languageserver_protocol_1.ImplementationRequest.type);}_createClass(ImplementationFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var implementationSupport=ensure(ensure(capabilities,"textDocument"),"implementation");implementationSupport.dynamicRegistration=true;implementationSupport.linkSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration3=this.getRegistration(documentSelector,capabilities.implementationProvider),_this$getRegistration4=_slicedToArray(_this$getRegistration3,2),id=_this$getRegistration4[0],options=_this$getRegistration4[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this91=this;var provider={provideImplementation:function provideImplementation(document2,position,token){var client=_this91._client;var provideImplementation=function provideImplementation(document3,position2,token2){return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDefinitionResult,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideImplementation?middleware.provideImplementation(document2,position,token,provideImplementation):provideImplementation(document2,position,token);}};return[vscode_1.languages.registerImplementationProvider(options.documentSelector,provider),provider];}}]);return ImplementationFeature;}(client_1.TextDocumentFeature);exports.ImplementationFeature=ImplementationFeature;}});// client/node_modules/vscode-languageclient/lib/common/typeDefinition.js
var require_typeDefinition=__commonJS({"client/node_modules/vscode-languageclient/lib/common/typeDefinition.js":function clientNode_modulesVscodeLanguageclientLibCommonTypeDefinitionJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeDefinitionFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var TypeDefinitionFeature=/*#__PURE__*/function(_client_1$TextDocumen3){_inherits(TypeDefinitionFeature,_client_1$TextDocumen3);var _super67=_createSuper(TypeDefinitionFeature);function TypeDefinitionFeature(client){_classCallCheck(this,TypeDefinitionFeature);return _super67.call(this,client,vscode_languageserver_protocol_1.TypeDefinitionRequest.type);}_createClass(TypeDefinitionFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"typeDefinition").dynamicRegistration=true;var typeDefinitionSupport=ensure(ensure(capabilities,"textDocument"),"typeDefinition");typeDefinitionSupport.dynamicRegistration=true;typeDefinitionSupport.linkSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration5=this.getRegistration(documentSelector,capabilities.typeDefinitionProvider),_this$getRegistration6=_slicedToArray(_this$getRegistration5,2),id=_this$getRegistration6[0],options=_this$getRegistration6[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this92=this;var provider={provideTypeDefinition:function provideTypeDefinition(document2,position,token){var client=_this92._client;var provideTypeDefinition=function provideTypeDefinition(document3,position2,token2){return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDefinitionResult,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideTypeDefinition?middleware.provideTypeDefinition(document2,position,token,provideTypeDefinition):provideTypeDefinition(document2,position,token);}};return[vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector,provider),provider];}}]);return TypeDefinitionFeature;}(client_1.TextDocumentFeature);exports.TypeDefinitionFeature=TypeDefinitionFeature;}});// client/node_modules/vscode-languageclient/lib/common/workspaceFolders.js
var require_workspaceFolders=__commonJS({"client/node_modules/vscode-languageclient/lib/common/workspaceFolders.js":function clientNode_modulesVscodeLanguageclientLibCommonWorkspaceFoldersJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WorkspaceFoldersFeature=exports.arrayDiff=void 0;var UUID=require_uuid();var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();function access(target,key){if(target===void 0){return void 0;}return target[key];}function arrayDiff(left,right){return left.filter(function(element){return right.indexOf(element)<0;});}exports.arrayDiff=arrayDiff;var WorkspaceFoldersFeature=/*#__PURE__*/function(){function WorkspaceFoldersFeature(_client){_classCallCheck(this,WorkspaceFoldersFeature);this._client=_client;this._listeners=new Map();}_createClass(WorkspaceFoldersFeature,[{key:"registrationType",get:function get(){return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;}},{key:"fillInitializeParams",value:function fillInitializeParams(params){var _this93=this;var folders=vscode_1.workspace.workspaceFolders;this.initializeWithFolders(folders);if(folders===void 0){params.workspaceFolders=null;}else{params.workspaceFolders=folders.map(function(folder){return _this93.asProtocol(folder);});}}},{key:"initializeWithFolders",value:function initializeWithFolders(currentWorkspaceFolders){this._initialFolders=currentWorkspaceFolders;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){capabilities.workspace=capabilities.workspace||{};capabilities.workspace.workspaceFolders=true;}},{key:"initialize",value:function initialize(capabilities){var _this94=this;var client=this._client;client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type,function(token){var workspaceFolders=function workspaceFolders(){var folders=vscode_1.workspace.workspaceFolders;if(folders===void 0){return null;}var result=folders.map(function(folder){return _this94.asProtocol(folder);});return result;};var middleware=client.clientOptions.middleware.workspace;return middleware&&middleware.workspaceFolders?middleware.workspaceFolders(token,workspaceFolders):workspaceFolders(token);});var value=access(access(access(capabilities,"workspace"),"workspaceFolders"),"changeNotifications");var id;if(typeof value==="string"){id=value;}else if(value===true){id=UUID.generateUuid();}if(id){this.register({id:id,registerOptions:void 0});}}},{key:"sendInitialEvent",value:function sendInitialEvent(currentWorkspaceFolders){var _this95=this;var promise;if(this._initialFolders&&currentWorkspaceFolders){var removed=arrayDiff(this._initialFolders,currentWorkspaceFolders);var added=arrayDiff(currentWorkspaceFolders,this._initialFolders);if(added.length>0||removed.length>0){promise=this.doSendEvent(added,removed);}}else if(this._initialFolders){promise=this.doSendEvent([],this._initialFolders);}else if(currentWorkspaceFolders){promise=this.doSendEvent(currentWorkspaceFolders,[]);}if(promise!==void 0){promise.catch(function(error){_this95._client.error("Sending notification ".concat(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method," failed"),error);});}}},{key:"doSendEvent",value:function doSendEvent(addedFolders,removedFolders){var _this96=this;var params={event:{added:addedFolders.map(function(folder){return _this96.asProtocol(folder);}),removed:removedFolders.map(function(folder){return _this96.asProtocol(folder);})}};return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type,params);}},{key:"register",value:function register(data){var _this97=this;var id=data.id;var client=this._client;var disposable=vscode_1.workspace.onDidChangeWorkspaceFolders(function(event){var didChangeWorkspaceFolders=function didChangeWorkspaceFolders(event2){return _this97.doSendEvent(event2.added,event2.removed);};var middleware=client.clientOptions.middleware.workspace;var promise=middleware&&middleware.didChangeWorkspaceFolders?middleware.didChangeWorkspaceFolders(event,didChangeWorkspaceFolders):didChangeWorkspaceFolders(event);promise.catch(function(error){_this97._client.error("Sending notification ".concat(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method," failed"),error);});});this._listeners.set(id,disposable);this.sendInitialEvent(vscode_1.workspace.workspaceFolders);}},{key:"unregister",value:function unregister(id){var disposable=this._listeners.get(id);if(disposable===void 0){return;}this._listeners.delete(id);disposable.dispose();}},{key:"dispose",value:function dispose(){var _iterator46=_createForOfIteratorHelper(this._listeners.values()),_step43;try{for(_iterator46.s();!(_step43=_iterator46.n()).done;){var disposable=_step43.value;disposable.dispose();}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}this._listeners.clear();}},{key:"asProtocol",value:function asProtocol(workspaceFolder){if(workspaceFolder===void 0){return null;}return{uri:this._client.code2ProtocolConverter.asUri(workspaceFolder.uri),name:workspaceFolder.name};}}]);return WorkspaceFoldersFeature;}();exports.WorkspaceFoldersFeature=WorkspaceFoldersFeature;}});// client/node_modules/vscode-languageclient/lib/common/foldingRange.js
var require_foldingRange=__commonJS({"client/node_modules/vscode-languageclient/lib/common/foldingRange.js":function clientNode_modulesVscodeLanguageclientLibCommonFoldingRangeJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FoldingRangeFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var FoldingRangeFeature=/*#__PURE__*/function(_client_1$TextDocumen4){_inherits(FoldingRangeFeature,_client_1$TextDocumen4);var _super68=_createSuper(FoldingRangeFeature);function FoldingRangeFeature(client){_classCallCheck(this,FoldingRangeFeature);return _super68.call(this,client,vscode_languageserver_protocol_1.FoldingRangeRequest.type);}_createClass(FoldingRangeFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var capability=ensure(ensure(capabilities,"textDocument"),"foldingRange");capability.dynamicRegistration=true;capability.rangeLimit=5e3;capability.lineFoldingOnly=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration7=this.getRegistration(documentSelector,capabilities.foldingRangeProvider),_this$getRegistration8=_slicedToArray(_this$getRegistration7,2),id=_this$getRegistration8[0],options=_this$getRegistration8[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this98=this;var provider={provideFoldingRanges:function provideFoldingRanges(document2,context,token){var client=_this98._client;var provideFoldingRanges=function provideFoldingRanges(document3,_,token2){var requestParams={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3)};return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type,requestParams,token2).then(FoldingRangeFeature.asFoldingRanges,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideFoldingRanges?middleware.provideFoldingRanges(document2,context,token,provideFoldingRanges):provideFoldingRanges(document2,context,token);}};return[vscode_1.languages.registerFoldingRangeProvider(options.documentSelector,provider),provider];}}],[{key:"asFoldingRangeKind",value:function asFoldingRangeKind(kind){if(kind){switch(kind){case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:return vscode_1.FoldingRangeKind.Comment;case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:return vscode_1.FoldingRangeKind.Imports;case vscode_languageserver_protocol_1.FoldingRangeKind.Region:return vscode_1.FoldingRangeKind.Region;}}return void 0;}},{key:"asFoldingRanges",value:function asFoldingRanges(foldingRanges){if(Array.isArray(foldingRanges)){return foldingRanges.map(function(r){return new vscode_1.FoldingRange(r.startLine,r.endLine,FoldingRangeFeature.asFoldingRangeKind(r.kind));});}return[];}}]);return FoldingRangeFeature;}(client_1.TextDocumentFeature);exports.FoldingRangeFeature=FoldingRangeFeature;}});// client/node_modules/vscode-languageclient/lib/common/declaration.js
var require_declaration=__commonJS({"client/node_modules/vscode-languageclient/lib/common/declaration.js":function clientNode_modulesVscodeLanguageclientLibCommonDeclarationJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DeclarationFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var DeclarationFeature=/*#__PURE__*/function(_client_1$TextDocumen5){_inherits(DeclarationFeature,_client_1$TextDocumen5);var _super69=_createSuper(DeclarationFeature);function DeclarationFeature(client){_classCallCheck(this,DeclarationFeature);return _super69.call(this,client,vscode_languageserver_protocol_1.DeclarationRequest.type);}_createClass(DeclarationFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var declarationSupport=ensure(ensure(capabilities,"textDocument"),"declaration");declarationSupport.dynamicRegistration=true;declarationSupport.linkSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration9=this.getRegistration(documentSelector,capabilities.declarationProvider),_this$getRegistration10=_slicedToArray(_this$getRegistration9,2),id=_this$getRegistration10[0],options=_this$getRegistration10[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this99=this;var provider={provideDeclaration:function provideDeclaration(document2,position,token){var client=_this99._client;var provideDeclaration=function provideDeclaration(document3,position2,token2){return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asDeclarationResult,function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideDeclaration?middleware.provideDeclaration(document2,position,token,provideDeclaration):provideDeclaration(document2,position,token);}};return[vscode_1.languages.registerDeclarationProvider(options.documentSelector,provider),provider];}}]);return DeclarationFeature;}(client_1.TextDocumentFeature);exports.DeclarationFeature=DeclarationFeature;}});// client/node_modules/vscode-languageclient/lib/common/selectionRange.js
var require_selectionRange=__commonJS({"client/node_modules/vscode-languageclient/lib/common/selectionRange.js":function clientNode_modulesVscodeLanguageclientLibCommonSelectionRangeJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SelectionRangeFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]=Object.create(null);}return target[key];}var SelectionRangeFeature=/*#__PURE__*/function(_client_1$TextDocumen6){_inherits(SelectionRangeFeature,_client_1$TextDocumen6);var _super70=_createSuper(SelectionRangeFeature);function SelectionRangeFeature(client){_classCallCheck(this,SelectionRangeFeature);return _super70.call(this,client,vscode_languageserver_protocol_1.SelectionRangeRequest.type);}_createClass(SelectionRangeFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var capability=ensure(ensure(capabilities,"textDocument"),"selectionRange");capability.dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration11=this.getRegistration(documentSelector,capabilities.selectionRangeProvider),_this$getRegistration12=_slicedToArray(_this$getRegistration11,2),id=_this$getRegistration12[0],options=_this$getRegistration12[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this100=this;var provider={provideSelectionRanges:function provideSelectionRanges(document2,positions,token){var client=_this100._client;var provideSelectionRanges=function provideSelectionRanges(document3,positions2,token2){var requestParams={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),positions:client.code2ProtocolConverter.asPositions(positions2)};return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type,requestParams,token2).then(function(ranges){return client.protocol2CodeConverter.asSelectionRanges(ranges);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideSelectionRanges?middleware.provideSelectionRanges(document2,positions,token,provideSelectionRanges):provideSelectionRanges(document2,positions,token);}};return[vscode_1.languages.registerSelectionRangeProvider(options.documentSelector,provider),provider];}}]);return SelectionRangeFeature;}(client_1.TextDocumentFeature);exports.SelectionRangeFeature=SelectionRangeFeature;}});// client/node_modules/vscode-languageclient/lib/common/progress.js
var require_progress=__commonJS({"client/node_modules/vscode-languageclient/lib/common/progress.js":function clientNode_modulesVscodeLanguageclientLibCommonProgressJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProgressFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var progressPart_1=require_progressPart();function ensure(target,key){if(target[key]===void 0){target[key]=Object.create(null);}return target[key];}var ProgressFeature=/*#__PURE__*/function(){function ProgressFeature(_client){_classCallCheck(this,ProgressFeature);this._client=_client;this.activeParts=new Set();}_createClass(ProgressFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(capabilities,"window").workDoneProgress=true;}},{key:"initialize",value:function initialize(){var _this101=this;var client=this._client;var deleteHandler=function deleteHandler(part){_this101.activeParts.delete(part);};var createHandler=function createHandler(params){_this101.activeParts.add(new progressPart_1.ProgressPart(_this101._client,params.token,deleteHandler));};client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type,createHandler);}},{key:"dispose",value:function dispose(){var _iterator47=_createForOfIteratorHelper(this.activeParts),_step44;try{for(_iterator47.s();!(_step44=_iterator47.n()).done;){var part=_step44.value;part.done();}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}this.activeParts.clear();}}]);return ProgressFeature;}();exports.ProgressFeature=ProgressFeature;}});// client/node_modules/vscode-languageclient/lib/common/callHierarchy.js
var require_callHierarchy=__commonJS({"client/node_modules/vscode-languageclient/lib/common/callHierarchy.js":function clientNode_modulesVscodeLanguageclientLibCommonCallHierarchyJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallHierarchyFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var CallHierarchyProvider=/*#__PURE__*/function(){function CallHierarchyProvider(client){_classCallCheck(this,CallHierarchyProvider);this.client=client;this.middleware=client.clientOptions.middleware;}_createClass(CallHierarchyProvider,[{key:"prepareCallHierarchy",value:function prepareCallHierarchy(document2,position,token){var client=this.client;var middleware=this.middleware;var prepareCallHierarchy=function prepareCallHierarchy(document3,position2,token2){var params=client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2);return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type,params,token2).then(function(result){return client.protocol2CodeConverter.asCallHierarchyItems(result);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type,token2,error,null);});};return middleware.prepareCallHierarchy?middleware.prepareCallHierarchy(document2,position,token,prepareCallHierarchy):prepareCallHierarchy(document2,position,token);}},{key:"provideCallHierarchyIncomingCalls",value:function provideCallHierarchyIncomingCalls(item,token){var client=this.client;var middleware=this.middleware;var provideCallHierarchyIncomingCalls=function provideCallHierarchyIncomingCalls(item2,token2){var params={item:client.code2ProtocolConverter.asCallHierarchyItem(item2)};return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type,params,token2).then(function(result){return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type,token2,error,null);});};return middleware.provideCallHierarchyIncomingCalls?middleware.provideCallHierarchyIncomingCalls(item,token,provideCallHierarchyIncomingCalls):provideCallHierarchyIncomingCalls(item,token);}},{key:"provideCallHierarchyOutgoingCalls",value:function provideCallHierarchyOutgoingCalls(item,token){var client=this.client;var middleware=this.middleware;var provideCallHierarchyOutgoingCalls=function provideCallHierarchyOutgoingCalls(item2,token2){var params={item:client.code2ProtocolConverter.asCallHierarchyItem(item2)};return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type,params,token2).then(function(result){return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type,token2,error,null);});};return middleware.provideCallHierarchyOutgoingCalls?middleware.provideCallHierarchyOutgoingCalls(item,token,provideCallHierarchyOutgoingCalls):provideCallHierarchyOutgoingCalls(item,token);}}]);return CallHierarchyProvider;}();var CallHierarchyFeature=/*#__PURE__*/function(_client_1$TextDocumen7){_inherits(CallHierarchyFeature,_client_1$TextDocumen7);var _super71=_createSuper(CallHierarchyFeature);function CallHierarchyFeature(client){_classCallCheck(this,CallHierarchyFeature);return _super71.call(this,client,vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);}_createClass(CallHierarchyFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(cap){var capabilities=cap;var capability=ensure(ensure(capabilities,"textDocument"),"callHierarchy");capability.dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration13=this.getRegistration(documentSelector,capabilities.callHierarchyProvider),_this$getRegistration14=_slicedToArray(_this$getRegistration13,2),id=_this$getRegistration14[0],options=_this$getRegistration14[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var client=this._client;var provider=new CallHierarchyProvider(client);return[vscode_1.languages.registerCallHierarchyProvider(options.documentSelector,provider),provider];}}]);return CallHierarchyFeature;}(client_1.TextDocumentFeature);exports.CallHierarchyFeature=CallHierarchyFeature;}});// client/node_modules/vscode-languageclient/lib/common/semanticTokens.js
var require_semanticTokens=__commonJS({"client/node_modules/vscode-languageclient/lib/common/semanticTokens.js":function clientNode_modulesVscodeLanguageclientLibCommonSemanticTokensJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SemanticTokensFeature=void 0;var vscode4=require("vscode");var client_1=require_client();var vscode_languageserver_protocol_1=require_main3();var Is2=require_is3();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var SemanticTokensFeature=/*#__PURE__*/function(_client_1$TextDocumen8){_inherits(SemanticTokensFeature,_client_1$TextDocumen8);var _super72=_createSuper(SemanticTokensFeature);function SemanticTokensFeature(client){_classCallCheck(this,SemanticTokensFeature);return _super72.call(this,client,vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);}_createClass(SemanticTokensFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var capability=ensure(ensure(capabilities,"textDocument"),"semanticTokens");capability.dynamicRegistration=true;capability.tokenTypes=[vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,vscode_languageserver_protocol_1.SemanticTokenTypes.type,vscode_languageserver_protocol_1.SemanticTokenTypes.class,vscode_languageserver_protocol_1.SemanticTokenTypes.enum,vscode_languageserver_protocol_1.SemanticTokenTypes.interface,vscode_languageserver_protocol_1.SemanticTokenTypes.struct,vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,vscode_languageserver_protocol_1.SemanticTokenTypes.variable,vscode_languageserver_protocol_1.SemanticTokenTypes.property,vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,vscode_languageserver_protocol_1.SemanticTokenTypes.event,vscode_languageserver_protocol_1.SemanticTokenTypes.function,vscode_languageserver_protocol_1.SemanticTokenTypes.method,vscode_languageserver_protocol_1.SemanticTokenTypes.macro,vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,vscode_languageserver_protocol_1.SemanticTokenTypes.comment,vscode_languageserver_protocol_1.SemanticTokenTypes.string,vscode_languageserver_protocol_1.SemanticTokenTypes.number,vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,vscode_languageserver_protocol_1.SemanticTokenTypes.operator,vscode_languageserver_protocol_1.SemanticTokenTypes.decorator];capability.tokenModifiers=[vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,vscode_languageserver_protocol_1.SemanticTokenModifiers.static,vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,vscode_languageserver_protocol_1.SemanticTokenModifiers.async,vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary];capability.formats=[vscode_languageserver_protocol_1.TokenFormat.Relative];capability.requests={range:true,full:{delta:true}};capability.multilineTokenSupport=false;capability.overlappingTokenSupport=false;capability.serverCancelSupport=true;capability.augmentsSyntaxTokens=true;ensure(ensure(capabilities,"workspace"),"semanticTokens").refreshSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this102=this;var client=this._client;client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type,/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){var _iterator48,_step45,provider;return regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_iterator48=_createForOfIteratorHelper(_this102.getAllProviders());try{for(_iterator48.s();!(_step45=_iterator48.n()).done;){provider=_step45.value;provider.onDidChangeSemanticTokensEmitter.fire();}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}case 2:case"end":return _context18.stop();}}},_callee18);})));var _this$getRegistration15=this.getRegistration(documentSelector,capabilities.semanticTokensProvider),_this$getRegistration16=_slicedToArray(_this$getRegistration15,2),id=_this$getRegistration16[0],options=_this$getRegistration16[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this103=this;var fullProvider=Is2.boolean(options.full)?options.full:options.full!==void 0;var hasEditProvider=options.full!==void 0&&typeof options.full!=="boolean"&&options.full.delta===true;var eventEmitter=new vscode4.EventEmitter();var documentProvider=fullProvider?{onDidChangeSemanticTokens:eventEmitter.event,provideDocumentSemanticTokens:function provideDocumentSemanticTokens(document2,token){var client2=_this103._client;var middleware=client2.clientOptions.middleware;var provideDocumentSemanticTokens=function provideDocumentSemanticTokens(document3,token2){var params={textDocument:client2.code2ProtocolConverter.asTextDocumentIdentifier(document3)};return client2.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type,params,token2).then(function(result){return client2.protocol2CodeConverter.asSemanticTokens(result);},function(error){return client2.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type,token2,error,null);});};return middleware.provideDocumentSemanticTokens?middleware.provideDocumentSemanticTokens(document2,token,provideDocumentSemanticTokens):provideDocumentSemanticTokens(document2,token);},provideDocumentSemanticTokensEdits:hasEditProvider?function(document2,previousResultId,token){var client2=_this103._client;var middleware=client2.clientOptions.middleware;var provideDocumentSemanticTokensEdits=function provideDocumentSemanticTokensEdits(document3,previousResultId2,token2){var params={textDocument:client2.code2ProtocolConverter.asTextDocumentIdentifier(document3),previousResultId:previousResultId2};return client2.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type,params,token2).then(function(result){if(vscode_languageserver_protocol_1.SemanticTokens.is(result)){return client2.protocol2CodeConverter.asSemanticTokens(result);}else{return client2.protocol2CodeConverter.asSemanticTokensEdits(result);}},function(error){return client2.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type,token2,error,null);});};return middleware.provideDocumentSemanticTokensEdits?middleware.provideDocumentSemanticTokensEdits(document2,previousResultId,token,provideDocumentSemanticTokensEdits):provideDocumentSemanticTokensEdits(document2,previousResultId,token);}:void 0}:void 0;var hasRangeProvider=options.range===true;var rangeProvider=hasRangeProvider?{provideDocumentRangeSemanticTokens:function provideDocumentRangeSemanticTokens(document2,range,token){var client2=_this103._client;var middleware=client2.clientOptions.middleware;var provideDocumentRangeSemanticTokens=function provideDocumentRangeSemanticTokens(document3,range2,token2){var params={textDocument:client2.code2ProtocolConverter.asTextDocumentIdentifier(document3),range:client2.code2ProtocolConverter.asRange(range2)};return client2.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type,params,token2).then(function(result){return client2.protocol2CodeConverter.asSemanticTokens(result);},function(error){return client2.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type,token2,error,null);});};return middleware.provideDocumentRangeSemanticTokens?middleware.provideDocumentRangeSemanticTokens(document2,range,token,provideDocumentRangeSemanticTokens):provideDocumentRangeSemanticTokens(document2,range,token);}}:void 0;var disposables=[];var client=this._client;var legend=client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);if(documentProvider!==void 0){disposables.push(vscode4.languages.registerDocumentSemanticTokensProvider(options.documentSelector,documentProvider,legend));}if(rangeProvider!==void 0){disposables.push(vscode4.languages.registerDocumentRangeSemanticTokensProvider(options.documentSelector,rangeProvider,legend));}return[new vscode4.Disposable(function(){return disposables.forEach(function(item){return item.dispose();});}),{range:rangeProvider,full:documentProvider,onDidChangeSemanticTokensEmitter:eventEmitter}];}}]);return SemanticTokensFeature;}(client_1.TextDocumentFeature);exports.SemanticTokensFeature=SemanticTokensFeature;}});// client/node_modules/concat-map/index.js
var require_concat_map=__commonJS({"client/node_modules/concat-map/index.js":function clientNode_modulesConcatMapIndexJs(exports,module2){module2.exports=function(xs2,fn2){var res=[];for(var i=0;i<xs2.length;i++){var x2=fn2(xs2[i],i);if(isArray2(x2))res.push.apply(res,x2);else res.push(x2);}return res;};var isArray2=Array.isArray||function(xs2){return Object.prototype.toString.call(xs2)==="[object Array]";};}});// client/node_modules/balanced-match/index.js
var require_balanced_match=__commonJS({"client/node_modules/balanced-match/index.js":function clientNode_modulesBalancedMatchIndexJs(exports,module2){"use strict";module2.exports=balanced;function balanced(a,b,str){if(a instanceof RegExp)a=maybeMatch(a,str);if(b instanceof RegExp)b=maybeMatch(b,str);var r=range(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)};}function maybeMatch(reg,str){var m=str.match(reg);return m?m[0]:null;}balanced.range=range;function range(a,b,str){var begs,beg,left,right,result;var ai2=str.indexOf(a);var bi2=str.indexOf(b,ai2+1);var i=ai2;if(ai2>=0&&bi2>0){if(a===b){return[ai2,bi2];}begs=[];left=str.length;while(i>=0&&!result){if(i==ai2){begs.push(i);ai2=str.indexOf(a,i+1);}else if(begs.length==1){result=[begs.pop(),bi2];}else{beg=begs.pop();if(beg<left){left=beg;right=bi2;}bi2=str.indexOf(b,i+1);}i=ai2<bi2&&ai2>=0?ai2:bi2;}if(begs.length){result=[left,right];}}return result;}}});// client/node_modules/brace-expansion/index.js
var require_brace_expansion=__commonJS({"client/node_modules/brace-expansion/index.js":function clientNode_modulesBraceExpansionIndexJs(exports,module2){var concatMap=require_concat_map();var balanced=require_balanced_match();module2.exports=expandTop;var escSlash="\0SLASH"+Math.random()+"\0";var escOpen="\0OPEN"+Math.random()+"\0";var escClose="\0CLOSE"+Math.random()+"\0";var escComma="\0COMMA"+Math.random()+"\0";var escPeriod="\0PERIOD"+Math.random()+"\0";function numeric(str){return parseInt(str,10)==str?parseInt(str,10):str.charCodeAt(0);}function escapeBraces(str){return str.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod);}function unescapeBraces(str){return str.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".");}function parseCommaParts(str){if(!str)return[""];var parts=[];var m=balanced("{","}",str);if(!m)return str.split(",");var pre=m.pre;var body=m.body;var post=m.post;var p=pre.split(",");p[p.length-1]+="{"+body+"}";var postParts=parseCommaParts(post);if(post.length){p[p.length-1]+=postParts.shift();p.push.apply(p,postParts);}parts.push.apply(parts,p);return parts;}function expandTop(str){if(!str)return[];if(str.substr(0,2)==="{}"){str="\\{\\}"+str.substr(2);}return expand(escapeBraces(str),true).map(unescapeBraces);}function embrace(str){return"{"+str+"}";}function isPadded(el2){return /^-?0\d/.test(el2);}function lte(i,y){return i<=y;}function gte(i,y){return i>=y;}function expand(str,isTop){var expansions=[];var m=balanced("{","}",str);if(!m||/\$$/.test(m.pre))return[str];var isNumericSequence=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(m.body);var isAlphaSequence=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(m.body);var isSequence=isNumericSequence||isAlphaSequence;var isOptions=m.body.indexOf(",")>=0;if(!isSequence&&!isOptions){if(m.post.match(/,.*\}/)){str=m.pre+"{"+m.body+escClose+m.post;return expand(str);}return[str];}var n;if(isSequence){n=m.body.split(/\.\./);}else{n=parseCommaParts(m.body);if(n.length===1){n=expand(n[0],false).map(embrace);if(n.length===1){var post=m.post.length?expand(m.post,false):[""];return post.map(function(p){return m.pre+n[0]+p;});}}}var pre=m.pre;var post=m.post.length?expand(m.post,false):[""];var N;if(isSequence){var x2=numeric(n[0]);var y=numeric(n[1]);var width=Math.max(n[0].length,n[1].length);var incr=n.length==3?Math.abs(numeric(n[2])):1;var test=lte;var reverse=y<x2;if(reverse){incr*=-1;test=gte;}var pad=n.some(isPadded);N=[];for(var i=x2;test(i,y);i+=incr){var c;if(isAlphaSequence){c=String.fromCharCode(i);if(c==="\\")c="";}else{c=String(i);if(pad){var need=width-c.length;if(need>0){var z2=new Array(need+1).join("0");if(i<0)c="-"+z2+c.slice(1);else c=z2+c;}}}N.push(c);}}else{N=concatMap(n,function(el2){return expand(el2,false);});}for(var j=0;j<N.length;j++){for(var k=0;k<post.length;k++){var expansion=pre+N[j]+post[k];if(!isTop||isSequence||expansion)expansions.push(expansion);}}return expansions;}}});// client/node_modules/minimatch/minimatch.js
var require_minimatch=__commonJS({"client/node_modules/minimatch/minimatch.js":function clientNode_modulesMinimatchMinimatchJs(exports,module2){module2.exports=minimatch;minimatch.Minimatch=Minimatch;var path={sep:"/"};try{path=require("path");}catch(er2){}var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var expand=require_brace_expansion();var plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var qmark="[^/]";var star=qmark+"*?";var twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?";var reSpecials=charSet("().*{}+?[]^$\\!");function charSet(s){return s.split("").reduce(function(set,c){set[c]=true;return set;},{});}var slashSplit=/\/+/;minimatch.filter=filter;function filter(pattern,options){options=options||{};return function(p,i,list){return minimatch(p,pattern,options);};}function ext(a,b){a=a||{};b=b||{};var t={};Object.keys(b).forEach(function(k){t[k]=b[k];});Object.keys(a).forEach(function(k){t[k]=a[k];});return t;}minimatch.defaults=function(def){if(!def||!Object.keys(def).length)return minimatch;var orig=minimatch;var m=function minimatch2(p,pattern,options){return orig.minimatch(p,pattern,ext(def,options));};m.Minimatch=function Minimatch2(pattern,options){return new orig.Minimatch(pattern,ext(def,options));};return m;};Minimatch.defaults=function(def){if(!def||!Object.keys(def).length)return Minimatch;return minimatch.defaults(def).Minimatch;};function minimatch(p,pattern,options){if(typeof pattern!=="string"){throw new TypeError("glob pattern string required");}if(!options)options={};if(!options.nocomment&&pattern.charAt(0)==="#"){return false;}if(pattern.trim()==="")return p==="";return new Minimatch(pattern,options).match(p);}function Minimatch(pattern,options){if(!(this instanceof Minimatch)){return new Minimatch(pattern,options);}if(typeof pattern!=="string"){throw new TypeError("glob pattern string required");}if(!options)options={};pattern=pattern.trim();if(path.sep!=="/"){pattern=pattern.split(path.sep).join("/");}this.options=options;this.set=[];this.pattern=pattern;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.make();}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){if(this._made)return;var pattern=this.pattern;var options=this.options;if(!options.nocomment&&pattern.charAt(0)==="#"){this.comment=true;return;}if(!pattern){this.empty=true;return;}this.parseNegate();var set=this.globSet=this.braceExpand();if(options.debug)this.debug=console.error;this.debug(this.pattern,set);set=this.globParts=set.map(function(s){return s.split(slashSplit);});this.debug(this.pattern,set);set=set.map(function(s,si2,set2){return s.map(this.parse,this);},this);this.debug(this.pattern,set);set=set.filter(function(s){return s.indexOf(false)===-1;});this.debug(this.pattern,set);this.set=set;}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var pattern=this.pattern;var negate=false;var options=this.options;var negateOffset=0;if(options.nonegate)return;for(var i=0,l=pattern.length;i<l&&pattern.charAt(i)==="!";i++){negate=!negate;negateOffset++;}if(negateOffset)this.pattern=pattern.substr(negateOffset);this.negate=negate;}minimatch.braceExpand=function(pattern,options){return braceExpand(pattern,options);};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(pattern,options){if(!options){if(this instanceof Minimatch){options=this.options;}else{options={};}}pattern=typeof pattern==="undefined"?this.pattern:pattern;if(typeof pattern==="undefined"){throw new TypeError("undefined pattern");}if(options.nobrace||!pattern.match(/\{.*\}/)){return[pattern];}return expand(pattern);}Minimatch.prototype.parse=parse;var SUBPARSE={};function parse(pattern,isSub){if(pattern.length>1024*64){throw new TypeError("pattern is too long");}var options=this.options;if(!options.noglobstar&&pattern==="**")return GLOBSTAR;if(pattern==="")return"";var re2="";var hasMagic=!!options.nocase;var escaping=false;var patternListStack=[];var negativeLists=[];var stateChar;var inClass=false;var reClassStart=-1;var classStart=-1;var patternStart=pattern.charAt(0)==="."?"":options.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var self2=this;function clearStateChar(){if(stateChar){switch(stateChar){case"*":re2+=star;hasMagic=true;break;case"?":re2+=qmark;hasMagic=true;break;default:re2+="\\"+stateChar;break;}self2.debug("clearStateChar %j %j",stateChar,re2);stateChar=false;}}for(var i=0,len=pattern.length,c;i<len&&(c=pattern.charAt(i));i++){this.debug("%s	%s %s %j",pattern,i,re2,c);if(escaping&&reSpecials[c]){re2+="\\"+c;escaping=false;continue;}switch(c){case"/":return false;case"\\":clearStateChar();escaping=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s	%s %s %j <-- stateChar",pattern,i,re2,c);if(inClass){this.debug("  in class");if(c==="!"&&i===classStart+1)c="^";re2+=c;continue;}self2.debug("call clearStateChar %j",stateChar);clearStateChar();stateChar=c;if(options.noext)clearStateChar();continue;case"(":if(inClass){re2+="(";continue;}if(!stateChar){re2+="\\(";continue;}patternListStack.push({type:stateChar,start:i-1,reStart:re2.length,open:plTypes[stateChar].open,close:plTypes[stateChar].close});re2+=stateChar==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",stateChar,re2);stateChar=false;continue;case")":if(inClass||!patternListStack.length){re2+="\\)";continue;}clearStateChar();hasMagic=true;var pl2=patternListStack.pop();re2+=pl2.close;if(pl2.type==="!"){negativeLists.push(pl2);}pl2.reEnd=re2.length;continue;case"|":if(inClass||!patternListStack.length||escaping){re2+="\\|";escaping=false;continue;}clearStateChar();re2+="|";continue;case"[":clearStateChar();if(inClass){re2+="\\"+c;continue;}inClass=true;classStart=i;reClassStart=re2.length;re2+=c;continue;case"]":if(i===classStart+1||!inClass){re2+="\\"+c;escaping=false;continue;}if(inClass){var cs2=pattern.substring(classStart+1,i);try{RegExp("["+cs2+"]");}catch(er2){var sp=this.parse(cs2,SUBPARSE);re2=re2.substr(0,reClassStart)+"\\["+sp[0]+"\\]";hasMagic=hasMagic||sp[1];inClass=false;continue;}}hasMagic=true;inClass=false;re2+=c;continue;default:clearStateChar();if(escaping){escaping=false;}else if(reSpecials[c]&&!(c==="^"&&inClass)){re2+="\\";}re2+=c;}}if(inClass){cs2=pattern.substr(classStart+1);sp=this.parse(cs2,SUBPARSE);re2=re2.substr(0,reClassStart)+"\\["+sp[0];hasMagic=hasMagic||sp[1];}for(pl2=patternListStack.pop();pl2;pl2=patternListStack.pop()){var tail=re2.slice(pl2.reStart+pl2.open.length);this.debug("setting tail",re2,pl2);tail=tail.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(_,$1,$2){if(!$2){$2="\\";}return $1+$1+$2+"|";});this.debug("tail=%j\n   %s",tail,tail,pl2,re2);var t=pl2.type==="*"?star:pl2.type==="?"?qmark:"\\"+pl2.type;hasMagic=true;re2=re2.slice(0,pl2.reStart)+t+"\\("+tail;}clearStateChar();if(escaping){re2+="\\\\";}var addPatternStart=false;switch(re2.charAt(0)){case".":case"[":case"(":addPatternStart=true;}for(var n=negativeLists.length-1;n>-1;n--){var nl2=negativeLists[n];var nlBefore=re2.slice(0,nl2.reStart);var nlFirst=re2.slice(nl2.reStart,nl2.reEnd-8);var nlLast=re2.slice(nl2.reEnd-8,nl2.reEnd);var nlAfter=re2.slice(nl2.reEnd);nlLast+=nlAfter;var openParensBefore=nlBefore.split("(").length-1;var cleanAfter=nlAfter;for(i=0;i<openParensBefore;i++){cleanAfter=cleanAfter.replace(/\)[+*?]?/,"");}nlAfter=cleanAfter;var dollar="";if(nlAfter===""&&isSub!==SUBPARSE){dollar="$";}var newRe=nlBefore+nlFirst+nlAfter+dollar+nlLast;re2=newRe;}if(re2!==""&&hasMagic){re2="(?=.)"+re2;}if(addPatternStart){re2=patternStart+re2;}if(isSub===SUBPARSE){return[re2,hasMagic];}if(!hasMagic){return globUnescape(pattern);}var flags=options.nocase?"i":"";try{var regExp=new RegExp("^"+re2+"$",flags);}catch(er2){return new RegExp("$.");}regExp._glob=pattern;regExp._src=re2;return regExp;}minimatch.makeRe=function(pattern,options){return new Minimatch(pattern,options||{}).makeRe();};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var set=this.set;if(!set.length){this.regexp=false;return this.regexp;}var options=this.options;var twoStar=options.noglobstar?star:options.dot?twoStarDot:twoStarNoDot;var flags=options.nocase?"i":"";var re2=set.map(function(pattern){return pattern.map(function(p){return p===GLOBSTAR?twoStar:typeof p==="string"?regExpEscape(p):p._src;}).join("\\/");}).join("|");re2="^(?:"+re2+")$";if(this.negate)re2="^(?!"+re2+").*$";try{this.regexp=new RegExp(re2,flags);}catch(ex){this.regexp=false;}return this.regexp;}minimatch.match=function(list,pattern,options){options=options||{};var mm=new Minimatch(pattern,options);list=list.filter(function(f2){return mm.match(f2);});if(mm.options.nonull&&!list.length){list.push(pattern);}return list;};Minimatch.prototype.match=match;function match(f2,partial){this.debug("match",f2,this.pattern);if(this.comment)return false;if(this.empty)return f2==="";if(f2==="/"&&partial)return true;var options=this.options;if(path.sep!=="/"){f2=f2.split(path.sep).join("/");}f2=f2.split(slashSplit);this.debug(this.pattern,"split",f2);var set=this.set;this.debug(this.pattern,"set",set);var filename;var i;for(i=f2.length-1;i>=0;i--){filename=f2[i];if(filename)break;}for(i=0;i<set.length;i++){var pattern=set[i];var file=f2;if(options.matchBase&&pattern.length===1){file=[filename];}var hit=this.matchOne(file,pattern,partial);if(hit){if(options.flipNegate)return true;return!this.negate;}}if(options.flipNegate)return false;return this.negate;}Minimatch.prototype.matchOne=function(file,pattern,partial){var options=this.options;this.debug("matchOne",{"this":this,file:file,pattern:pattern});this.debug("matchOne",file.length,pattern.length);for(var fi2=0,pi2=0,fl2=file.length,pl2=pattern.length;fi2<fl2&&pi2<pl2;fi2++,pi2++){this.debug("matchOne loop");var p=pattern[pi2];var f2=file[fi2];this.debug(pattern,p,f2);if(p===false)return false;if(p===GLOBSTAR){this.debug("GLOBSTAR",[pattern,p,f2]);var fr2=fi2;var pr2=pi2+1;if(pr2===pl2){this.debug("** at the end");for(;fi2<fl2;fi2++){if(file[fi2]==="."||file[fi2]===".."||!options.dot&&file[fi2].charAt(0)===".")return false;}return true;}while(fr2<fl2){var swallowee=file[fr2];this.debug("\nglobstar while",file,fr2,pattern,pr2,swallowee);if(this.matchOne(file.slice(fr2),pattern.slice(pr2),partial)){this.debug("globstar found match!",fr2,fl2,swallowee);return true;}else{if(swallowee==="."||swallowee===".."||!options.dot&&swallowee.charAt(0)==="."){this.debug("dot detected!",file,fr2,pattern,pr2);break;}this.debug("globstar swallow a segment, and continue");fr2++;}}if(partial){this.debug("\n>>> no match, partial?",file,fr2,pattern,pr2);if(fr2===fl2)return true;}return false;}var hit;if(typeof p==="string"){if(options.nocase){hit=f2.toLowerCase()===p.toLowerCase();}else{hit=f2===p;}this.debug("string match",p,f2,hit);}else{hit=f2.match(p);this.debug("pattern match",p,f2,hit);}if(!hit)return false;}if(fi2===fl2&&pi2===pl2){return true;}else if(fi2===fl2){return partial;}else if(pi2===pl2){var emptyFileEnd=fi2===fl2-1&&file[fi2]==="";return emptyFileEnd;}throw new Error("wtf?");};function globUnescape(s){return s.replace(/\\(.)/g,"$1");}function regExpEscape(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");}}});// client/node_modules/vscode-languageclient/lib/common/fileOperations.js
var require_fileOperations=__commonJS({"client/node_modules/vscode-languageclient/lib/common/fileOperations.js":function clientNode_modulesVscodeLanguageclientLibCommonFileOperationsJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WillDeleteFilesFeature=exports.WillRenameFilesFeature=exports.WillCreateFilesFeature=exports.DidDeleteFilesFeature=exports.DidRenameFilesFeature=exports.DidCreateFilesFeature=void 0;var code=require("vscode");var minimatch=require_minimatch();var proto=require_main3();var UUID=require_uuid();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}function access(target,key){return target[key];}function assign(target,key,value){target[key]=value;}var FileOperationFeature=/*#__PURE__*/function(){function FileOperationFeature(client,event,registrationType,clientCapability,serverCapability){_classCallCheck(this,FileOperationFeature);this._filters=new Map();this._client=client;this._event=event;this._registrationType=registrationType;this._clientCapability=clientCapability;this._serverCapability=serverCapability;}_createClass(FileOperationFeature,[{key:"registrationType",get:function get(){return this._registrationType;}},{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var value=ensure(ensure(capabilities,"workspace"),"fileOperations");assign(value,"dynamicRegistration",true);assign(value,this._clientCapability,true);}},{key:"initialize",value:function initialize(capabilities){var _capabilities$workspa;var options=(_capabilities$workspa=capabilities.workspace)===null||_capabilities$workspa===void 0?void 0:_capabilities$workspa.fileOperations;var capability=options!==void 0?access(options,this._serverCapability):void 0;if((capability===null||capability===void 0?void 0:capability.filters)!==void 0){try{this.register({id:UUID.generateUuid(),registerOptions:{filters:capability.filters}});}catch(e){this._client.warn("Ignoring invalid glob pattern for ".concat(this._serverCapability," registration: ").concat(e));}}}},{key:"register",value:function register(data){if(!this._listener){this._listener=this._event(this.send,this);}var minimatchFilter=data.registerOptions.filters.map(function(filter){var matcher=new minimatch.Minimatch(filter.pattern.glob,FileOperationFeature.asMinimatchOptions(filter.pattern.options));if(!matcher.makeRe()){throw new Error("Invalid pattern ".concat(filter.pattern.glob,"!"));}return{scheme:filter.scheme,matcher:matcher,kind:filter.pattern.matches};});this._filters.set(data.id,minimatchFilter);}},{key:"unregister",value:function unregister(id){this._filters.delete(id);if(this._filters.size===0&&this._listener){this._listener.dispose();this._listener=void 0;}}},{key:"dispose",value:function dispose(){this._filters.clear();if(this._listener){this._listener.dispose();this._listener=void 0;}}},{key:"getFileType",value:function getFileType(uri){return FileOperationFeature.getFileType(uri);;}},{key:"filter",value:function(){var _filter=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee20(event,prop){var _this104=this;var fileMatches,files;return regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_context20.next=2;return Promise.all(event.files.map(/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee19(item){var uri,path,_iterator49,_step46,filters,_iterator50,_step47,_filter2,fileType,_fileType;return regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:uri=prop(item);path=uri.fsPath.replace(/\\/g,"/");_iterator49=_createForOfIteratorHelper(_this104._filters.values());_context19.prev=3;_iterator49.s();case 5:if((_step46=_iterator49.n()).done){_context19.next=45;break;}filters=_step46.value;_iterator50=_createForOfIteratorHelper(filters);_context19.prev=8;_iterator50.s();case 10:if((_step47=_iterator50.n()).done){_context19.next=35;break;}_filter2=_step47.value;if(!(_filter2.scheme!==void 0&&_filter2.scheme!==uri.scheme)){_context19.next=14;break;}return _context19.abrupt("continue",33);case 14:if(!_filter2.matcher.match(path)){_context19.next=27;break;}if(!(_filter2.kind===void 0)){_context19.next=17;break;}return _context19.abrupt("return",true);case 17:_context19.next=19;return _this104.getFileType(uri);case 19:fileType=_context19.sent;if(!(fileType===void 0)){_context19.next=23;break;}_this104._client.error("Failed to determine file type for ".concat(uri.toString(),"."));return _context19.abrupt("return",true);case 23:if(!(fileType===code.FileType.File&&_filter2.kind===proto.FileOperationPatternKind.file||fileType===code.FileType.Directory&&_filter2.kind===proto.FileOperationPatternKind.folder)){_context19.next=25;break;}return _context19.abrupt("return",true);case 25:_context19.next=33;break;case 27:if(!(_filter2.kind===proto.FileOperationPatternKind.folder)){_context19.next=33;break;}_context19.next=30;return FileOperationFeature.getFileType(uri);case 30:_fileType=_context19.sent;if(!(_fileType===code.FileType.Directory&&_filter2.matcher.match("".concat(path,"/")))){_context19.next=33;break;}return _context19.abrupt("return",true);case 33:_context19.next=10;break;case 35:_context19.next=40;break;case 37:_context19.prev=37;_context19.t0=_context19["catch"](8);_iterator50.e(_context19.t0);case 40:_context19.prev=40;_iterator50.f();return _context19.finish(40);case 43:_context19.next=5;break;case 45:_context19.next=50;break;case 47:_context19.prev=47;_context19.t1=_context19["catch"](3);_iterator49.e(_context19.t1);case 50:_context19.prev=50;_iterator49.f();return _context19.finish(50);case 53:return _context19.abrupt("return",false);case 54:case"end":return _context19.stop();}}},_callee19,null,[[3,47,50,53],[8,37,40,43]]);}));return function(_x23){return _ref18.apply(this,arguments);};}()));case 2:fileMatches=_context20.sent;files=event.files.filter(function(_,index){return fileMatches[index];});return _context20.abrupt("return",_objectSpread(_objectSpread({},event),{},{files:files}));case 5:case"end":return _context20.stop();}}},_callee20);}));function filter(_x21,_x22){return _filter.apply(this,arguments);}return filter;}()}],[{key:"getFileType",value:function(){var _getFileType=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee21(uri){return regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:_context21.prev=0;_context21.next=3;return code.workspace.fs.stat(uri);case 3:return _context21.abrupt("return",_context21.sent.type);case 6:_context21.prev=6;_context21.t0=_context21["catch"](0);return _context21.abrupt("return",void 0);case 9:case"end":return _context21.stop();}}},_callee21,null,[[0,6]]);}));function getFileType(_x24){return _getFileType.apply(this,arguments);}return getFileType;}()},{key:"asMinimatchOptions",value:function asMinimatchOptions(options){if(options===void 0){return void 0;}if(options.ignoreCase===true){return{nocase:true};}return void 0;}}]);return FileOperationFeature;}();var NotificationFileOperationFeature=/*#__PURE__*/function(_FileOperationFeature){_inherits(NotificationFileOperationFeature,_FileOperationFeature);var _super73=_createSuper(NotificationFileOperationFeature);function NotificationFileOperationFeature(client,event,notificationType,clientCapability,serverCapability,accessUri,createParams){var _this105;_classCallCheck(this,NotificationFileOperationFeature);_this105=_super73.call(this,client,event,notificationType,clientCapability,serverCapability);_this105._notificationType=notificationType;_this105._accessUri=accessUri;_this105._createParams=createParams;return _this105;}_createClass(NotificationFileOperationFeature,[{key:"send",value:function(){var _send=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee23(originalEvent){var _this106=this;var filteredEvent,next;return regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:_context23.next=2;return this.filter(originalEvent,this._accessUri);case 2:filteredEvent=_context23.sent;if(!filteredEvent.files.length){_context23.next=6;break;}next=/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee22(event){return regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:return _context22.abrupt("return",_this106._client.sendNotification(_this106._notificationType,_this106._createParams(event)));case 1:case"end":return _context22.stop();}}},_callee22);}));return function next(_x26){return _ref19.apply(this,arguments);};}();return _context23.abrupt("return",this.doSend(filteredEvent,next));case 6:case"end":return _context23.stop();}}},_callee23,this);}));function send(_x25){return _send.apply(this,arguments);}return send;}()}]);return NotificationFileOperationFeature;}(FileOperationFeature);var CachingNotificationFileOperationFeature=/*#__PURE__*/function(_NotificationFileOper){_inherits(CachingNotificationFileOperationFeature,_NotificationFileOper);var _super74=_createSuper(CachingNotificationFileOperationFeature);function CachingNotificationFileOperationFeature(){var _this107;_classCallCheck(this,CachingNotificationFileOperationFeature);_this107=_super74.apply(this,arguments);_this107._fsPathFileTypes=new Map();return _this107;}_createClass(CachingNotificationFileOperationFeature,[{key:"getFileType",value:function(){var _getFileType2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee24(uri){var fsPath,type;return regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:fsPath=uri.fsPath;if(!this._fsPathFileTypes.has(fsPath)){_context24.next=3;break;}return _context24.abrupt("return",this._fsPathFileTypes.get(fsPath));case 3:_context24.next=5;return FileOperationFeature.getFileType(uri);case 5:type=_context24.sent;if(type)this._fsPathFileTypes.set(fsPath,type);return _context24.abrupt("return",type);case 8:case"end":return _context24.stop();}}},_callee24,this);}));function getFileType(_x27){return _getFileType2.apply(this,arguments);}return getFileType;}()},{key:"cacheFileTypes",value:function(){var _cacheFileTypes=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee25(event,prop){return regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:_context25.next=2;return this.filter(event,prop);case 2:case"end":return _context25.stop();}}},_callee25,this);}));function cacheFileTypes(_x28,_x29){return _cacheFileTypes.apply(this,arguments);}return cacheFileTypes;}()},{key:"clearFileTypeCache",value:function clearFileTypeCache(){this._fsPathFileTypes.clear();}},{key:"unregister",value:function unregister(id){_get(_getPrototypeOf(CachingNotificationFileOperationFeature.prototype),"unregister",this).call(this,id);if(this._filters.size===0&&this._willListener){this._willListener.dispose();this._willListener=void 0;}}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(CachingNotificationFileOperationFeature.prototype),"dispose",this).call(this);if(this._willListener){this._willListener.dispose();this._willListener=void 0;}}}]);return CachingNotificationFileOperationFeature;}(NotificationFileOperationFeature);var DidCreateFilesFeature=/*#__PURE__*/function(_NotificationFileOper2){_inherits(DidCreateFilesFeature,_NotificationFileOper2);var _super75=_createSuper(DidCreateFilesFeature);function DidCreateFilesFeature(client){_classCallCheck(this,DidCreateFilesFeature);return _super75.call(this,client,code.workspace.onDidCreateFiles,proto.DidCreateFilesNotification.type,"didCreate","didCreate",function(i){return i;},client.code2ProtocolConverter.asDidCreateFilesParams);}_createClass(DidCreateFilesFeature,[{key:"doSend",value:function doSend(event,next){var _this$_client$clientO;var middleware=(_this$_client$clientO=this._client.clientOptions.middleware)===null||_this$_client$clientO===void 0?void 0:_this$_client$clientO.workspace;return middleware!==null&&middleware!==void 0&&middleware.didCreateFiles?middleware.didCreateFiles(event,next):next(event);}}]);return DidCreateFilesFeature;}(NotificationFileOperationFeature);exports.DidCreateFilesFeature=DidCreateFilesFeature;var DidRenameFilesFeature=/*#__PURE__*/function(_CachingNotificationF){_inherits(DidRenameFilesFeature,_CachingNotificationF);var _super76=_createSuper(DidRenameFilesFeature);function DidRenameFilesFeature(client){_classCallCheck(this,DidRenameFilesFeature);return _super76.call(this,client,code.workspace.onDidRenameFiles,proto.DidRenameFilesNotification.type,"didRename","didRename",function(i){return i.oldUri;},client.code2ProtocolConverter.asDidRenameFilesParams);}_createClass(DidRenameFilesFeature,[{key:"register",value:function register(data){if(!this._willListener){this._willListener=code.workspace.onWillRenameFiles(this.willRename,this);}_get(_getPrototypeOf(DidRenameFilesFeature.prototype),"register",this).call(this,data);}},{key:"willRename",value:function willRename(e){e.waitUntil(this.cacheFileTypes(e,function(i){return i.oldUri;}));}},{key:"doSend",value:function doSend(event,next){var _this$_client$clientO2;this.clearFileTypeCache();var middleware=(_this$_client$clientO2=this._client.clientOptions.middleware)===null||_this$_client$clientO2===void 0?void 0:_this$_client$clientO2.workspace;return middleware!==null&&middleware!==void 0&&middleware.didRenameFiles?middleware.didRenameFiles(event,next):next(event);}}]);return DidRenameFilesFeature;}(CachingNotificationFileOperationFeature);exports.DidRenameFilesFeature=DidRenameFilesFeature;var DidDeleteFilesFeature=/*#__PURE__*/function(_CachingNotificationF2){_inherits(DidDeleteFilesFeature,_CachingNotificationF2);var _super77=_createSuper(DidDeleteFilesFeature);function DidDeleteFilesFeature(client){_classCallCheck(this,DidDeleteFilesFeature);return _super77.call(this,client,code.workspace.onDidDeleteFiles,proto.DidDeleteFilesNotification.type,"didDelete","didDelete",function(i){return i;},client.code2ProtocolConverter.asDidDeleteFilesParams);}_createClass(DidDeleteFilesFeature,[{key:"register",value:function register(data){if(!this._willListener){this._willListener=code.workspace.onWillDeleteFiles(this.willDelete,this);}_get(_getPrototypeOf(DidDeleteFilesFeature.prototype),"register",this).call(this,data);}},{key:"willDelete",value:function willDelete(e){e.waitUntil(this.cacheFileTypes(e,function(i){return i;}));}},{key:"doSend",value:function doSend(event,next){var _this$_client$clientO3;this.clearFileTypeCache();var middleware=(_this$_client$clientO3=this._client.clientOptions.middleware)===null||_this$_client$clientO3===void 0?void 0:_this$_client$clientO3.workspace;return middleware!==null&&middleware!==void 0&&middleware.didDeleteFiles?middleware.didDeleteFiles(event,next):next(event);}}]);return DidDeleteFilesFeature;}(CachingNotificationFileOperationFeature);exports.DidDeleteFilesFeature=DidDeleteFilesFeature;var RequestFileOperationFeature=/*#__PURE__*/function(_FileOperationFeature2){_inherits(RequestFileOperationFeature,_FileOperationFeature2);var _super78=_createSuper(RequestFileOperationFeature);function RequestFileOperationFeature(client,event,requestType,clientCapability,serverCapability,accessUri,createParams){var _this108;_classCallCheck(this,RequestFileOperationFeature);_this108=_super78.call(this,client,event,requestType,clientCapability,serverCapability);_this108._requestType=requestType;_this108._accessUri=accessUri;_this108._createParams=createParams;return _this108;}_createClass(RequestFileOperationFeature,[{key:"send",value:function(){var _send2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee26(originalEvent){var waitUntil;return regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:waitUntil=this.waitUntil(originalEvent);originalEvent.waitUntil(waitUntil);case 2:case"end":return _context26.stop();}}},_callee26,this);}));function send(_x30){return _send2.apply(this,arguments);}return send;}()},{key:"waitUntil",value:function(){var _waitUntil=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee27(originalEvent){var _this109=this;var filteredEvent,next;return regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:_context27.next=2;return this.filter(originalEvent,this._accessUri);case 2:filteredEvent=_context27.sent;if(!filteredEvent.files.length){_context27.next=8;break;}next=function next(event){return _this109._client.sendRequest(_this109._requestType,_this109._createParams(event)).then(_this109._client.protocol2CodeConverter.asWorkspaceEdit);};return _context27.abrupt("return",this.doSend(filteredEvent,next));case 8:return _context27.abrupt("return",void 0);case 9:case"end":return _context27.stop();}}},_callee27,this);}));function waitUntil(_x31){return _waitUntil.apply(this,arguments);}return waitUntil;}()}]);return RequestFileOperationFeature;}(FileOperationFeature);var WillCreateFilesFeature=/*#__PURE__*/function(_RequestFileOperation){_inherits(WillCreateFilesFeature,_RequestFileOperation);var _super79=_createSuper(WillCreateFilesFeature);function WillCreateFilesFeature(client){_classCallCheck(this,WillCreateFilesFeature);return _super79.call(this,client,code.workspace.onWillCreateFiles,proto.WillCreateFilesRequest.type,"willCreate","willCreate",function(i){return i;},client.code2ProtocolConverter.asWillCreateFilesParams);}_createClass(WillCreateFilesFeature,[{key:"doSend",value:function doSend(event,next){var _this$_client$clientO4;var middleware=(_this$_client$clientO4=this._client.clientOptions.middleware)===null||_this$_client$clientO4===void 0?void 0:_this$_client$clientO4.workspace;return middleware!==null&&middleware!==void 0&&middleware.willCreateFiles?middleware.willCreateFiles(event,next):next(event);}}]);return WillCreateFilesFeature;}(RequestFileOperationFeature);exports.WillCreateFilesFeature=WillCreateFilesFeature;var WillRenameFilesFeature=/*#__PURE__*/function(_RequestFileOperation2){_inherits(WillRenameFilesFeature,_RequestFileOperation2);var _super80=_createSuper(WillRenameFilesFeature);function WillRenameFilesFeature(client){_classCallCheck(this,WillRenameFilesFeature);return _super80.call(this,client,code.workspace.onWillRenameFiles,proto.WillRenameFilesRequest.type,"willRename","willRename",function(i){return i.oldUri;},client.code2ProtocolConverter.asWillRenameFilesParams);}_createClass(WillRenameFilesFeature,[{key:"doSend",value:function doSend(event,next){var _this$_client$clientO5;var middleware=(_this$_client$clientO5=this._client.clientOptions.middleware)===null||_this$_client$clientO5===void 0?void 0:_this$_client$clientO5.workspace;return middleware!==null&&middleware!==void 0&&middleware.willRenameFiles?middleware.willRenameFiles(event,next):next(event);}}]);return WillRenameFilesFeature;}(RequestFileOperationFeature);exports.WillRenameFilesFeature=WillRenameFilesFeature;var WillDeleteFilesFeature=/*#__PURE__*/function(_RequestFileOperation3){_inherits(WillDeleteFilesFeature,_RequestFileOperation3);var _super81=_createSuper(WillDeleteFilesFeature);function WillDeleteFilesFeature(client){_classCallCheck(this,WillDeleteFilesFeature);return _super81.call(this,client,code.workspace.onWillDeleteFiles,proto.WillDeleteFilesRequest.type,"willDelete","willDelete",function(i){return i;},client.code2ProtocolConverter.asWillDeleteFilesParams);}_createClass(WillDeleteFilesFeature,[{key:"doSend",value:function doSend(event,next){var _this$_client$clientO6;var middleware=(_this$_client$clientO6=this._client.clientOptions.middleware)===null||_this$_client$clientO6===void 0?void 0:_this$_client$clientO6.workspace;return middleware!==null&&middleware!==void 0&&middleware.willDeleteFiles?middleware.willDeleteFiles(event,next):next(event);}}]);return WillDeleteFilesFeature;}(RequestFileOperationFeature);exports.WillDeleteFilesFeature=WillDeleteFilesFeature;}});// client/node_modules/vscode-languageclient/lib/common/linkedEditingRange.js
var require_linkedEditingRange=__commonJS({"client/node_modules/vscode-languageclient/lib/common/linkedEditingRange.js":function clientNode_modulesVscodeLanguageclientLibCommonLinkedEditingRangeJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LinkedEditingFeature=void 0;var code=require("vscode");var proto=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var LinkedEditingFeature=/*#__PURE__*/function(_client_1$TextDocumen9){_inherits(LinkedEditingFeature,_client_1$TextDocumen9);var _super82=_createSuper(LinkedEditingFeature);function LinkedEditingFeature(client){_classCallCheck(this,LinkedEditingFeature);return _super82.call(this,client,proto.LinkedEditingRangeRequest.type);}_createClass(LinkedEditingFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var linkedEditingSupport=ensure(ensure(capabilities,"textDocument"),"linkedEditingRange");linkedEditingSupport.dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration17=this.getRegistration(documentSelector,capabilities.linkedEditingRangeProvider),_this$getRegistration18=_slicedToArray(_this$getRegistration17,2),id=_this$getRegistration18[0],options=_this$getRegistration18[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this110=this;var provider={provideLinkedEditingRanges:function provideLinkedEditingRanges(document2,position,token){var client=_this110._client;var provideLinkedEditing=function provideLinkedEditing(document3,position2,token2){return client.sendRequest(proto.LinkedEditingRangeRequest.type,client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2),token2).then(client.protocol2CodeConverter.asLinkedEditingRanges,function(error){return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideLinkedEditingRange?middleware.provideLinkedEditingRange(document2,position,token,provideLinkedEditing):provideLinkedEditing(document2,position,token);}};return[code.languages.registerLinkedEditingRangeProvider(options.documentSelector,provider),provider];}}]);return LinkedEditingFeature;}(client_1.TextDocumentFeature);exports.LinkedEditingFeature=LinkedEditingFeature;}});// client/node_modules/vscode-languageclient/lib/common/proposed.diagnostic.js
var require_proposed_diagnostic2=__commonJS({"client/node_modules/vscode-languageclient/lib/common/proposed.diagnostic.js":function clientNode_modulesVscodeLanguageclientLibCommonProposedDiagnosticJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiagnosticFeature=exports.vsdiag=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var uuid_1=require_uuid();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var vsdiag;(function(vsdiag2){var DocumentDiagnosticReportKind;(function(DocumentDiagnosticReportKind2){DocumentDiagnosticReportKind2["full"]="full";DocumentDiagnosticReportKind2["unChanged"]="unChanged";})(DocumentDiagnosticReportKind=vsdiag2.DocumentDiagnosticReportKind||(vsdiag2.DocumentDiagnosticReportKind={}));})(vsdiag=exports.vsdiag||(exports.vsdiag={}));var RequestStateKind;(function(RequestStateKind2){RequestStateKind2["active"]="open";RequestStateKind2["reschedule"]="reschedule";RequestStateKind2["outDated"]="drop";})(RequestStateKind||(RequestStateKind={}));var EditorTracker=/*#__PURE__*/function(){function EditorTracker(){var _this111=this;_classCallCheck(this,EditorTracker);this.open=new Set();var openTabsHandler=function openTabsHandler(){_this111.open.clear();if(vscode_1.window.tabs!==void 0){var _iterator51=_createForOfIteratorHelper(vscode_1.window.tabs),_step48;try{for(_iterator51.s();!(_step48=_iterator51.n()).done;){var tab=_step48.value;if(tab.resource!==void 0){_this111.open.add(tab.resource.toString());}}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}}else if(vscode_1.window.openEditors!==void 0){var _iterator52=_createForOfIteratorHelper(vscode_1.window.openEditors),_step49;try{for(_iterator52.s();!(_step49=_iterator52.n()).done;){var info=_step49.value;if(info.resource!==void 0){_this111.open.add(info.resource.toString());}}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}}};openTabsHandler();if(vscode_1.window.onDidChangeTabs!==void 0){this.disposable=vscode_1.window.onDidChangeTabs(openTabsHandler);}else if(vscode_1.window.onDidChangeOpenEditors!==void 0){this.disposable=vscode_1.window.onDidChangeOpenEditors(openTabsHandler);}else{this.disposable={dispose:function dispose(){}};}}_createClass(EditorTracker,[{key:"dispose",value:function dispose(){this.disposable.dispose();}},{key:"isActive",value:function isActive(textDocument){var _vscode_1$window$acti;return((_vscode_1$window$acti=vscode_1.window.activeTextEditor)===null||_vscode_1$window$acti===void 0?void 0:_vscode_1$window$acti.document)===textDocument;}},{key:"isVisible",value:function isVisible(textDocument){return this.open.has(textDocument.uri.toString());}}]);return EditorTracker;}();var PullState;(function(PullState2){PullState2[PullState2["document"]=1]="document";PullState2[PullState2["workspace"]=2]="workspace";})(PullState||(PullState={}));var DocumentPullStateTracker=/*#__PURE__*/function(){function DocumentPullStateTracker(){_classCallCheck(this,DocumentPullStateTracker);this.documentPullStates=new Map();this.workspacePullStates=new Map();}_createClass(DocumentPullStateTracker,[{key:"track",value:function track(kind,document2,arg1){var states=kind===PullState.document?this.documentPullStates:this.workspacePullStates;var _ref20=typeof document2==="string"?[document2,vscode_1.Uri.parse(document2),arg1]:[document2.uri.toString(),document2.uri,document2.version],_ref21=_slicedToArray(_ref20,3),key=_ref21[0],uri=_ref21[1],version2=_ref21[2];var state=states.get(key);if(state===void 0){state={document:uri,pulledVersion:version2,resultId:void 0};states.set(key,state);}return state;}},{key:"update",value:function update(kind,document2,arg1,arg2){var states=kind===PullState.document?this.documentPullStates:this.workspacePullStates;var _ref22=typeof document2==="string"?[document2,vscode_1.Uri.parse(document2),arg1,arg2]:[document2.uri.toString(),document2.uri,document2.version,arg1],_ref23=_slicedToArray(_ref22,4),key=_ref23[0],uri=_ref23[1],version2=_ref23[2],resultId=_ref23[3];var state=states.get(key);if(state===void 0){state={document:uri,pulledVersion:version2,resultId:resultId};states.set(key,state);}else{state.pulledVersion=version2;state.resultId=resultId;}}},{key:"unTrack",value:function unTrack(kind,textDocument){var states=kind===PullState.document?this.documentPullStates:this.workspacePullStates;states.delete(textDocument.uri.toString());}},{key:"tracks",value:function tracks(kind,document2){var key=typeof document2==="string"?document2:document2.uri.toString();var states=kind===PullState.document?this.documentPullStates:this.workspacePullStates;return states.has(key);}},{key:"getResultId",value:function getResultId(kind,textDocument){var _states$get;var states=kind===PullState.document?this.documentPullStates:this.workspacePullStates;return(_states$get=states.get(textDocument.uri.toString()))===null||_states$get===void 0?void 0:_states$get.resultId;}},{key:"getAllResultIds",value:function getAllResultIds(){var result=[];var _iterator53=_createForOfIteratorHelper(this.workspacePullStates),_step50;try{for(_iterator53.s();!(_step50=_iterator53.n()).done;){var _step50$value=_slicedToArray(_step50.value,2),uri=_step50$value[0],value=_step50$value[1];if(this.documentPullStates.has(uri)){value=this.documentPullStates.get(uri);}if(value.resultId!==void 0){result.push({uri:uri,value:value.resultId});}}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}return result;}}]);return DocumentPullStateTracker;}();var DiagnosticRequestor=/*#__PURE__*/function(){function DiagnosticRequestor(client,editorTracker,options){_classCallCheck(this,DiagnosticRequestor);this.client=client;this.editorTracker=editorTracker;this.options=options;this.isDisposed=false;this.onDidChangeDiagnosticsEmitter=new vscode_1.EventEmitter();this.provider=this.createProvider();this.diagnostics=vscode_1.languages.createDiagnosticCollection(options.identifier);this.openRequests=new Map();this.documentStates=new DocumentPullStateTracker();this.workspaceErrorCounter=0;}_createClass(DiagnosticRequestor,[{key:"knows",value:function knows(kind,textDocument){return this.documentStates.tracks(kind,textDocument);}},{key:"pull",value:function pull(textDocument,cb){var _this112=this;this.pullAsync(textDocument).then(function(){if(cb){cb();}},function(error){_this112.client.error("Document pull failed for text document ".concat(textDocument.uri.toString()),error,false);});}},{key:"pullAsync",value:function(){var _pullAsync=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee28(textDocument){var key,version2,currentRequestState,documentState,_afterState,tokenSource,report,afterState,_yield$this$provider$;return regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:key=textDocument.uri.toString();version2=textDocument.version;currentRequestState=this.openRequests.get(key);documentState=this.documentStates.track(PullState.document,textDocument);if(!(currentRequestState===void 0)){_context28.next=45;break;}tokenSource=new vscode_1.CancellationTokenSource();this.openRequests.set(key,{state:RequestStateKind.active,version:version2,textDocument:textDocument,tokenSource:tokenSource});_context28.prev=7;_context28.next=10;return this.provider.provideDiagnostics(textDocument,documentState.resultId,tokenSource.token);case 10:_context28.t1=_yield$this$provider$=_context28.sent;_context28.t0=_context28.t1!==null;if(!_context28.t0){_context28.next=14;break;}_context28.t0=_yield$this$provider$!==void 0;case 14:if(!_context28.t0){_context28.next=18;break;}_context28.t2=_yield$this$provider$;_context28.next=19;break;case 18:_context28.t2={kind:vsdiag.DocumentDiagnosticReportKind.full,items:[]};case 19:report=_context28.t2;_context28.next=30;break;case 22:_context28.prev=22;_context28.t3=_context28["catch"](7);if(_context28.t3 instanceof client_1.LSPCancellationError&&vscode_languageserver_protocol_1.Proposed.DiagnosticServerCancellationData.is(_context28.t3.data)&&_context28.t3.data.retriggerRequest===false){afterState={state:RequestStateKind.outDated,textDocument:textDocument};}if(!(afterState===void 0&&_context28.t3 instanceof vscode_1.CancellationError)){_context28.next=29;break;}afterState={state:RequestStateKind.reschedule,textDocument:textDocument};_context28.next=30;break;case 29:throw _context28.t3;case 30:afterState=(_afterState=afterState)!==null&&_afterState!==void 0?_afterState:this.openRequests.get(key);if(!(afterState===void 0)){_context28.next=35;break;}this.client.error("Lost request state in diagnostic pull model. Clearing diagnostics for ".concat(key));this.diagnostics.delete(textDocument.uri);return _context28.abrupt("return");case 35:this.openRequests.delete(key);if(this.editorTracker.isVisible(textDocument)){_context28.next=39;break;}this.documentStates.unTrack(PullState.document,textDocument);return _context28.abrupt("return");case 39:if(!(afterState.state===RequestStateKind.outDated)){_context28.next=41;break;}return _context28.abrupt("return");case 41:if(report!==void 0){if(report.kind===vsdiag.DocumentDiagnosticReportKind.full){this.diagnostics.set(textDocument.uri,report.items);}documentState.pulledVersion=version2;documentState.resultId=report.resultId;}if(afterState.state===RequestStateKind.reschedule){this.pull(textDocument);}_context28.next=46;break;case 45:if(currentRequestState.state===RequestStateKind.active){currentRequestState.tokenSource.cancel();this.openRequests.set(key,{state:RequestStateKind.reschedule,textDocument:currentRequestState.textDocument});}else if(currentRequestState.state===RequestStateKind.outDated){this.openRequests.set(key,{state:RequestStateKind.reschedule,textDocument:currentRequestState.textDocument});}case 46:case"end":return _context28.stop();}}},_callee28,this,[[7,22]]);}));function pullAsync(_x32){return _pullAsync.apply(this,arguments);}return pullAsync;}()},{key:"cleanupPull",value:function cleanupPull(textDocument){var key=textDocument.uri.toString();var request=this.openRequests.get(key);if(this.options.workspaceDiagnostics||this.options.interFileDependencies){if(request!==void 0){this.openRequests.set(key,{state:RequestStateKind.reschedule,textDocument:textDocument});}else{this.pull(textDocument);}}else{if(request!==void 0){if(request.state===RequestStateKind.active){request.tokenSource.cancel();}this.openRequests.set(key,{state:RequestStateKind.outDated,textDocument:textDocument});}this.diagnostics.delete(textDocument.uri);}}},{key:"pullWorkspace",value:function pullWorkspace(){var _this113=this;this.pullWorkspaceAsync().then(function(){_this113.workspaceTimeout=(0,vscode_languageserver_protocol_1.RAL)().timer.setTimeout(function(){_this113.pullWorkspace();},2e3);},function(error){if(!(error instanceof client_1.LSPCancellationError)&&!vscode_languageserver_protocol_1.Proposed.DiagnosticServerCancellationData.is(error.data)){_this113.client.error("Workspace diagnostic pull failed.",error,false);_this113.workspaceErrorCounter++;}if(_this113.workspaceErrorCounter<=5){_this113.workspaceTimeout=(0,vscode_languageserver_protocol_1.RAL)().timer.setTimeout(function(){_this113.pullWorkspace();},2e3);}});}},{key:"pullWorkspaceAsync",value:function(){var _pullWorkspaceAsync=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee29(){var _this114=this;var previousResultIds;return regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:if(this.provider.provideWorkspaceDiagnostics){_context29.next=2;break;}return _context29.abrupt("return");case 2:if(this.workspaceCancellation!==void 0){this.workspaceCancellation.cancel();this.workspaceCancellation=void 0;}this.workspaceCancellation=new vscode_1.CancellationTokenSource();previousResultIds=this.documentStates.getAllResultIds().map(function(item){return{uri:_this114.client.protocol2CodeConverter.asUri(item.uri),value:item.value};});_context29.next=7;return this.provider.provideWorkspaceDiagnostics(previousResultIds,this.workspaceCancellation.token,function(chunk){if(!chunk||_this114.isDisposed){return;}var _iterator54=_createForOfIteratorHelper(chunk.items),_step51;try{for(_iterator54.s();!(_step51=_iterator54.n()).done;){var _item$version;var item=_step51.value;if(item.kind===vsdiag.DocumentDiagnosticReportKind.full){if(!_this114.documentStates.tracks(PullState.document,item.uri.toString())){_this114.diagnostics.set(item.uri,item.items);}}_this114.documentStates.update(PullState.workspace,item.uri.toString(),(_item$version=item.version)!==null&&_item$version!==void 0?_item$version:void 0,item.resultId);}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}});case 7:case"end":return _context29.stop();}}},_callee29,this);}));function pullWorkspaceAsync(){return _pullWorkspaceAsync.apply(this,arguments);}return pullWorkspaceAsync;}()},{key:"createProvider",value:function createProvider(){var _this115=this;var result={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:function provideDiagnostics(textDocument,previousResultId,token){var provideDiagnostics=function provideDiagnostics(textDocument2,previousResultId2,token2){var params={identifier:_this115.options.identifier,textDocument:{uri:_this115.client.code2ProtocolConverter.asUri(textDocument2.uri)},previousResultId:previousResultId2};return _this115.client.sendRequest(vscode_languageserver_protocol_1.Proposed.DocumentDiagnosticRequest.type,params,token2).then(function(result2){if(result2===void 0||result2===null||_this115.isDisposed){return{kind:vsdiag.DocumentDiagnosticReportKind.full,items:[]};}if(result2.kind===vscode_languageserver_protocol_1.Proposed.DocumentDiagnosticReportKind.full){return{kind:vsdiag.DocumentDiagnosticReportKind.full,resultId:result2.resultId,items:_this115.client.protocol2CodeConverter.asDiagnostics(result2.items)};}else{return{kind:vsdiag.DocumentDiagnosticReportKind.unChanged,resultId:result2.resultId};}},function(error){return _this115.client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.DocumentDiagnosticRequest.type,token2,error,{kind:vsdiag.DocumentDiagnosticReportKind.full,items:[]});});};var middleware=_this115.client.clientOptions.middleware;return middleware.provideDiagnostics?middleware.provideDiagnostics(textDocument,previousResultId,token,provideDiagnostics):provideDiagnostics(textDocument,previousResultId,token);}};if(this.options.workspaceDiagnostics){result.provideWorkspaceDiagnostics=function(resultIds,token,resultReporter){var convertReport=function convertReport(report){if(report.kind===vscode_languageserver_protocol_1.Proposed.DocumentDiagnosticReportKind.full){return{kind:vsdiag.DocumentDiagnosticReportKind.full,uri:_this115.client.protocol2CodeConverter.asUri(report.uri),resultId:report.resultId,version:report.version,items:_this115.client.protocol2CodeConverter.asDiagnostics(report.items)};}else{return{kind:vsdiag.DocumentDiagnosticReportKind.unChanged,uri:_this115.client.protocol2CodeConverter.asUri(report.uri),resultId:report.resultId,version:report.version};}};var convertPreviousResultIds=function convertPreviousResultIds(resultIds2){var converted=[];var _iterator55=_createForOfIteratorHelper(resultIds2),_step52;try{for(_iterator55.s();!(_step52=_iterator55.n()).done;){var item=_step52.value;converted.push({uri:_this115.client.code2ProtocolConverter.asUri(item.uri),value:item.value});}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}return converted;};var provideDiagnostics=function provideDiagnostics(resultIds2,token2){var partialResultToken=(0,uuid_1.generateUuid)();var disposable=_this115.client.onProgress(vscode_languageserver_protocol_1.Proposed.WorkspaceDiagnosticRequest.partialResult,partialResultToken,function(partialResult){if(partialResult===void 0||partialResult===null){resultReporter(null);return;}var converted={items:[]};var _iterator56=_createForOfIteratorHelper(partialResult.items),_step53;try{for(_iterator56.s();!(_step53=_iterator56.n()).done;){var item=_step53.value;converted.items.push(convertReport(item));}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}resultReporter(converted);});var params={identifier:_this115.options.identifier,previousResultIds:convertPreviousResultIds(resultIds2),partialResultToken:partialResultToken};return _this115.client.sendRequest(vscode_languageserver_protocol_1.Proposed.WorkspaceDiagnosticRequest.type,params,token2).then(function(result2){var converted={items:[]};var _iterator57=_createForOfIteratorHelper(result2.items),_step54;try{for(_iterator57.s();!(_step54=_iterator57.n()).done;){var item=_step54.value;converted.items.push(convertReport(item));}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}disposable.dispose();resultReporter(converted);return{items:[]};},function(error){disposable.dispose();return _this115.client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.DocumentDiagnosticRequest.type,token2,error,{items:[]});});};var middleware=_this115.client.clientOptions.middleware;return middleware.provideWorkspaceDiagnostics?middleware.provideWorkspaceDiagnostics(resultIds,token,resultReporter,provideDiagnostics):provideDiagnostics(resultIds,token,resultReporter);};}return result;}},{key:"dispose",value:function dispose(){var _this$workspaceCancel,_this$workspaceTimeou;this.isDisposed=true;(_this$workspaceCancel=this.workspaceCancellation)===null||_this$workspaceCancel===void 0?void 0:_this$workspaceCancel.cancel();(_this$workspaceTimeou=this.workspaceTimeout)===null||_this$workspaceTimeou===void 0?void 0:_this$workspaceTimeou.dispose();var _iterator58=_createForOfIteratorHelper(this.openRequests),_step55;try{for(_iterator58.s();!(_step55=_iterator58.n()).done;){var _step55$value=_slicedToArray(_step55.value,2),key=_step55$value[0],request=_step55$value[1];if(request.state===RequestStateKind.active){request.tokenSource.cancel();}this.openRequests.set(key,{state:RequestStateKind.outDated,textDocument:request.textDocument});}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}}}]);return DiagnosticRequestor;}();var BackgroundScheduler=/*#__PURE__*/function(){function BackgroundScheduler(diagnosticRequestor){_classCallCheck(this,BackgroundScheduler);this.diagnosticRequestor=diagnosticRequestor;this.documents=new vscode_languageserver_protocol_1.LinkedMap();}_createClass(BackgroundScheduler,[{key:"add",value:function add(textDocument){var key=textDocument.uri.toString();if(this.documents.has(key)){return;}this.documents.set(textDocument.uri.toString(),textDocument,vscode_languageserver_protocol_1.Touch.Last);this.trigger();}},{key:"remove",value:function remove(textDocument){var key=textDocument.uri.toString();if(this.documents.has(key)){this.documents.delete(key);this.diagnosticRequestor.pull(textDocument);}if(this.documents.size===0){this.stop();}else if(textDocument===this.endDocument){this.endDocument=this.documents.last;}}},{key:"trigger",value:function trigger(){var _this116=this;if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return;}this.endDocument=this.documents.last;this.intervalHandle=(0,vscode_languageserver_protocol_1.RAL)().timer.setInterval(function(){var document2=_this116.documents.first;if(document2!==void 0){_this116.diagnosticRequestor.pull(document2);_this116.documents.set(document2.uri.toString(),document2,vscode_languageserver_protocol_1.Touch.Last);if(document2===_this116.endDocument){_this116.stop();}}},200);}},{key:"dispose",value:function dispose(){this.stop();this.documents.clear();}},{key:"stop",value:function stop(){var _this$intervalHandle;(_this$intervalHandle=this.intervalHandle)===null||_this$intervalHandle===void 0?void 0:_this$intervalHandle.dispose();this.intervalHandle=void 0;this.endDocument=void 0;}}]);return BackgroundScheduler;}();var DiagnosticFeatureProviderImpl=/*#__PURE__*/function(){function DiagnosticFeatureProviderImpl(client,editorTracker,options){var _client$clientOptions,_this117=this,_vscode_1$window$acti2,_vscode_1$Disposable;_classCallCheck(this,DiagnosticFeatureProviderImpl);var diagnosticPullOptions=(_client$clientOptions=client.clientOptions.diagnosticPullOptions)!==null&&_client$clientOptions!==void 0?_client$clientOptions:{onChange:true,onSave:false};var documentSelector=options.documentSelector;var disposables=[];var matches=function matches(textDocument){return vscode_1.languages.match(documentSelector,textDocument)>0&&editorTracker.isVisible(textDocument);};this.diagnosticRequestor=new DiagnosticRequestor(client,editorTracker,options);this.backgroundScheduler=new BackgroundScheduler(this.diagnosticRequestor);var addToBackgroundIfNeeded=function addToBackgroundIfNeeded(textDocument){if(!matches(textDocument)||!options.interFileDependencies||_this117.activeTextDocument===textDocument){return;}_this117.backgroundScheduler.add(textDocument);};this.activeTextDocument=(_vscode_1$window$acti2=vscode_1.window.activeTextEditor)===null||_vscode_1$window$acti2===void 0?void 0:_vscode_1$window$acti2.document;vscode_1.window.onDidChangeActiveTextEditor(function(editor){var oldActive=_this117.activeTextDocument;_this117.activeTextDocument=editor===null||editor===void 0?void 0:editor.document;if(oldActive!==void 0){addToBackgroundIfNeeded(oldActive);}if(_this117.activeTextDocument!==void 0){_this117.backgroundScheduler.remove(_this117.activeTextDocument);}});var openFeature=client.getFeature(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.method);disposables.push(openFeature.onNotificationSent(function(event){var textDocument=event.original;if(matches(textDocument)){_this117.diagnosticRequestor.pull(textDocument,function(){addToBackgroundIfNeeded(textDocument);});}}));var _iterator59=_createForOfIteratorHelper(vscode_1.workspace.textDocuments),_step56;try{var _loop3=function _loop3(){var textDocument=_step56.value;if(matches(textDocument)){_this117.diagnosticRequestor.pull(textDocument,function(){addToBackgroundIfNeeded(textDocument);});}};for(_iterator59.s();!(_step56=_iterator59.n()).done;){_loop3();}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}if(diagnosticPullOptions.onChange){var changeFeature=client.getFeature(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.method);disposables.push(changeFeature.onNotificationSent(/*#__PURE__*/function(){var _ref24=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee30(event){var textDocument;return regeneratorRuntime.wrap(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:textDocument=event.original.document;if((diagnosticPullOptions.filter===void 0||!diagnosticPullOptions.filter(textDocument,client_1.DiagnosticPullMode.onType))&&_this117.diagnosticRequestor.knows(PullState.document,textDocument)&&event.original.contentChanges.length>0){_this117.diagnosticRequestor.pull(textDocument,function(){_this117.backgroundScheduler.trigger();});}case 2:case"end":return _context30.stop();}}},_callee30);}));return function(_x33){return _ref24.apply(this,arguments);};}()));}if(diagnosticPullOptions.onSave){var saveFeature=client.getFeature(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.method);disposables.push(saveFeature.onNotificationSent(function(event){var textDocument=event.original;if((diagnosticPullOptions.filter===void 0||!diagnosticPullOptions.filter(textDocument,client_1.DiagnosticPullMode.onSave))&&_this117.diagnosticRequestor.knows(PullState.document,textDocument)){_this117.diagnosticRequestor.pull(event.original,function(){_this117.backgroundScheduler.trigger();});}}));}var closeFeature=client.getFeature(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.method);disposables.push(closeFeature.onNotificationSent(function(event){var textDocument=event.original;_this117.diagnosticRequestor.cleanupPull(textDocument);_this117.backgroundScheduler.remove(textDocument);}));this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(function(){var _iterator60=_createForOfIteratorHelper(vscode_1.workspace.textDocuments),_step57;try{for(_iterator60.s();!(_step57=_iterator60.n()).done;){var textDocument=_step57.value;if(matches(textDocument)){_this117.diagnosticRequestor.pull(textDocument);}}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}});if(options.workspaceDiagnostics===true&&options.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"){this.diagnosticRequestor.pullWorkspace();}this.disposable=(_vscode_1$Disposable=vscode_1.Disposable).from.apply(_vscode_1$Disposable,disposables.concat([this.backgroundScheduler,this.diagnosticRequestor]));}_createClass(DiagnosticFeatureProviderImpl,[{key:"onDidChangeDiagnosticsEmitter",get:function get(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter;}},{key:"diagnostics",get:function get(){return this.diagnosticRequestor.provider;}}]);return DiagnosticFeatureProviderImpl;}();var DiagnosticFeature=/*#__PURE__*/function(_client_1$TextDocumen10){_inherits(DiagnosticFeature,_client_1$TextDocumen10);var _super83=_createSuper(DiagnosticFeature);function DiagnosticFeature(client){var _this118;_classCallCheck(this,DiagnosticFeature);_this118=_super83.call(this,client,vscode_languageserver_protocol_1.Proposed.DocumentDiagnosticRequest.type);_this118.editorTracker=new EditorTracker();return _this118;}_createClass(DiagnosticFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){var capability=ensure(ensure(capabilities,"textDocument"),"diagnostic");capability.dynamicRegistration=true;capability.relatedDocumentSupport=false;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this119=this;var client=this._client;client.onRequest(vscode_languageserver_protocol_1.Proposed.DiagnosticRefreshRequest.type,/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee31(){var _iterator61,_step58,provider;return regeneratorRuntime.wrap(function _callee31$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:_iterator61=_createForOfIteratorHelper(_this119.getAllProviders());try{for(_iterator61.s();!(_step58=_iterator61.n()).done;){provider=_step58.value;provider.onDidChangeDiagnosticsEmitter.fire();}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}case 2:case"end":return _context31.stop();}}},_callee31);})));var _this$getRegistration19=this.getRegistration(documentSelector,capabilities.diagnosticProvider),_this$getRegistration20=_slicedToArray(_this$getRegistration19,2),id=_this$getRegistration20[0],options=_this$getRegistration20[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"dispose",value:function dispose(){this.editorTracker.dispose();_get(_getPrototypeOf(DiagnosticFeature.prototype),"dispose",this).call(this);}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var provider=new DiagnosticFeatureProviderImpl(this._client,this.editorTracker,options);return[provider.disposable,provider];}}]);return DiagnosticFeature;}(client_1.TextDocumentFeature);exports.DiagnosticFeature=DiagnosticFeature;}});// client/node_modules/vscode-languageclient/lib/common/proposed.typeHierarchy.js
var require_proposed_typeHierarchy2=__commonJS({"client/node_modules/vscode-languageclient/lib/common/proposed.typeHierarchy.js":function clientNode_modulesVscodeLanguageclientLibCommonProposedTypeHierarchyJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeHierarchyFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]={};}return target[key];}var TypeHierarchyProvider=/*#__PURE__*/function(){function TypeHierarchyProvider(client){_classCallCheck(this,TypeHierarchyProvider);this.client=client;this.middleware=client.clientOptions.middleware;}_createClass(TypeHierarchyProvider,[{key:"prepareTypeHierarchy",value:function prepareTypeHierarchy(document2,position,token){var client=this.client;var middleware=this.middleware;var prepareTypeHierarchy=function prepareTypeHierarchy(document3,position2,token2){var params=client.code2ProtocolConverter.asTextDocumentPositionParams(document3,position2);return client.sendRequest(vscode_languageserver_protocol_1.Proposed.TypeHierarchyPrepareRequest.type,params,token2).then(function(result){return client.protocol2CodeConverter.asTypeHierarchyItems(result);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.TypeHierarchyPrepareRequest.type,token2,error,null);});};return middleware.prepareTypeHierarchy?middleware.prepareTypeHierarchy(document2,position,token,prepareTypeHierarchy):prepareTypeHierarchy(document2,position,token);}},{key:"provideTypeHierarchySupertypes",value:function provideTypeHierarchySupertypes(item,token){var client=this.client;var middleware=this.middleware;var provideTypeHierarchySupertypes=function provideTypeHierarchySupertypes(item2,token2){var params={item:client.code2ProtocolConverter.asTypeHierarchyItem(item2)};return client.sendRequest(vscode_languageserver_protocol_1.Proposed.TypeHierarchySupertypesRequest.type,params,token2).then(function(result){return client.protocol2CodeConverter.asTypeHierarchyItems(result);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.TypeHierarchySupertypesRequest.type,token2,error,null);});};return middleware.provideTypeHierarchySupertypes?middleware.provideTypeHierarchySupertypes(item,token,provideTypeHierarchySupertypes):provideTypeHierarchySupertypes(item,token);}},{key:"provideTypeHierarchySubtypes",value:function provideTypeHierarchySubtypes(item,token){var client=this.client;var middleware=this.middleware;var provideTypeHierarchySubtypes=function provideTypeHierarchySubtypes(item2,token2){var params={item:client.code2ProtocolConverter.asTypeHierarchyItem(item2)};return client.sendRequest(vscode_languageserver_protocol_1.Proposed.TypeHierarchySubtypesRequest.type,params,token2).then(function(result){return client.protocol2CodeConverter.asTypeHierarchyItems(result);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.TypeHierarchySubtypesRequest.type,token2,error,null);});};return middleware.provideTypeHierarchySubtypes?middleware.provideTypeHierarchySubtypes(item,token,provideTypeHierarchySubtypes):provideTypeHierarchySubtypes(item,token);}}]);return TypeHierarchyProvider;}();var TypeHierarchyFeature=/*#__PURE__*/function(_client_1$TextDocumen11){_inherits(TypeHierarchyFeature,_client_1$TextDocumen11);var _super84=_createSuper(TypeHierarchyFeature);function TypeHierarchyFeature(client){_classCallCheck(this,TypeHierarchyFeature);return _super84.call(this,client,vscode_languageserver_protocol_1.Proposed.TypeHierarchyPrepareRequest.type);}_createClass(TypeHierarchyFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(cap){var capabilities=cap;var capability=ensure(ensure(capabilities,"textDocument"),"typeHierarchy");capability.dynamicRegistration=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this$getRegistration21=this.getRegistration(documentSelector,capabilities.typeHierarchyProvider),_this$getRegistration22=_slicedToArray(_this$getRegistration21,2),id=_this$getRegistration22[0],options=_this$getRegistration22[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var client=this._client;var provider=new TypeHierarchyProvider(client);return[vscode_1.languages.registerTypeHierarchyProvider(options.documentSelector,provider),provider];}}]);return TypeHierarchyFeature;}(client_1.TextDocumentFeature);exports.TypeHierarchyFeature=TypeHierarchyFeature;}});// client/node_modules/vscode-languageclient/lib/common/proposed.inlineValues.js
var require_proposed_inlineValues=__commonJS({"client/node_modules/vscode-languageclient/lib/common/proposed.inlineValues.js":function clientNode_modulesVscodeLanguageclientLibCommonProposedInlineValuesJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InlineValueFeature=void 0;var vscode_1=require("vscode");var vscode_languageserver_protocol_1=require_main3();var client_1=require_client();function ensure(target,key){if(target[key]===void 0){target[key]=Object.create(null);}return target[key];}var InlineValueFeature=/*#__PURE__*/function(_client_1$TextDocumen12){_inherits(InlineValueFeature,_client_1$TextDocumen12);var _super85=_createSuper(InlineValueFeature);function InlineValueFeature(client){_classCallCheck(this,InlineValueFeature);return _super85.call(this,client,vscode_languageserver_protocol_1.Proposed.InlineValuesRequest.type);}_createClass(InlineValueFeature,[{key:"fillClientCapabilities",value:function fillClientCapabilities(capabilities){ensure(ensure(capabilities,"textDocument"),"inlineValues").dynamicRegistration=true;ensure(ensure(capabilities,"workspace"),"codeLens").refreshSupport=true;}},{key:"initialize",value:function initialize(capabilities,documentSelector){var _this120=this;this._client.onRequest(vscode_languageserver_protocol_1.Proposed.InlineValuesRefreshRequest.type,/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee32(){var _iterator62,_step59,provider;return regeneratorRuntime.wrap(function _callee32$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:_iterator62=_createForOfIteratorHelper(_this120.getAllProviders());try{for(_iterator62.s();!(_step59=_iterator62.n()).done;){provider=_step59.value;provider.onDidChangeInlineValues.fire();}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}case 2:case"end":return _context32.stop();}}},_callee32);})));var _this$getRegistration23=this.getRegistration(documentSelector,capabilities.inlineValuesProvider),_this$getRegistration24=_slicedToArray(_this$getRegistration23,2),id=_this$getRegistration24[0],options=_this$getRegistration24[1];if(!id||!options){return;}this.register({id:id,registerOptions:options});}},{key:"registerLanguageProvider",value:function registerLanguageProvider(options){var _this121=this;var eventEmitter=new vscode_1.EventEmitter();var provider={onDidChangeInlineValues:eventEmitter.event,provideInlineValues:function provideInlineValues(document2,viewPort,context,token){var client=_this121._client;var provideInlineValues=function provideInlineValues(document3,viewPort2,context2,token2){var requestParams={textDocument:client.code2ProtocolConverter.asTextDocumentIdentifier(document3),viewPort:client.code2ProtocolConverter.asRange(viewPort2),context:client.code2ProtocolConverter.asInlineValuesContext(context2)};return client.sendRequest(vscode_languageserver_protocol_1.Proposed.InlineValuesRequest.type,requestParams,token2).then(function(values){return client.protocol2CodeConverter.asInlineValues(values);},function(error){return client.handleFailedRequest(vscode_languageserver_protocol_1.Proposed.InlineValuesRequest.type,token2,error,null);});};var middleware=client.clientOptions.middleware;return middleware.provideInlineValues?middleware.provideInlineValues(document2,viewPort,context,token,provideInlineValues):provideInlineValues(document2,viewPort,context,token);}};return[vscode_1.languages.registerInlineValuesProvider(options.documentSelector,provider),{provider:provider,onDidChangeInlineValues:eventEmitter}];}}]);return InlineValueFeature;}(client_1.TextDocumentFeature);exports.InlineValueFeature=InlineValueFeature;}});// client/node_modules/vscode-languageclient/lib/common/commonClient.js
var require_commonClient=__commonJS({"client/node_modules/vscode-languageclient/lib/common/commonClient.js":function clientNode_modulesVscodeLanguageclientLibCommonCommonClientJs(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ProposedFeatures=exports.CommonLanguageClient=void 0;var client_1=require_client();var colorProvider_1=require_colorProvider();var configuration_1=require_configuration();var implementation_1=require_implementation();var typeDefinition_1=require_typeDefinition();var workspaceFolders_1=require_workspaceFolders();var foldingRange_1=require_foldingRange();var declaration_1=require_declaration();var selectionRange_1=require_selectionRange();var progress_1=require_progress();var callHierarchy_1=require_callHierarchy();var semanticTokens_1=require_semanticTokens();var fileOperations_1=require_fileOperations();var linkedEditingRange_1=require_linkedEditingRange();var CommonLanguageClient=/*#__PURE__*/function(_client_1$BaseLanguag){_inherits(CommonLanguageClient,_client_1$BaseLanguag);var _super86=_createSuper(CommonLanguageClient);function CommonLanguageClient(id,name,clientOptions){_classCallCheck(this,CommonLanguageClient);return _super86.call(this,id,name,clientOptions);}_createClass(CommonLanguageClient,[{key:"registerProposedFeatures",value:function registerProposedFeatures(){this.registerFeatures(ProposedFeatures.createAll(this));}},{key:"registerBuiltinFeatures",value:function registerBuiltinFeatures(){_get(_getPrototypeOf(CommonLanguageClient.prototype),"registerBuiltinFeatures",this).call(this);this.registerFeature(new configuration_1.ConfigurationFeature(this));this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));this.registerFeature(new implementation_1.ImplementationFeature(this));this.registerFeature(new colorProvider_1.ColorProviderFeature(this));if(this.clientOptions.workspaceFolder===void 0){this.registerFeature(new workspaceFolders_1.WorkspaceFoldersFeature(this));}this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));this.registerFeature(new declaration_1.DeclarationFeature(this));this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));this.registerFeature(new progress_1.ProgressFeature(this));this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));}}]);return CommonLanguageClient;}(client_1.BaseLanguageClient);exports.CommonLanguageClient=CommonLanguageClient;var pd=require_proposed_diagnostic2();var pt=require_proposed_typeHierarchy2();var iv=require_proposed_inlineValues();var ProposedFeatures;(function(ProposedFeatures2){function createAll(_client){var result=[new pd.DiagnosticFeature(_client),new pt.TypeHierarchyFeature(_client),new iv.InlineValueFeature(_client)];return result;}ProposedFeatures2.createAll=createAll;})(ProposedFeatures=exports.ProposedFeatures||(exports.ProposedFeatures={}));}});// client/node_modules/vscode-languageclient/lib/common/api.js
var require_api3=__commonJS({"client/node_modules/vscode-languageclient/lib/common/api.js":function clientNode_modulesVscodeLanguageclientLibCommonApiJs(exports){"use strict";var __createBinding2=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k];}});}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k];});var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m){if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding2(exports2,m,p);}};Object.defineProperty(exports,"__esModule",{value:true});__exportStar(require_main3(),exports);__exportStar(require_client(),exports);__exportStar(require_commonClient(),exports);}});// client/node_modules/vscode-languageserver-protocol/browser.js
var require_browser2=__commonJS({"client/node_modules/vscode-languageserver-protocol/browser.js":function clientNode_modulesVscodeLanguageserverProtocolBrowserJs(exports,module2){"use strict";module2.exports=require_main3();}});// client/node_modules/vscode-languageclient/lib/browser/main.js
var require_main4=__commonJS({"client/node_modules/vscode-languageclient/lib/browser/main.js":function clientNode_modulesVscodeLanguageclientLibBrowserMainJs(exports){"use strict";var __createBinding2=exports&&exports.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k];}});}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k];});var __exportStar=exports&&exports.__exportStar||function(m,exports2){for(var p in m){if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports2,p))__createBinding2(exports2,m,p);}};Object.defineProperty(exports,"__esModule",{value:true});exports.LanguageClient=void 0;var api_1=require_api3();var browser_1=require_browser2();__exportStar(require_browser2(),exports);__exportStar(require_api3(),exports);var LanguageClient2=/*#__PURE__*/function(_api_1$CommonLanguage){_inherits(LanguageClient2,_api_1$CommonLanguage);var _super87=_createSuper(LanguageClient2);function LanguageClient2(id,name,clientOptions,worker){var _this122;_classCallCheck(this,LanguageClient2);_this122=_super87.call(this,id,name,clientOptions);_this122.worker=worker;return _this122;}_createClass(LanguageClient2,[{key:"createMessageTransports",value:function createMessageTransports(_encoding){var reader=new browser_1.BrowserMessageReader(this.worker);var writer=new browser_1.BrowserMessageWriter(this.worker);return Promise.resolve({reader:reader,writer:writer});}},{key:"getLocale",value:function getLocale(){return"en";}}]);return LanguageClient2;}(api_1.CommonLanguageClient);exports.LanguageClient=LanguageClient2;}});// client/node_modules/vscode-languageclient/browser.js
var require_browser3=__commonJS({"client/node_modules/vscode-languageclient/browser.js":function clientNode_modulesVscodeLanguageclientBrowserJs(exports,module2){"use strict";module2.exports=require_main4();}});// client/node_modules/@microsoft/applicationinsights-shims/dist-esm/Constants.js
var strShimFunction,strShimObject,strShimUndefined,strShimPrototype,strShimHasOwnProperty,ObjClass,ObjProto,ObjAssign,ObjCreate,ObjDefineProperty,ObjHasOwnProperty;var init_Constants=__esm({"client/node_modules/@microsoft/applicationinsights-shims/dist-esm/Constants.js":function clientNode_modulesMicrosoftApplicationinsightsShimsDistEsmConstantsJs(){strShimFunction="function";strShimObject="object";strShimUndefined="undefined";strShimPrototype="prototype";strShimHasOwnProperty="hasOwnProperty";ObjClass=Object;ObjProto=ObjClass[strShimPrototype];ObjAssign=ObjClass["assign"];ObjCreate=ObjClass["create"];ObjDefineProperty=ObjClass["defineProperty"];ObjHasOwnProperty=ObjProto[strShimHasOwnProperty];}});// client/node_modules/@microsoft/applicationinsights-shims/dist-esm/Helpers.js
function _getGlobal(useCached){if(useCached===void 0){useCached=true;}if(!_cachedGlobal||!useCached){if((typeof globalThis==="undefined"?"undefined":_typeof(globalThis))!==strShimUndefined&&globalThis){_cachedGlobal=globalThis;}if((typeof self==="undefined"?"undefined":_typeof(self))!==strShimUndefined&&self){_cachedGlobal=self;}if((typeof window==="undefined"?"undefined":_typeof(window))!==strShimUndefined&&window){_cachedGlobal=window;}if((typeof global==="undefined"?"undefined":_typeof(global))!==strShimUndefined&&global){_cachedGlobal=global;}}return _cachedGlobal;}function throwTypeError(message){throw new TypeError(message);}function objCreateFn(obj){var func=ObjCreate;if(func){return func(obj);}if(obj==null){return{};}var type=_typeof(obj);if(type!==strShimObject&&type!==strShimFunction){throwTypeError("Object prototype may only be an Object:"+obj);}function tmpFunc(){}tmpFunc[strShimPrototype]=obj;return new tmpFunc();}var _cachedGlobal;var init_Helpers=__esm({"client/node_modules/@microsoft/applicationinsights-shims/dist-esm/Helpers.js":function clientNode_modulesMicrosoftApplicationinsightsShimsDistEsmHelpersJs(){init_Constants();_cachedGlobal=null;}});// client/node_modules/@microsoft/applicationinsights-shims/dist-esm/TsLibShims.js
function __extendsFn(d,b){if(_typeof(b)!==strShimFunction&&b!==null){throwTypeError("Class extends value "+String(b)+" is not a constructor or null");}_extendStaticsFn(d,b);function __(){this.constructor=d;}d[strShimPrototype]=b===null?objCreateFn(b):(__[strShimPrototype]=b[strShimPrototype],new __());}function __spreadArrayFn(to2,from){for(var i=0,il2=from.length,j=to2.length;i<il2;i++,j++){to2[j]=from[i];}return to2;}var SymbolObj,ReflectObj,__objAssignFnImpl,__assignFn,_extendStaticsFn;var init_TsLibShims=__esm({"client/node_modules/@microsoft/applicationinsights-shims/dist-esm/TsLibShims.js":function clientNode_modulesMicrosoftApplicationinsightsShimsDistEsmTsLibShimsJs(){init_Constants();init_Helpers();SymbolObj=(_getGlobal()||{})["Symbol"];ReflectObj=(_getGlobal()||{})["Reflect"];__objAssignFnImpl=function __objAssignFnImpl(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s){if(ObjProto[strShimHasOwnProperty].call(s,p)){t[p]=s[p];}}}return t;};__assignFn=ObjAssign||__objAssignFnImpl;_extendStaticsFn=function extendStaticsFn(d,b){_extendStaticsFn=ObjClass["setPrototypeOf"]||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2;}||function(d2,b2){for(var p in b2){if(b2[strShimHasOwnProperty](p)){d2[p]=b2[p];}}};return _extendStaticsFn(d,b);};}});// client/node_modules/@microsoft/applicationinsights-shims/dist-esm/TsLibGlobals.js
var init_TsLibGlobals=__esm({"client/node_modules/@microsoft/applicationinsights-shims/dist-esm/TsLibGlobals.js":function clientNode_modulesMicrosoftApplicationinsightsShimsDistEsmTsLibGlobalsJs(){}});// client/node_modules/@microsoft/applicationinsights-shims/dist-esm/applicationinsights-shims.js
var init_applicationinsights_shims=__esm({"client/node_modules/@microsoft/applicationinsights-shims/dist-esm/applicationinsights-shims.js":function clientNode_modulesMicrosoftApplicationinsightsShimsDistEsmApplicationinsightsShimsJs(){init_Constants();init_Helpers();init_TsLibShims();init_TsLibGlobals();}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Interfaces/IChannelControls.js
var _MinChannelPriorty;var init_IChannelControls=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Interfaces/IChannelControls.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKInterfacesIChannelControlsJs(){"use strict";_MinChannelPriorty=100;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/InternalConstants.js
var strEmpty,strProcessTelemetry,strPriority,strSetNextPlugin,strIsInitialized,strTeardown,strCore,strUpdate,strDisabled,strDoTeardown,strProcessNext,strResume,strPause,strNotificationListener,strAddNotificationListener,strRemoveNotificationListener,strEventsSent,strEventsDiscarded,strEventsSendRequest,strPerfEvent;var init_InternalConstants=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/InternalConstants.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKInternalConstantsJs(){strEmpty="";strProcessTelemetry="processTelemetry";strPriority="priority";strSetNextPlugin="setNextPlugin";strIsInitialized="isInitialized";strTeardown="teardown";strCore="core";strUpdate="update";strDisabled="disabled";strDoTeardown="_doTeardown";strProcessNext="processNext";strResume="resume";strPause="pause";strNotificationListener="NotificationListener";strAddNotificationListener="add"+strNotificationListener;strRemoveNotificationListener="remove"+strNotificationListener;strEventsSent="eventsSent";strEventsDiscarded="eventsDiscarded";strEventsSendRequest="eventsSendRequest";strPerfEvent="perfEvent";}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/HelperFuncs.js
function _getObjProto(target){if(target){if(_objGetPrototypeOf){return _objGetPrototypeOf(target);}var newProto=target[str__Proto]||target[strShimPrototype]||target[strConstructor];if(newProto){return newProto;}}return null;}function _isTypeof(value,theType){return _typeof(value)===theType;}function _isUndefined(value){return value===void 0||_typeof(value)===strShimUndefined;}function _isNullOrUndefined(value){return value===null||_isUndefined(value);}function isNotNullOrUndefined(value){return!_isNullOrUndefined(value);}function _hasOwnProperty2(obj,prop){return!!(obj&&ObjHasOwnProperty.call(obj,prop));}function _isObject(value){return!!(value&&_typeof(value)===strShimObject);}function _isFunction2(value){return!!(value&&_typeof(value)===strShimFunction);}function _normalizeJsName(name){var value=name;if(value&&_isString(value)){value=value.replace(rCamelCase,function(_all,letter){return letter.toUpperCase();});value=value.replace(rNormalizeInvalid,"_");value=value.replace(rLeadingNumeric,function(_all,match){return"_"+match;});}return value;}function _objForEachKey(target,callbackfn){if(target){for(var prop in target){if(ObjHasOwnProperty.call(target,prop)){callbackfn.call(target,prop,target[prop]);}}}}function _strEndsWith2(value,search){var result=false;if(value&&search&&!(result=value===search)){result=_strEndsWith?value[cStrEndsWith](search):_strEndsWithPoly(value,search);}return result;}function _strEndsWithPoly(value,search){var result=false;var searchLen=search?search.length:0;var valLen=value?value.length:0;if(searchLen&&valLen&&valLen>=searchLen&&!(result=value===search)){var pos=valLen-1;for(var lp=searchLen-1;lp>=0;lp--){if(value[pos]!=search[lp]){return false;}pos--;}result=true;}return result;}function _strStartsWith2(value,checkValue){var result=false;if(value&&checkValue&&!(result=value===checkValue)){result=_strStartsWith?value[cStrStartsWith](checkValue):_strStartsWithPoly(value,checkValue);}return result;}function _strStartsWithPoly(value,checkValue){var result=false;var chkLen=checkValue?checkValue.length:0;if(value&&chkLen&&value.length>=chkLen&&!(result=value===checkValue)){for(var lp=0;lp<chkLen;lp++){if(value[lp]!==checkValue[lp]){return false;}}result=true;}return result;}function _strContains(value,search){if(value&&search){return value.indexOf(search)!==-1;}return false;}function _isDate(obj){return!!(obj&&_objToString.call(obj)==="[object Date]");}function _isArrayPoly(obj){return!!(obj&&_objToString.call(obj)==="[object Array]");}function _isError(obj){return!!(obj&&_objToString.call(obj)==="[object Error]");}function _isString(value){return typeof value==="string";}function _isNumber(value){return typeof value==="number";}function _isBoolean(value){return typeof value==="boolean";}function isPlainObject(value){var result=false;if(value&&_typeof(value)==="object"){var proto=_objGetPrototypeOf?_objGetPrototypeOf(value):_getObjProto(value);if(!proto){result=true;}else{if(proto[strConstructor]&&ObjHasOwnProperty.call(proto,strConstructor)){proto=proto[strConstructor];}result=_typeof(proto)===strShimFunction&&_fnToString.call(proto)===_objFunctionString;}}return result;}function _toISOString(date){if(date){return _dataToISOString?date[strToISOString]():_toISOStringPoly(date);}}function _toISOStringPoly(date){if(date&&date.getUTCFullYear){var pad=function pad(num){var r=String(num);if(r.length===1){r="0"+r;}return r;};return date.getUTCFullYear()+"-"+pad(date.getUTCMonth()+1)+"-"+pad(date.getUTCDate())+"T"+pad(date.getUTCHours())+":"+pad(date.getUTCMinutes())+":"+pad(date.getUTCSeconds())+"."+String((date.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z";}}function _arrForEach(arr,callbackfn,thisArg){var len=arr.length;try{for(var idx=0;idx<len;idx++){if(idx in arr){if(callbackfn.call(thisArg||arr,arr[idx],idx,arr)===-1){break;}}}}catch(e){}}function _arrIndexOf(arr,searchElement,fromIndex){if(arr){if(arr[strIndexOf]){return arr[strIndexOf](searchElement,fromIndex);}var len=arr.length;var from=fromIndex||0;try{for(var lp=Math.max(from>=0?from:len-Math.abs(from),0);lp<len;lp++){if(lp in arr&&arr[lp]===searchElement){return lp;}}}catch(e){}}return-1;}function _arrMap(arr,callbackfn,thisArg){var results;if(arr){if(arr[strMap]){return arr[strMap](callbackfn,thisArg);}var len=arr.length;var _this=thisArg||arr;results=new Array(len);try{for(var lp=0;lp<len;lp++){if(lp in arr){results[lp]=callbackfn.call(_this,arr[lp],arr);}}}catch(e){}}return results;}function _arrReduce(arr,callbackfn,initialValue){var value;if(arr){if(arr[strReduce]){return arr[strReduce](callbackfn,initialValue);}var len=arr.length;var lp=0;if(arguments.length>=3){value=arguments[2];}else{while(lp<len&&!(lp in arr)){lp++;}value=arr[lp++];}while(lp<len){if(lp in arr){value=callbackfn(value,arr[lp],lp,arr);}lp++;}}return value;}function _strTrim2(str){if(str){str=_strTrim&&str[cStrTrim]?str[cStrTrim]():str.replace?str.replace(/^\s+|\s+$/g,""):str;}return str;}function _objKeys2(obj){var objType=_typeof(obj);if(objType!==strShimFunction&&(objType!==strShimObject||obj===null)){throwTypeError("objKeys called on non-object");}if(!_objKeysHasDontEnumBug&&_objKeys){return _objKeys(obj);}var result=[];for(var prop in obj){if(obj&&ObjHasOwnProperty.call(obj,prop)){result.push(prop);}}if(_objKeysHasDontEnumBug){var dontEnumsLength=_objKeysDontEnums.length;for(var lp=0;lp<dontEnumsLength;lp++){if(obj&&ObjHasOwnProperty.call(obj,_objKeysDontEnums[lp])){result.push(_objKeysDontEnums[lp]);}}}return result;}function _objDefineAccessors(target,prop,getProp,setProp){if(_objDefineProperty){try{var descriptor={enumerable:true,configurable:true};if(getProp){descriptor.get=getProp;}if(setProp){descriptor.set=setProp;}_objDefineProperty(target,prop,descriptor);return true;}catch(e){}}return false;}function _doNothing(value){return value;}function deepFreeze(obj){if(_objFreeze){_objForEachKey(obj,function(name,value){if(_isArray2(value)||_isObject(value)){_objFreeze(value);}});}return _objFreeze2(obj);}function _dateNow(){var dt=Date;return dt.now?dt.now():new dt().getTime();}function _getExceptionName(object){if(_isError(object)){return object.name;}return strEmpty;}function _setValue(target,field,value,valChk,srcChk){var theValue=value;if(target){theValue=target[field];if(theValue!==value&&(!srcChk||srcChk(theValue))&&(!valChk||valChk(value))){theValue=value;target[field]=theValue;}}return theValue;}function _getSetValue(target,field,defValue){var theValue;if(target){theValue=target[field];if(!theValue&&_isNullOrUndefined(theValue)){theValue=!_isUndefined(defValue)?defValue:{};target[field]=theValue;}}else{theValue=!_isUndefined(defValue)?defValue:{};}return theValue;}function _isNotTruthy(value){return!value;}function _isTruthy(value){return!!value;}function _throwError(message){throw new Error(message);}function _createProxyFunction(source,funcName){var srcFunc=null;var src=null;if(_isFunction2(source)){srcFunc=source;}else{src=source;}return function(){var originalArguments=arguments;if(srcFunc){src=srcFunc();}if(src){return src[funcName].apply(src,originalArguments);}};}function _proxyAssign(target,source,chkSet){if(target&&source&&_isObject(target)&&_isObject(source)){var _loop_1=function _loop_1(field2){if(_isString(field2)){var value=source[field2];if(_isFunction2(value)){if(!chkSet||chkSet(field2,true,source,target)){target[field2]=_createProxyFunction(source,field2);}}else if(!chkSet||chkSet(field2,false,source,target)){if(_hasOwnProperty2(target,field2)){delete target[field2];}if(!_objDefineAccessors(target,field2,function(){return source[field2];},function(theValue){source[field2]=theValue;})){target[field2]=value;}}}};for(var field in source){_loop_1(field);}}return target;}function _proxyFunctionAs(target,name,source,theFunc,overwriteTarget){if(target&&name&&source){if(overwriteTarget!==false||_isUndefined(target[name])){target[name]=_createProxyFunction(source,theFunc);}}}function _proxyFunctions(target,source,functionsToProxy,overwriteTarget){if(target&&source&&_isObject(target)&&_isArray2(functionsToProxy)){_arrForEach(functionsToProxy,function(theFuncName){if(_isString(theFuncName)){_proxyFunctionAs(target,theFuncName,source,theFuncName,overwriteTarget);}});}return target;}function _optimizeObject2(theObject){if(theObject&&ObjAssign){theObject=ObjClass(ObjAssign({},theObject));}return theObject;}function objExtend(obj1,obj2,obj3,obj4,obj5,obj6){var theArgs=arguments;var extended=theArgs[0]||{};var argLen=theArgs.length;var deep=false;var idx=1;if(argLen>0&&_isBoolean(extended)){deep=extended;extended=theArgs[idx]||{};idx++;}if(!_isObject(extended)){extended={};}for(;idx<argLen;idx++){var arg=theArgs[idx];var isArgArray=_isArray2(arg);var isArgObj=_isObject(arg);for(var prop in arg){var propOk=isArgArray&&prop in arg||isArgObj&&ObjHasOwnProperty.call(arg,prop);if(!propOk){continue;}var newValue=arg[prop];var isNewArray=void 0;if(deep&&newValue&&((isNewArray=_isArray2(newValue))||isPlainObject(newValue))){var clone=extended[prop];if(isNewArray){if(!_isArray2(clone)){clone=[];}}else if(!isPlainObject(clone)){clone={};}newValue=objExtend(deep,clone,newValue);}if(newValue!==void 0){extended[prop]=newValue;}}}return extended;}var strToISOString,cStrEndsWith,cStrStartsWith,strIndexOf,strMap,strReduce,cStrTrim,strToString,str__Proto,strConstructor,_objDefineProperty,_objFreeze,_objSeal,_objKeys,StringProto,_strTrim,_strEndsWith,_strStartsWith,DateProto,_dataToISOString,_isArray,_objToString,_fnToString,_objFunctionString,rCamelCase,rNormalizeInvalid,rLeadingNumeric,_objGetPrototypeOf,_isArray2,_objKeysHasDontEnumBug,_objKeysDontEnums,_objFreeze2,_objSeal2;var init_HelperFuncs=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/HelperFuncs.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKHelperFuncsJs(){init_applicationinsights_shims();init_InternalConstants();strToISOString="toISOString";cStrEndsWith="endsWith";cStrStartsWith="startsWith";strIndexOf="indexOf";strMap="map";strReduce="reduce";cStrTrim="trim";strToString="toString";str__Proto="__proto__";strConstructor="constructor";_objDefineProperty=ObjDefineProperty;_objFreeze=ObjClass.freeze;_objSeal=ObjClass.seal;_objKeys=ObjClass.keys;StringProto=String[strShimPrototype];_strTrim=StringProto[cStrTrim];_strEndsWith=StringProto[cStrEndsWith];_strStartsWith=StringProto[cStrStartsWith];DateProto=Date[strShimPrototype];_dataToISOString=DateProto[strToISOString];_isArray=Array.isArray;_objToString=ObjProto[strToString];_fnToString=ObjHasOwnProperty[strToString];_objFunctionString=_fnToString.call(ObjClass);rCamelCase=/-([a-z])/g;rNormalizeInvalid=/([^\w\d_$])/g;rLeadingNumeric=/^(\d+[\w\d_$])/;_objGetPrototypeOf=Object["getPrototypeOf"];_isArray2=_isArray||_isArrayPoly;_objKeysHasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString");_objKeysDontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];_objFreeze2=_objFreeze||_doNothing;_objSeal2=_objSeal||_doNothing;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EnumHelperFuncs.js
function _createEnumStyle(values){var enumClass={};_objForEachKey(values,function(field,value){enumClass[field]=value;enumClass[value]=field;});return deepFreeze(enumClass);}var init_EnumHelperFuncs=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EnumHelperFuncs.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKEnumsEnumHelperFuncsJs(){init_HelperFuncs();}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js
var _EventsDiscardedReason;var init_EventsDiscardedReason=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKEnumsEventsDiscardedReasonJs(){init_EnumHelperFuncs();_EventsDiscardedReason=_createEnumStyle({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5});}});// client/node_modules/@microsoft/dynamicproto-js/lib/dist/esm/dynamicproto-js.js
function _hasOwnProperty(obj,prop){return obj&&Obj[Prototype].hasOwnProperty.call(obj,prop);}function _isObjectOrArrayPrototype(target){return target&&(target===Obj[Prototype]||target===Array[Prototype]);}function _isObjectArrayOrFunctionPrototype(target){return _isObjectOrArrayPrototype(target)||target===Function[Prototype];}function _getObjProto2(target){var newProto;if(target){if(_objGetPrototypeOf2){return _objGetPrototypeOf2(target);}var curProto=target[str__Proto2]||target[Prototype]||(target[Constructor]?target[Constructor][Prototype]:null);newProto=target[DynProtoBaseProto]||curProto;if(!_hasOwnProperty(target,DynProtoBaseProto)){delete target[DynProtoCurrent];newProto=target[DynProtoBaseProto]=target[DynProtoCurrent]||target[DynProtoBaseProto];target[DynProtoCurrent]=curProto;}}return newProto;}function _forEachProp(target,func){var props=[];if(_objGetOwnProps){props=_objGetOwnProps(target);}else{for(var name_1 in target){if(typeof name_1==="string"&&_hasOwnProperty(target,name_1)){props.push(name_1);}}}if(props&&props.length>0){for(var lp=0;lp<props.length;lp++){func(props[lp]);}}}function _isDynamicCandidate(target,funcName,skipOwn){return funcName!==Constructor&&_typeof(target[funcName])===strFunction&&(skipOwn||_hasOwnProperty(target,funcName));}function _throwTypeError(message){throw new TypeError("DynamicProto: "+message);}function _getInstanceFuncs(thisTarget){var instFuncs={};_forEachProp(thisTarget,function(name){if(!instFuncs[name]&&_isDynamicCandidate(thisTarget,name,false)){instFuncs[name]=thisTarget[name];}});return instFuncs;}function _hasVisited(values,value){for(var lp=values.length-1;lp>=0;lp--){if(values[lp]===value){return true;}}return false;}function _getBaseFuncs(classProto,thisTarget,instFuncs,useBaseInst){function _instFuncProxy(target,funcHost,funcName){var theFunc=funcHost[funcName];if(theFunc[DynProxyTag]&&useBaseInst){var instFuncTable=target[DynInstFuncTable]||{};if(instFuncTable[DynAllowInstChkTag]!==false){theFunc=(instFuncTable[funcHost[DynClassName]]||{})[funcName]||theFunc;}}return function(){return theFunc.apply(target,arguments);};}var baseFuncs={};_forEachProp(instFuncs,function(name){baseFuncs[name]=_instFuncProxy(thisTarget,instFuncs,name);});var baseProto=_getObjProto2(classProto);var visited=[];while(baseProto&&!_isObjectArrayOrFunctionPrototype(baseProto)&&!_hasVisited(visited,baseProto)){_forEachProp(baseProto,function(name){if(!baseFuncs[name]&&_isDynamicCandidate(baseProto,name,!_objGetPrototypeOf2)){baseFuncs[name]=_instFuncProxy(thisTarget,baseProto,name);}});visited.push(baseProto);baseProto=_getObjProto2(baseProto);}return baseFuncs;}function _getInstFunc(target,funcName,proto,currentDynProtoProxy){var instFunc=null;if(target&&_hasOwnProperty(proto,DynClassName)){var instFuncTable=target[DynInstFuncTable]||{};instFunc=(instFuncTable[proto[DynClassName]]||{})[funcName];if(!instFunc){_throwTypeError("Missing ["+funcName+"] "+strFunction);}if(!instFunc[DynInstChkTag]&&instFuncTable[DynAllowInstChkTag]!==false){var canAddInst=!_hasOwnProperty(target,funcName);var objProto=_getObjProto2(target);var visited=[];while(canAddInst&&objProto&&!_isObjectArrayOrFunctionPrototype(objProto)&&!_hasVisited(visited,objProto)){var protoFunc=objProto[funcName];if(protoFunc){canAddInst=protoFunc===currentDynProtoProxy;break;}visited.push(objProto);objProto=_getObjProto2(objProto);}try{if(canAddInst){target[funcName]=instFunc;}instFunc[DynInstChkTag]=1;}catch(e){instFuncTable[DynAllowInstChkTag]=false;}}}return instFunc;}function _getProtoFunc(funcName,proto,currentDynProtoProxy){var protoFunc=proto[funcName];if(protoFunc===currentDynProtoProxy){protoFunc=_getObjProto2(proto)[funcName];}if(_typeof(protoFunc)!==strFunction){_throwTypeError("["+funcName+"] is not a "+strFunction);}return protoFunc;}function _populatePrototype(proto,className,target,baseInstFuncs,setInstanceFunc){function _createDynamicPrototype(proto2,funcName){var dynProtoProxy=function dynProtoProxy(){var instFunc=_getInstFunc(this,funcName,proto2,dynProtoProxy)||_getProtoFunc(funcName,proto2,dynProtoProxy);return instFunc.apply(this,arguments);};dynProtoProxy[DynProxyTag]=1;return dynProtoProxy;}if(!_isObjectOrArrayPrototype(proto)){var instFuncTable=target[DynInstFuncTable]=target[DynInstFuncTable]||{};var instFuncs_1=instFuncTable[className]=instFuncTable[className]||{};if(instFuncTable[DynAllowInstChkTag]!==false){instFuncTable[DynAllowInstChkTag]=!!setInstanceFunc;}_forEachProp(target,function(name){if(_isDynamicCandidate(target,name,false)&&target[name]!==baseInstFuncs[name]){instFuncs_1[name]=target[name];delete target[name];if(!_hasOwnProperty(proto,name)||proto[name]&&!proto[name][DynProxyTag]){proto[name]=_createDynamicPrototype(proto,name);}}});}}function _checkPrototype(classProto,thisTarget){if(_objGetPrototypeOf2){var visited=[];var thisProto=_getObjProto2(thisTarget);while(thisProto&&!_isObjectArrayOrFunctionPrototype(thisProto)&&!_hasVisited(visited,thisProto)){if(thisProto===classProto){return true;}visited.push(thisProto);thisProto=_getObjProto2(thisProto);}return false;}return true;}function _getObjName(target,unknownValue){if(_hasOwnProperty(target,Prototype)){return target.name||unknownValue||UnknownValue;}return((target||{})[Constructor]||{}).name||unknownValue||UnknownValue;}function dynamicProto(theClass,target,delegateFunc,options){if(!_hasOwnProperty(theClass,Prototype)){_throwTypeError("theClass is an invalid class definition.");}var classProto=theClass[Prototype];if(!_checkPrototype(classProto,target)){_throwTypeError("["+_getObjName(theClass)+"] is not in class hierarchy of ["+_getObjName(target)+"]");}var className=null;if(_hasOwnProperty(classProto,DynClassName)){className=classProto[DynClassName];}else{className=DynClassNamePrefix+_getObjName(theClass,"_")+"$"+_dynamicNames;_dynamicNames++;classProto[DynClassName]=className;}var perfOptions=dynamicProto[DynProtoDefaultOptions];var useBaseInst=!!perfOptions[strUseBaseInst];if(useBaseInst&&options&&options[strUseBaseInst]!==void 0){useBaseInst=!!options[strUseBaseInst];}var instFuncs=_getInstanceFuncs(target);var baseFuncs=_getBaseFuncs(classProto,target,instFuncs,useBaseInst);delegateFunc(target,baseFuncs);var setInstanceFunc=!!_objGetPrototypeOf2&&!!perfOptions[strSetInstFuncs];if(setInstanceFunc&&options){setInstanceFunc=!!options[strSetInstFuncs];}_populatePrototype(classProto,className,target,instFuncs,setInstanceFunc!==false);}var Constructor,Prototype,strFunction,DynInstFuncTable,DynProxyTag,DynClassName,DynClassNamePrefix,DynInstChkTag,DynAllowInstChkTag,DynProtoDefaultOptions,UnknownValue,str__Proto2,DynProtoBaseProto,DynProtoCurrent,strUseBaseInst,strSetInstFuncs,Obj,_objGetPrototypeOf2,_objGetOwnProps,_dynamicNames,perfDefaults;var init_dynamicproto_js=__esm({"client/node_modules/@microsoft/dynamicproto-js/lib/dist/esm/dynamicproto-js.js":function clientNode_modulesMicrosoftDynamicprotoJsLibDistEsmDynamicprotoJsJs(){Constructor="constructor";Prototype="prototype";strFunction="function";DynInstFuncTable="_dynInstFuncs";DynProxyTag="_isDynProxy";DynClassName="_dynClass";DynClassNamePrefix="_dynCls$";DynInstChkTag="_dynInstChk";DynAllowInstChkTag=DynInstChkTag;DynProtoDefaultOptions="_dfOpts";UnknownValue="_unknown_";str__Proto2="__proto__";DynProtoBaseProto="_dyn"+str__Proto2;DynProtoCurrent="_dynInstProto";strUseBaseInst="useBaseInst";strSetInstFuncs="setInstFuncs";Obj=Object;_objGetPrototypeOf2=Obj["getPrototypeOf"];_objGetOwnProps=Obj["getOwnPropertyNames"];_dynamicNames=0;perfDefaults={setInstFuncs:true,useBaseInst:true};dynamicProto[DynProtoDefaultOptions]=perfDefaults;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/EnvUtils.js
function _hasProperty(theClass,property){var supported=false;if(theClass){try{supported=property in theClass;if(!supported){var proto=theClass[strShimPrototype];if(proto){supported=property in proto;}}}catch(e){}if(!supported){try{var tmp=new theClass();supported=!_isUndefined(tmp[property]);}catch(e){}}}return supported;}function _setEnableEnvMocks(enabled){_enableMocks=enabled;}function _getGlobalInst(name){var gbl=_getGlobal();if(gbl&&gbl[name]){return gbl[name];}if(name===strWindow&&_hasWindow()){return window;}return null;}function _hasWindow(){return Boolean((typeof window==="undefined"?"undefined":_typeof(window))===strShimObject&&window);}function _getWindow(){if(_hasWindow()){return window;}return _getGlobalInst(strWindow);}function _hasDocument(){return Boolean((typeof document==="undefined"?"undefined":_typeof(document))===strShimObject&&document);}function _getDocument(){if(_hasDocument()){return document;}return _getGlobalInst(strDocument);}function _hasNavigator(){return Boolean((typeof navigator==="undefined"?"undefined":_typeof(navigator))===strShimObject&&navigator);}function _getNavigator(){if(_hasNavigator()){return navigator;}return _getGlobalInst(strNavigator);}function _hasHistory(){return Boolean((typeof history==="undefined"?"undefined":_typeof(history))===strShimObject&&history);}function _getHistory(){if(_hasHistory()){return history;}return _getGlobalInst(strHistory);}function _getLocation(checkForMock){if(checkForMock&&_enableMocks){var mockLocation=_getGlobalInst("__mockLocation");if(mockLocation){return mockLocation;}}if((typeof location==="undefined"?"undefined":_typeof(location))===strShimObject&&location){return location;}return _getGlobalInst(strLocation);}function _getConsole(){if((typeof console==="undefined"?"undefined":_typeof(console))!==strShimUndefined){return console;}return _getGlobalInst(strConsole);}function _getPerformance(){return _getGlobalInst(strPerformance);}function _hasJSON(){return Boolean((typeof JSON==="undefined"?"undefined":_typeof(JSON))===strShimObject&&JSON||_getGlobalInst(strJSON)!==null);}function _getJSON(){if(_hasJSON()){return JSON||_getGlobalInst(strJSON);}return null;}function _getCrypto(){return _getGlobalInst(strCrypto);}function _getMsCrypto(){return _getGlobalInst(strMsCrypto);}function _isReactNative(){var nav=_getNavigator();if(nav&&nav.product){return nav.product===strReactNative;}return false;}function _isIE2(){var nav=_getNavigator();if(nav&&(nav.userAgent!==_navUserAgentCheck||_isTrident===null)){_navUserAgentCheck=nav.userAgent;var userAgent=(_navUserAgentCheck||strEmpty).toLowerCase();_isTrident=_strContains(userAgent,strMsie)||_strContains(userAgent,strTrident);}return _isTrident;}function _getIEVersion(userAgentStr){if(userAgentStr===void 0){userAgentStr=null;}if(!userAgentStr){var navigator_1=_getNavigator()||{};userAgentStr=navigator_1?(navigator_1.userAgent||strEmpty).toLowerCase():strEmpty;}var ua2=(userAgentStr||strEmpty).toLowerCase();if(_strContains(ua2,strMsie)){var doc=_getDocument()||{};return Math.max(parseInt(ua2.split(strMsie)[1]),doc[strDocumentMode]||0);}else if(_strContains(ua2,strTrident)){var tridentVer=parseInt(ua2.split(strTrident)[1]);if(tridentVer){return tridentVer+4;}}return null;}function _dumpObj(object){var objectTypeDump=Object[strShimPrototype].toString.call(object);var propertyValueDump=strEmpty;if(objectTypeDump==="[object Error]"){propertyValueDump="{ stack: '"+object.stack+"', message: '"+object.message+"', name: '"+object.name+"'";}else if(_hasJSON()){propertyValueDump=_getJSON().stringify(object);}return objectTypeDump+propertyValueDump;}function _isBeaconsSupported(){if(_beaconsSupported===null){_beaconsSupported=_hasNavigator()&&Boolean(_getNavigator().sendBeacon);}return _beaconsSupported;}function _isFetchSupported(withKeepAlive){var isSupported=false;try{isSupported=!!_getGlobalInst("fetch");var request=_getGlobalInst("Request");if(isSupported&&withKeepAlive&&request){isSupported=_hasProperty(request,"keepalive");}}catch(e){}return isSupported;}function _useXDomainRequest2(){if(_useXDomainRequest===null){_useXDomainRequest=(typeof XDomainRequest==="undefined"?"undefined":_typeof(XDomainRequest))!==strShimUndefined;if(_useXDomainRequest&&_isXhrSupported()){_useXDomainRequest=_useXDomainRequest&&!_hasProperty(_getGlobalInst(strXMLHttpRequest),"withCredentials");}}return _useXDomainRequest;}function _isXhrSupported(){var isSupported=false;try{var xmlHttpRequest=_getGlobalInst(strXMLHttpRequest);isSupported=!!xmlHttpRequest;}catch(e){}return isSupported;}function _getNamedValue(values,name){if(values){for(var i=0;i<values.length;i++){var value=values[i];if(value.name){if(value.name===name){return value;}}}}return{};}function findMetaTag(name){var doc=_getDocument();if(doc&&name){return _getNamedValue(doc.querySelectorAll("meta"),name).content;}return null;}function findNamedServerTiming(name){var value;var perf=_getPerformance();if(perf){var navPerf=perf.getEntriesByType("navigation")||[];value=_getNamedValue((navPerf.length>0?navPerf[0]:{}).serverTiming,name).description;}return value;}var strWindow,strDocument,strDocumentMode,strNavigator,strHistory,strLocation,strConsole,strPerformance,strJSON,strCrypto,strMsCrypto,strReactNative,strMsie,strTrident,strXMLHttpRequest,_isTrident,_navUserAgentCheck,_enableMocks,_useXDomainRequest,_beaconsSupported;var init_EnvUtils=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/EnvUtils.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKEnvUtilsJs(){init_applicationinsights_shims();init_InternalConstants();init_HelperFuncs();"use strict";strWindow="window";strDocument="document";strDocumentMode="documentMode";strNavigator="navigator";strHistory="history";strLocation="location";strConsole="console";strPerformance="performance";strJSON="JSON";strCrypto="crypto";strMsCrypto="msCrypto";strReactNative="ReactNative";strMsie="msie";strTrident="trident/";strXMLHttpRequest="XMLHttpRequest";_isTrident=null;_navUserAgentCheck=null;_enableMocks=false;_useXDomainRequest=null;_beaconsSupported=null;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DbgExtensionUtils.js
function _listenerProxyFunc(name,config){return function(){var args=arguments;var dbgExt=getDebugExt(config);if(dbgExt){var listener=dbgExt.listener;if(listener&&listener[name]){listener[name].apply(listener,args);}}};}function _getExtensionNamespace(){var target=_getGlobalInst("Microsoft");if(target){_aiNamespace=target["ApplicationInsights"];}return _aiNamespace;}function getDebugExt(config){var ns2=_aiNamespace;if(!ns2&&config.disableDbgExt!==true){ns2=_aiNamespace||_getExtensionNamespace();}return ns2?ns2["ChromeDbgExt"]:null;}function getDebugListener(config){if(!_debugListener){_debugListener={};for(var lp=0;lp<listenerFuncs.length;lp++){_debugListener[listenerFuncs[lp]]=_listenerProxyFunc(listenerFuncs[lp],config);}}return _debugListener;}var listenerFuncs,_aiNamespace,_debugListener;var init_DbgExtensionUtils=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DbgExtensionUtils.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKDbgExtensionUtilsJs(){init_EnvUtils();listenerFuncs=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"];_aiNamespace=null;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js
function _sanitizeDiagnosticText(text){if(text){return'"'+text.replace(/\"/g,strEmpty)+'"';}return strEmpty;}function _logToConsole(func,message){var theConsole=_getConsole();if(!!theConsole){var logFunc="log";if(theConsole[func]){logFunc=func;}if(_isFunction2(theConsole[logFunc])){theConsole[logFunc](message);}}}function _safeGetLogger(core,config){return(core||{}).logger||new _DiagnosticLogger(config);}function _getLogger(logger){return logger||new _DiagnosticLogger();}function _throwInternal2(logger,severity,msgId,msg,properties2,isUserAct){if(isUserAct===void 0){isUserAct=false;}(logger||new _DiagnosticLogger()).throwInternal(severity,msgId,msg,properties2,isUserAct);}function _warnToConsole(logger,message){_getLogger(logger).warnToConsole(message);}var AiNonUserActionablePrefix,AiUserActionablePrefix,AIInternalMessagePrefix,strErrorToConsole,strWarnToConsole,_InternalLogMessage3,_DiagnosticLogger;var init_DiagnosticLogger=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKDiagnosticLoggerJs(){init_EnvUtils();init_dynamicproto_js();init_HelperFuncs();init_DbgExtensionUtils();init_InternalConstants();"use strict";AiNonUserActionablePrefix="AI (Internal): ";AiUserActionablePrefix="AI: ";AIInternalMessagePrefix="AITR_";strErrorToConsole="errorToConsole";strWarnToConsole="warnToConsole";_InternalLogMessage3=function(){function _InternalLogMessage2(msgId,msg,isUserAct,properties2){if(isUserAct===void 0){isUserAct=false;}var _self=this;_self.messageId=msgId;_self.message=(isUserAct?AiUserActionablePrefix:AiNonUserActionablePrefix)+msgId;var strProps=strEmpty;if(_hasJSON()){strProps=_getJSON().stringify(properties2);}var diagnosticText=(msg?" message:"+_sanitizeDiagnosticText(msg):strEmpty)+(properties2?" props:"+_sanitizeDiagnosticText(strProps):strEmpty);_self.message+=diagnosticText;}_InternalLogMessage2.dataType="MessageData";return _InternalLogMessage2;}();_DiagnosticLogger=function(){function DiagnosticLogger2(config){this.identifier="DiagnosticLogger";this.queue=[];var _messageCount=0;var _messageLogged={};dynamicProto(DiagnosticLogger2,this,function(_self){if(_isNullOrUndefined(config)){config={};}_self.consoleLoggingLevel=function(){return _getConfigValue("loggingLevelConsole",0);};_self.telemetryLoggingLevel=function(){return _getConfigValue("loggingLevelTelemetry",1);};_self.maxInternalMessageLimit=function(){return _getConfigValue("maxMessageLimit",25);};_self.enableDebugExceptions=function(){return _getConfigValue("enableDebugExceptions",false);};_self.throwInternal=function(severity,msgId,msg,properties2,isUserAct){if(isUserAct===void 0){isUserAct=false;}var message=new _InternalLogMessage3(msgId,msg,isUserAct,properties2);if(_self.enableDebugExceptions()){throw _dumpObj(message);}else{var logFunc=severity===1?strErrorToConsole:strWarnToConsole;if(!_isUndefined(message.message)){var logLevel=_self.consoleLoggingLevel();if(isUserAct){var messageKey=+message.messageId;if(!_messageLogged[messageKey]&&logLevel>=severity){_self[logFunc](message.message);_messageLogged[messageKey]=true;}}else{if(logLevel>=severity){_self[logFunc](message.message);}}_self.logInternalMessage(severity,message);}else{_debugExtMsg("throw"+(severity===1?"Critical":"Warning"),message);}}};_self.warnToConsole=function(message){_logToConsole("warn",message);_debugExtMsg("warning",message);};_self.errorToConsole=function(message){_logToConsole("error",message);_debugExtMsg("error",message);};_self.resetInternalMessageCount=function(){_messageCount=0;_messageLogged={};};_self.logInternalMessage=function(severity,message){if(_areInternalMessagesThrottled()){return;}var logMessage=true;var messageKey=AIInternalMessagePrefix+message.messageId;if(_messageLogged[messageKey]){logMessage=false;}else{_messageLogged[messageKey]=true;}if(logMessage){if(severity<=_self.telemetryLoggingLevel()){_self.queue.push(message);_messageCount++;_debugExtMsg(severity===1?"error":"warn",message);}if(_messageCount===_self.maxInternalMessageLimit()){var throttleLimitMessage="Internal events throttle limit per PageView reached for this app.";var throttleMessage=new _InternalLogMessage3(23,throttleLimitMessage,false);_self.queue.push(throttleMessage);if(severity===1){_self.errorToConsole(throttleLimitMessage);}else{_self.warnToConsole(throttleLimitMessage);}}}};function _getConfigValue(name,defValue){var value=config[name];if(!_isNullOrUndefined(value)){return value;}return defValue;}function _areInternalMessagesThrottled(){return _messageCount>=_self.maxInternalMessageLimit();}function _debugExtMsg(name,data){var dbgExt=getDebugExt(config);if(dbgExt&&dbgExt.diagLog){dbgExt.diagLog(name,data);}}});}return DiagnosticLogger2;}();}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/PerfManager.js
function _doPerf(mgrSource,getSource,func,details,isAsync){if(mgrSource){var perfMgr=mgrSource;if(_isFunction2(perfMgr["getPerfMgr"])){perfMgr=perfMgr["getPerfMgr"]();}if(perfMgr){var perfEvt=void 0;var currentActive=perfMgr.getCtx(doPerfActiveKey);try{perfEvt=perfMgr.create(getSource(),details,isAsync);if(perfEvt){if(currentActive&&perfEvt.setCtx){perfEvt.setCtx(_PerfEvent.ParentContextKey,currentActive);if(currentActive.getCtx&&currentActive.setCtx){var children=currentActive.getCtx(_PerfEvent.ChildrenContextKey);if(!children){children=[];currentActive.setCtx(_PerfEvent.ChildrenContextKey,children);}children.push(perfEvt);}}perfMgr.setCtx(doPerfActiveKey,perfEvt);return func(perfEvt);}}catch(ex){if(perfEvt&&perfEvt.setCtx){perfEvt.setCtx("exception",ex);}}finally{if(perfEvt){perfMgr.fire(perfEvt);}perfMgr.setCtx(doPerfActiveKey,currentActive);}}}return func();}function getGblPerfMgr(){return _defaultPerfManager;}var strExecutionContextKey,_defaultPerfManager,_PerfEvent,_PerfManager,doPerfActiveKey;var init_PerfManager=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/PerfManager.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKPerfManagerJs(){init_dynamicproto_js();init_HelperFuncs();strExecutionContextKey="ctx";_defaultPerfManager=null;_PerfEvent=function(){function PerfEvent2(name,payloadDetails,isAsync){var _self=this;var accessorDefined=false;_self.start=_dateNow();_self.name=name;_self.isAsync=isAsync;_self.isChildEvt=function(){return false;};if(_isFunction2(payloadDetails)){var theDetails_1;accessorDefined=_objDefineAccessors(_self,"payload",function(){if(!theDetails_1&&_isFunction2(payloadDetails)){theDetails_1=payloadDetails();payloadDetails=null;}return theDetails_1;});}_self.getCtx=function(key){if(key){if(key===PerfEvent2.ParentContextKey||key===PerfEvent2.ChildrenContextKey){return _self[key];}return(_self[strExecutionContextKey]||{})[key];}return null;};_self.setCtx=function(key,value){if(key){if(key===PerfEvent2.ParentContextKey){if(!_self[key]){_self.isChildEvt=function(){return true;};}_self[key]=value;}else if(key===PerfEvent2.ChildrenContextKey){_self[key]=value;}else{var ctx=_self[strExecutionContextKey]=_self[strExecutionContextKey]||{};ctx[key]=value;}}};_self.complete=function(){var childTime=0;var childEvts=_self.getCtx(PerfEvent2.ChildrenContextKey);if(_isArray2(childEvts)){for(var lp=0;lp<childEvts.length;lp++){var childEvt=childEvts[lp];if(childEvt){childTime+=childEvt.time;}}}_self.time=_dateNow()-_self.start;_self.exTime=_self.time-childTime;_self.complete=function(){};if(!accessorDefined&&_isFunction2(payloadDetails)){_self.payload=payloadDetails();}};}PerfEvent2.ParentContextKey="parent";PerfEvent2.ChildrenContextKey="childEvts";return PerfEvent2;}();_PerfManager=function(){function PerfManager2(manager){this.ctx={};dynamicProto(PerfManager2,this,function(_self){_self.create=function(src,payloadDetails,isAsync){return new _PerfEvent(src,payloadDetails,isAsync);};_self.fire=function(perfEvent){if(perfEvent){perfEvent.complete();if(manager&&_isFunction2(manager.perfEvent)){manager.perfEvent(perfEvent);}}};_self.setCtx=function(key,value){if(key){var ctx=_self[strExecutionContextKey]=_self[strExecutionContextKey]||{};ctx[key]=value;}};_self.getCtx=function(key){return(_self[strExecutionContextKey]||{})[key];};});}return PerfManager2;}();doPerfActiveKey="CoreUtils.doPerf";}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/RandomHelper.js
function _mwcSeed(seedValue){if(seedValue<0){seedValue>>>=0;}_mwcW=123456789+seedValue&MaxUInt32;_mwcZ=987654321-seedValue&MaxUInt32;_mwcSeeded=true;}function _autoSeedMwc(){try{var now=_dateNow()&2147483647;_mwcSeed((Math.random()*UInt32Mask^now)+now);}catch(e){}}function _randomValue(maxValue){if(maxValue>0){return Math.floor(_random()/MaxUInt32*(maxValue+1))>>>0;}return 0;}function _random(signed){var value=0;var c=_getCrypto()||_getMsCrypto();if(c&&c.getRandomValues){value=c.getRandomValues(new Uint32Array(1))[0]&MaxUInt32;}if(value===0&&_isIE2()){if(!_mwcSeeded){_autoSeedMwc();}value=mwcRandom32()&MaxUInt32;}if(value===0){value=Math.floor(UInt32Mask*Math.random()|0);}if(!signed){value>>>=0;}return value;}function mwcRandomSeed(value){if(!value){_autoSeedMwc();}else{_mwcSeed(value);}}function mwcRandom32(signed){_mwcZ=36969*(_mwcZ&65535)+(_mwcZ>>16)&MaxUInt32;_mwcW=18e3*(_mwcW&65535)+(_mwcW>>16)&MaxUInt32;var value=(_mwcZ<<16)+(_mwcW&65535)>>>0&MaxUInt32|0;if(!signed){value>>>=0;}return value;}function _newId(maxLength){if(maxLength===void 0){maxLength=22;}var base64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var number=_random()>>>0;var chars=0;var result=strEmpty;while(result.length<maxLength){chars++;result+=base64chars.charAt(number&63);number>>>=6;if(chars===5){number=(_random()<<2&4294967295|number&3)>>>0;chars=0;}}return result;}var UInt32Mask,MaxUInt32,_mwcSeeded,_mwcW,_mwcZ;var init_RandomHelper=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/RandomHelper.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKRandomHelperJs(){init_EnvUtils();init_HelperFuncs();init_InternalConstants();UInt32Mask=4294967296;MaxUInt32=4294967295;_mwcSeeded=false;_mwcW=123456789;_mwcZ=987654321;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DataCacheHelper.js
function _createAccessor(target,prop,value){if(_objDefineProperty2){try{_objDefineProperty2(target,prop,{value:value,enumerable:false,configurable:true});return true;}catch(e){}}return false;}function _canAcceptData(target){return target.nodeType===1||target.nodeType===9||!+target.nodeType;}function _getCache(data,target){var theCache=target[data.id];if(!theCache){theCache={};try{if(_canAcceptData(target)){if(!_createAccessor(target,data.id,theCache)){target[data.id]=theCache;}}}catch(e){}}return theCache;}function _createUniqueNamespace(name,includeVersion){if(includeVersion===void 0){includeVersion=false;}return _normalizeJsName(name+_dataUid++ +(includeVersion?"."+version:"")+instanceName);}function createElmNodeData(name){var data={id:_createUniqueNamespace("_aiData-"+(name||"")+"."+version),accept:function accept(target){return _canAcceptData(target);},get:function get(target,name2,defValue,addDefault){var theCache=target[data.id];if(!theCache){if(addDefault){theCache=_getCache(data,target);theCache[_normalizeJsName(name2)]=defValue;}return defValue;}return theCache[_normalizeJsName(name2)];},kill:function kill(target,name2){if(target&&target[name2]){try{delete target[name2];}catch(e){}}}};return data;}var _objDefineProperty2,version,instanceName,_dataUid;var init_DataCacheHelper=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DataCacheHelper.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKDataCacheHelperJs(){init_applicationinsights_shims();init_HelperFuncs();init_RandomHelper();_objDefineProperty2=ObjDefineProperty;version="2.8.4";instanceName="."+_newId(6);_dataUid=0;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CookieMgr.js
function _gblCookieMgr(config,logger){var inst=_createCookieMgr[strConfigCookieMgr]||_globalCookieConfig[strConfigCookieMgr];if(!inst){inst=_createCookieMgr[strConfigCookieMgr]=_createCookieMgr(config,logger);_globalCookieConfig[strConfigCookieMgr]=inst;}return inst;}function _isMgrEnabled(cookieMgr){if(cookieMgr){return cookieMgr.isEnabled();}return true;}function _createCookieMgrConfig(rootConfig){var cookieMgrCfg=rootConfig.cookieCfg=rootConfig.cookieCfg||{};_setValue(cookieMgrCfg,"domain",rootConfig.cookieDomain,isNotNullOrUndefined,_isNullOrUndefined);_setValue(cookieMgrCfg,"path",rootConfig.cookiePath||"/",null,_isNullOrUndefined);if(_isNullOrUndefined(cookieMgrCfg[strEnabled])){var cookieEnabled=void 0;if(!_isUndefined(rootConfig[strIsCookieUseDisabled])){cookieEnabled=!rootConfig[strIsCookieUseDisabled];}if(!_isUndefined(rootConfig[strDisableCookiesUsage])){cookieEnabled=!rootConfig[strDisableCookiesUsage];}cookieMgrCfg[strEnabled]=cookieEnabled;}return cookieMgrCfg;}function _safeGetCookieMgr(core,config){var cookieMgr;if(core){cookieMgr=core.getCookieMgr();}else if(config){var cookieCfg=config.cookieCfg;if(cookieCfg[strConfigCookieMgr]){cookieMgr=cookieCfg[strConfigCookieMgr];}else{cookieMgr=_createCookieMgr(config);}}if(!cookieMgr){cookieMgr=_gblCookieMgr(config,(core||{}).logger);}return cookieMgr;}function _createCookieMgr(rootConfig,logger){var cookieMgrConfig=_createCookieMgrConfig(rootConfig||_globalCookieConfig);var _path=cookieMgrConfig.path||"/";var _domain=cookieMgrConfig.domain;var _enabled=cookieMgrConfig[strEnabled]!==false;var cookieMgr={isEnabled:function isEnabled(){var enabled=_enabled&&_areCookiesSupported(logger);var gblManager=_globalCookieConfig[strConfigCookieMgr];if(enabled&&gblManager&&cookieMgr!==gblManager){enabled=_isMgrEnabled(gblManager);}return enabled;},setEnabled:function setEnabled(value){_enabled=value!==false;},set:function set(name,value,maxAgeSec,domain,path){var result=false;if(_isMgrEnabled(cookieMgr)){var values={};var theValue=_strTrim2(value||strEmpty);var idx=theValue.indexOf(";");if(idx!==-1){theValue=_strTrim2(value.substring(0,idx));values=_extractParts(value.substring(idx+1));}_setValue(values,"domain",domain||_domain,_isTruthy,_isUndefined);if(!_isNullOrUndefined(maxAgeSec)){var _isIE=_isIE2();if(_isUndefined(values[strExpires])){var nowMs=_dateNow();var expireMs=nowMs+maxAgeSec*1e3;if(expireMs>0){var expiry=new Date();expiry.setTime(expireMs);_setValue(values,strExpires,_formatDate(expiry,!_isIE?strToUTCString:strToGMTString)||_formatDate(expiry,_isIE?strToGMTString:strToUTCString)||strEmpty,_isTruthy);}}if(!_isIE){_setValue(values,"max-age",strEmpty+maxAgeSec,null,_isUndefined);}}var location_1=_getLocation();if(location_1&&location_1.protocol==="https:"){_setValue(values,"secure",null,null,_isUndefined);if(_allowUaSameSite===null){_allowUaSameSite=!uaDisallowsSameSiteNone((_getNavigator()||{}).userAgent);}if(_allowUaSameSite){_setValue(values,"SameSite","None",null,_isUndefined);}}_setValue(values,"path",path||_path,null,_isUndefined);var setCookieFn=cookieMgrConfig.setCookie||_setCookieValue;setCookieFn(name,_formatCookieValue(theValue,values));result=true;}return result;},get:function get(name){var value=strEmpty;if(_isMgrEnabled(cookieMgr)){value=(cookieMgrConfig.getCookie||_getCookieValue)(name);}return value;},del:function del(name,path){var result=false;if(_isMgrEnabled(cookieMgr)){result=cookieMgr.purge(name,path);}return result;},purge:function purge(name,path){var _a4;var result=false;if(_areCookiesSupported(logger)){var values=(_a4={},_a4["path"]=path?path:"/",_a4[strExpires]="Thu, 01 Jan 1970 00:00:01 GMT",_a4);if(!_isIE2()){values["max-age"]="0";}var delCookie=cookieMgrConfig.delCookie||_setCookieValue;delCookie(name,_formatCookieValue(strEmpty,values));result=true;}return result;}};cookieMgr[strConfigCookieMgr]=cookieMgr;return cookieMgr;}function _areCookiesSupported(logger){if(_supportsCookies===null){_supportsCookies=false;try{var doc=_doc||{};_supportsCookies=doc[strCookie]!==void 0;}catch(e){_throwInternal2(logger,2,68,"Cannot access document.cookie - "+_getExceptionName(e),{exception:_dumpObj(e)});}}return _supportsCookies;}function _extractParts(theValue){var values={};if(theValue&&theValue.length){var parts=_strTrim2(theValue).split(";");_arrForEach(parts,function(thePart){thePart=_strTrim2(thePart||strEmpty);if(thePart){var idx=thePart.indexOf("=");if(idx===-1){values[thePart]=null;}else{values[_strTrim2(thePart.substring(0,idx))]=_strTrim2(thePart.substring(idx+1));}}});}return values;}function _formatDate(theDate,func){if(_isFunction2(theDate[func])){return theDate[func]();}return null;}function _formatCookieValue(value,values){var cookieValue=value||strEmpty;_objForEachKey(values,function(name,theValue){cookieValue+="; "+name+(!_isNullOrUndefined(theValue)?"="+theValue:strEmpty);});return cookieValue;}function _getCookieValue(name){var cookieValue=strEmpty;if(_doc){var theCookie=_doc[strCookie]||strEmpty;if(_parsedCookieValue!==theCookie){_cookieCache=_extractParts(theCookie);_parsedCookieValue=theCookie;}cookieValue=_strTrim2(_cookieCache[name]||strEmpty);}return cookieValue;}function _setCookieValue(name,cookieValue){if(_doc){_doc[strCookie]=name+"="+cookieValue;}}function uaDisallowsSameSiteNone(userAgent){if(!_isString(userAgent)){return false;}if(_strContains(userAgent,"CPU iPhone OS 12")||_strContains(userAgent,"iPad; CPU OS 12")){return true;}if(_strContains(userAgent,"Macintosh; Intel Mac OS X 10_14")&&_strContains(userAgent,"Version/")&&_strContains(userAgent,"Safari")){return true;}if(_strContains(userAgent,"Macintosh; Intel Mac OS X 10_14")&&_strEndsWith2(userAgent,"AppleWebKit/605.1.15 (KHTML, like Gecko)")){return true;}if(_strContains(userAgent,"Chrome/5")||_strContains(userAgent,"Chrome/6")){return true;}if(_strContains(userAgent,"UnrealEngine")&&!_strContains(userAgent,"Chrome")){return true;}if(_strContains(userAgent,"UCBrowser/12")||_strContains(userAgent,"UCBrowser/11")){return true;}return false;}var strToGMTString,strToUTCString,strCookie,strExpires,strEnabled,strIsCookieUseDisabled,strDisableCookiesUsage,strConfigCookieMgr,_supportsCookies,_allowUaSameSite,_parsedCookieValue,_doc,_cookieCache,_globalCookieConfig;var init_CookieMgr=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CookieMgr.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKCookieMgrJs(){init_EnvUtils();init_HelperFuncs();init_InternalConstants();init_DiagnosticLogger();strToGMTString="toGMTString";strToUTCString="toUTCString";strCookie="cookie";strExpires="expires";strEnabled="enabled";strIsCookieUseDisabled="isCookieUseDisabled";strDisableCookiesUsage="disableCookiesUsage";strConfigCookieMgr="_ckMgr";_supportsCookies=null;_allowUaSameSite=null;_parsedCookieValue=null;_doc=_getDocument();_cookieCache={};_globalCookieConfig={};}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/EventHelpers.js
function _normalizeNamespace(name){if(name&&name.replace){return name.replace(/^\s*\.*|\.*\s*$/g,"");}return name;}function _getEvtNamespace(eventName,evtNamespace){if(evtNamespace){var theNamespace_1="";if(_isArray2(evtNamespace)){theNamespace_1="";_arrForEach(evtNamespace,function(name){name=_normalizeNamespace(name);if(name){if(name[0]!=="."){name="."+name;}theNamespace_1+=name;}});}else{theNamespace_1=_normalizeNamespace(evtNamespace);}if(theNamespace_1){if(theNamespace_1[0]!=="."){theNamespace_1="."+theNamespace_1;}eventName=(eventName||"")+theNamespace_1;}}var parsedEvent=eventNamespace.exec(eventName||"")||[];return{type:parsedEvent[1],ns:(parsedEvent[2]||"").replace(rRemoveEmptyNs,".").replace(rRemoveTrailingEmptyNs,"").split(".").sort().join(".")};}function _getRegisteredEvents2(target,eventName,evtNamespace){var theEvents=[];var eventCache=elmNodeData.get(target,strEvents,{},false);var evtName=_getEvtNamespace(eventName,evtNamespace);_objForEachKey(eventCache,function(evtType,registeredEvents){_arrForEach(registeredEvents,function(value){if(!evtName.type||evtName.type===value.evtName.type){if(!evtName.ns||evtName.ns===evtName.ns){theEvents.push({name:value.evtName.type+(value.evtName.ns?"."+value.evtName.ns:""),handler:value.handler});}}});});return theEvents;}function _getRegisteredEvents(target,evtName,addDefault){if(addDefault===void 0){addDefault=true;}var aiEvts=elmNodeData.get(target,strEvents,{},addDefault);var registeredEvents=aiEvts[evtName];if(!registeredEvents){registeredEvents=aiEvts[evtName]=[];}return registeredEvents;}function _doDetach(obj,evtName,handlerRef,useCapture){if(obj&&evtName&&evtName.type){if(obj[strRemoveEventListener]){obj[strRemoveEventListener](evtName.type,handlerRef,useCapture);}else if(obj[strDetachEvent]){obj[strDetachEvent](strOnPrefix+evtName.type,handlerRef);}}}function _doAttach(obj,evtName,handlerRef,useCapture){var result=false;if(obj&&evtName&&evtName.type&&handlerRef){if(obj[strAddEventHelper]){obj[strAddEventHelper](evtName.type,handlerRef,useCapture);result=true;}else if(obj[strAttachEvent]){obj[strAttachEvent](strOnPrefix+evtName.type,handlerRef);result=true;}}return result;}function _doUnregister(target,events,evtName,unRegFn){var idx=events.length;while(idx--){var theEvent=events[idx];if(theEvent){if(!evtName.ns||evtName.ns===theEvent.evtName.ns){if(!unRegFn||unRegFn(theEvent)){_doDetach(target,theEvent.evtName,theEvent.handler,theEvent.capture);events.splice(idx,1);}}}}}function _unregisterEvents(target,evtName,unRegFn){if(evtName.type){_doUnregister(target,_getRegisteredEvents(target,evtName.type),evtName,unRegFn);}else{var eventCache=elmNodeData.get(target,strEvents,{});_objForEachKey(eventCache,function(evtType,events){_doUnregister(target,events,evtName,unRegFn);});if(_objKeys2(eventCache).length===0){elmNodeData.kill(target,strEvents);}}}function _mergeEvtNamespace(theNamespace,namespaces){var newNamespaces;if(namespaces){if(_isArray2(namespaces)){newNamespaces=[theNamespace].concat(namespaces);}else{newNamespaces=[theNamespace,namespaces];}newNamespaces=_getEvtNamespace("xx",newNamespaces).ns.split(".");}else{newNamespaces=theNamespace;}return newNamespaces;}function _eventOn(target,eventName,handlerRef,evtNamespace,useCapture){if(useCapture===void 0){useCapture=false;}var result=false;if(target){try{var evtName=_getEvtNamespace(eventName,evtNamespace);result=_doAttach(target,evtName,handlerRef,useCapture);if(result&&elmNodeData.accept(target)){var registeredEvent={guid:_guid++,evtName:evtName,handler:handlerRef,capture:useCapture};_getRegisteredEvents(target,evtName.type).push(registeredEvent);}}catch(e){}}return result;}function _eventOff(target,eventName,handlerRef,evtNamespace,useCapture){if(useCapture===void 0){useCapture=false;}if(target){try{var evtName_1=_getEvtNamespace(eventName,evtNamespace);var found_1=false;_unregisterEvents(target,evtName_1,function(regEvent){if(evtName_1.ns&&!handlerRef||regEvent.handler===handlerRef){found_1=true;return true;}return false;});if(!found_1){_doDetach(target,evtName_1,handlerRef,useCapture);}}catch(e){}}}function _attachEvent(obj,eventNameWithoutOn,handlerRef,useCapture){if(useCapture===void 0){useCapture=false;}return _eventOn(obj,eventNameWithoutOn,handlerRef,null,useCapture);}function _detachEvent(obj,eventNameWithoutOn,handlerRef,useCapture){if(useCapture===void 0){useCapture=false;}_eventOff(obj,eventNameWithoutOn,handlerRef,null,useCapture);}function _addEventHandler(eventName,callback,evtNamespace){var result=false;var w=_getWindow();if(w){result=_eventOn(w,eventName,callback,evtNamespace);result=_eventOn(w["body"],eventName,callback,evtNamespace)||result;}var doc=_getDocument();if(doc){result=_eventOn(doc,eventName,callback,evtNamespace)||result;}return result;}function _removeEventHandler(eventName,callback,evtNamespace){var w=_getWindow();if(w){_eventOff(w,eventName,callback,evtNamespace);_eventOff(w["body"],eventName,callback,evtNamespace);}var doc=_getDocument();if(doc){_eventOff(doc,eventName,callback,evtNamespace);}}function _addEventListeners(events,listener,excludeEvents,evtNamespace){var added=false;if(listener&&events&&events.length>0){_arrForEach(events,function(name){if(name){if(!excludeEvents||_arrIndexOf(excludeEvents,name)===-1){added=_addEventHandler(name,listener,evtNamespace)||added;}}});}return added;}function _addEventListeners2(events,listener,excludeEvents,evtNamespace){var added=false;if(listener&&events&&_isArray2(events)){added=_addEventListeners(events,listener,excludeEvents,evtNamespace);if(!added&&excludeEvents&&excludeEvents.length>0){added=_addEventListeners(events,listener,null,evtNamespace);}}return added;}function _removeEventListeners(events,listener,evtNamespace){if(events&&_isArray2(events)){_arrForEach(events,function(name){if(name){_removeEventHandler(name,listener,evtNamespace);}});}}function _addPageUnloadEventListener(listener,excludeEvents,evtNamespace){return _addEventListeners2([strBeforeUnload,strUnload,strPageHide],listener,excludeEvents,evtNamespace);}function _removePageUnloadEventListener(listener,evtNamespace){_removeEventListeners([strBeforeUnload,strUnload,strPageHide],listener,evtNamespace);}function _addPageHideEventListener(listener,excludeEvents,evtNamespace){function _handlePageVisibility(evt){var doc=_getDocument();if(listener&&doc&&doc.visibilityState==="hidden"){listener(evt);}}var newNamespaces=_mergeEvtNamespace(strPageHideNamespace,evtNamespace);var pageUnloadAdded=_addEventListeners([strPageHide],listener,excludeEvents,newNamespaces);if(!excludeEvents||_arrIndexOf(excludeEvents,strVisibilityChangeEvt)===-1){pageUnloadAdded=_addEventListeners([strVisibilityChangeEvt],_handlePageVisibility,excludeEvents,newNamespaces)||pageUnloadAdded;}if(!pageUnloadAdded&&excludeEvents){pageUnloadAdded=_addPageHideEventListener(listener,null,evtNamespace);}return pageUnloadAdded;}function _removePageHideEventListener(listener,evtNamespace){var newNamespaces=_mergeEvtNamespace(strPageHideNamespace,evtNamespace);_removeEventListeners([strPageHide],listener,newNamespaces);_removeEventListeners([strVisibilityChangeEvt],null,newNamespaces);}function _addPageShowEventListener(listener,excludeEvents,evtNamespace){function _handlePageVisibility(evt){var doc=_getDocument();if(listener&&doc&&doc.visibilityState==="visible"){listener(evt);}}var newNamespaces=_mergeEvtNamespace(strPageShowNamespace,evtNamespace);var pageShowAdded=_addEventListeners([strPageShow],listener,excludeEvents,newNamespaces);pageShowAdded=_addEventListeners([strVisibilityChangeEvt],_handlePageVisibility,excludeEvents,newNamespaces)||pageShowAdded;if(!pageShowAdded&&excludeEvents){pageShowAdded=_addPageShowEventListener(listener,null,evtNamespace);}return pageShowAdded;}function _removePageShowEventListener(listener,evtNamespace){var newNamespaces=_mergeEvtNamespace(strPageShowNamespace,evtNamespace);_removeEventListeners([strPageShow],listener,newNamespaces);_removeEventListeners([strVisibilityChangeEvt],null,newNamespaces);}var strOnPrefix,strAttachEvent,strAddEventHelper,strDetachEvent,strRemoveEventListener,strEvents,strVisibilityChangeEvt,strPageHide,strPageShow,strUnload,strBeforeUnload,strPageHideNamespace,strPageShowNamespace,rRemoveEmptyNs,rRemoveTrailingEmptyNs,_guid,elmNodeData,eventNamespace;var init_EventHelpers=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/EventHelpers.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKEventHelpersJs(){init_DataCacheHelper();init_EnvUtils();init_HelperFuncs();strOnPrefix="on";strAttachEvent="attachEvent";strAddEventHelper="addEventListener";strDetachEvent="detachEvent";strRemoveEventListener="removeEventListener";strEvents="events";strVisibilityChangeEvt="visibilitychange";strPageHide="pagehide";strPageShow="pageshow";strUnload="unload";strBeforeUnload="beforeunload";strPageHideNamespace=_createUniqueNamespace("aiEvtPageHide");strPageShowNamespace=_createUniqueNamespace("aiEvtPageShow");rRemoveEmptyNs=/\.[\.]+/g;rRemoveTrailingEmptyNs=/[\.]+$/;_guid=1;elmNodeData=createElmNodeData("events");eventNamespace=/^([^.]*)(?:\.(.+)|)/;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js
function _newGuid(){function randomHexDigit(){return _randomValue(15);}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(GuidRegex,function(c){var r=randomHexDigit()|0,v=c==="x"?r:r&3|8;return v.toString(16);});}function _perfNow(){var perf=_getPerformance();if(perf&&perf.now){return perf.now();}return _dateNow();}function _generateW3CId(){var hexValues=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var oct=strEmpty,tmp;for(var a=0;a<4;a++){tmp=_random();oct+=hexValues[tmp&15]+hexValues[tmp>>4&15]+hexValues[tmp>>8&15]+hexValues[tmp>>12&15]+hexValues[tmp>>16&15]+hexValues[tmp>>20&15]+hexValues[tmp>>24&15]+hexValues[tmp>>28&15];}var clockSequenceHi=hexValues[8+(_random()&3)|0];return oct.substr(0,8)+oct.substr(9,4)+"4"+oct.substr(13,3)+clockSequenceHi+oct.substr(16,3)+oct.substr(19,12);}var GuidRegex,_EventHelper;var init_CoreUtils=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKCoreUtilsJs(){init_EnvUtils();init_HelperFuncs();init_EventHelpers();init_RandomHelper();init_InternalConstants();"use strict";GuidRegex=/[xy]/g;_EventHelper={Attach:_attachEvent,AttachEvent:_attachEvent,Detach:_detachEvent,DetachEvent:_detachEvent};}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/W3cTraceParent.js
function _isValid(value,len,invalidValue){if(value&&value.length===len&&value!==invalidValue){return!!value.match(/^[\da-f]*$/);}return false;}function _formatValue(value,len,defValue){if(_isValid(value,len)){return value;}return defValue;}function _formatFlags(value){if(isNaN(value)||value<0||value>255){value=1;}var result=value.toString(16);while(result.length<2){result="0"+result;}return result;}function _createTraceParent(traceId,spanId,flags,version2){return{version:_isValid(version2,2,INVALID_VERSION)?version2:DEFAULT_VERSION,traceId:_isValidTraceId(traceId)?traceId:_generateW3CId(),spanId:_isValidSpanId(spanId)?spanId:_generateW3CId().substr(0,16),traceFlags:flags>=0&&flags<=255?flags:1};}function _parseTraceParent(value){if(!value){return null;}if(_isArray2(value)){value=value[0]||"";}if(!value||!_isString(value)||value.length>8192){return null;}var match=TRACE_PARENT_REGEX.exec(_strTrim2(value));if(!match||match[1]===INVALID_VERSION||match[2]===INVALID_TRACE_ID||match[3]===INVALID_SPAN_ID){return null;}return{version:match[1],traceId:match[2],spanId:match[3],traceFlags:parseInt(match[4],16)};}function _isValidTraceId(value){return _isValid(value,32,INVALID_TRACE_ID);}function _isValidSpanId(value){return _isValid(value,16,INVALID_SPAN_ID);}function _isValidTraceParent(value){if(!value||!_isValid(value.version,2,INVALID_VERSION)||!_isValid(value.traceId,32,INVALID_TRACE_ID)||!_isValid(value.spanId,16,INVALID_SPAN_ID)||!_isValid(_formatFlags(value.traceFlags),2)){return false;}return true;}function _isSampledFlag(value){if(_isValidTraceParent(value)){return(value.traceFlags&SAMPLED_FLAG)===SAMPLED_FLAG;}return false;}function _formatTraceParent(value){if(value){var flags=_formatFlags(value.traceFlags);if(!_isValid(flags,2)){flags="01";}var version2=value.version||DEFAULT_VERSION;if(version2!=="00"&&version2!=="ff"){version2=DEFAULT_VERSION;}return"".concat(version2,"-").concat(_formatValue(value.traceId,32,INVALID_TRACE_ID),"-").concat(_formatValue(value.spanId,16,INVALID_SPAN_ID),"-").concat(flags);}return"";}function _findW3cTraceParent(){var name="traceparent";var traceParent=_parseTraceParent(findMetaTag(name));if(!traceParent){traceParent=_parseTraceParent(findNamedServerTiming(name));}return traceParent;}var TRACE_PARENT_REGEX,DEFAULT_VERSION,INVALID_VERSION,INVALID_TRACE_ID,INVALID_SPAN_ID,SAMPLED_FLAG;var init_W3cTraceParent=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/W3cTraceParent.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKW3cTraceParentJs(){init_CoreUtils();init_EnvUtils();init_HelperFuncs();TRACE_PARENT_REGEX=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/;DEFAULT_VERSION="00";INVALID_VERSION="ff";INVALID_TRACE_ID="00000000000000000000000000000000";INVALID_SPAN_ID="0000000000000000";SAMPLED_FLAG=1;}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/TelemetryHelpers.js
function _getPluginState(plugin){return pluginStateData.get(plugin,"state",{},true);}function initializePlugins(processContext,extensions3){var initPlugins=[];var lastPlugin=null;var proxy=processContext.getNext();var pluginState;while(proxy){var thePlugin=proxy.getPlugin();if(thePlugin){if(lastPlugin&&_isFunction2(lastPlugin[strSetNextPlugin])&&_isFunction2(thePlugin[strProcessTelemetry])){lastPlugin[strSetNextPlugin](thePlugin);}var isInitialized=false;if(_isFunction2(thePlugin[strIsInitialized])){isInitialized=thePlugin[strIsInitialized]();}else{pluginState=_getPluginState(thePlugin);isInitialized=pluginState[strIsInitialized];}if(!isInitialized){initPlugins.push(thePlugin);}lastPlugin=thePlugin;proxy=proxy.getNext();}}_arrForEach(initPlugins,function(thePlugin2){var core=processContext.core();thePlugin2.initialize(processContext.getCfg(),core,extensions3,processContext.getNext());pluginState=_getPluginState(thePlugin2);if(!thePlugin2[strCore]&&!pluginState[strCore]){pluginState[strCore]=core;}pluginState[strIsInitialized]=true;delete pluginState[strTeardown];});}function sortPlugins(plugins){return plugins.sort(function(extA,extB){var result=0;if(extB){var bHasProcess=_isFunction2(extB[strProcessTelemetry]);if(_isFunction2(extA[strProcessTelemetry])){result=bHasProcess?extA[strPriority]-extB[strPriority]:1;}else if(bHasProcess){result=-1;}}else{result=extA?1:-1;}return result;});}function createDistributedTraceContext(parentCtx){var trace={};return{getName:function getName(){return trace.name;},setName:function setName(newValue){parentCtx&&parentCtx.setName(newValue);trace.name=newValue;},getTraceId:function getTraceId(){return trace.traceId;},setTraceId:function setTraceId(newValue){parentCtx&&parentCtx.setTraceId(newValue);if(_isValidTraceId(newValue)){trace.traceId=newValue;}},getSpanId:function getSpanId(){return trace.spanId;},setSpanId:function setSpanId(newValue){parentCtx&&parentCtx.setSpanId(newValue);if(_isValidSpanId(newValue)){trace.spanId=newValue;}},getTraceFlags:function getTraceFlags(){return trace.traceFlags;},setTraceFlags:function setTraceFlags(newTraceFlags){parentCtx&&parentCtx.setTraceFlags(newTraceFlags);trace.traceFlags=newTraceFlags;}};}var pluginStateData;var init_TelemetryHelpers=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/TelemetryHelpers.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKTelemetryHelpersJs(){init_HelperFuncs();init_InternalConstants();init_DataCacheHelper();init_W3cTraceParent();"use strict";pluginStateData=createElmNodeData("plugin");}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ProcessTelemetryContext.js
function _getNextProxyStart(proxy,core,startAt){while(proxy){if(proxy.getPlugin()===startAt){return proxy;}proxy=proxy.getNext();}return createTelemetryProxyChain([startAt],core.config||{},core);}function _createInternalContext(telemetryChain,config,_core2,startAt){var _nextProxy=null;var _onComplete=[];if(startAt!==null){_nextProxy=startAt?_getNextProxyStart(telemetryChain,_core2,startAt):telemetryChain;}var context={_next:_moveNext,ctx:{core:function core(){return _core2;},diagLog:function diagLog(){return _safeGetLogger(_core2,config);},getCfg:function getCfg(){return config;},getExtCfg:_getExtCfg,getConfig:_getConfig,hasNext:function hasNext(){return!!_nextProxy;},getNext:function getNext(){return _nextProxy;},setNext:function setNext(nextPlugin){_nextProxy=nextPlugin;},iterate:_iterateChain,onComplete:_addOnComplete}};function _addOnComplete(onComplete,that){var args=[];for(var _i2=2;_i2<arguments.length;_i2++){args[_i2-2]=arguments[_i2];}if(onComplete){_onComplete.push({func:onComplete,self:!_isUndefined(that)?that:context.ctx,args:args});}}function _moveNext(){var nextProxy=_nextProxy;_nextProxy=nextProxy?nextProxy.getNext():null;if(!nextProxy){var onComplete=_onComplete;if(onComplete&&onComplete.length>0){_arrForEach(onComplete,function(completeDetails){try{completeDetails.func.call(completeDetails.self,completeDetails.args);}catch(e){_throwInternal2(_core2.logger,2,73,"Unexpected Exception during onComplete - "+_dumpObj(e));}});_onComplete=[];}}return nextProxy;}function _getExtCfg(identifier,defaultValue,mergeDefault){if(defaultValue===void 0){defaultValue={};}if(mergeDefault===void 0){mergeDefault=0;}var theConfig;if(config){var extConfig=config.extensionConfig;if(extConfig&&identifier){theConfig=extConfig[identifier];}}if(!theConfig){theConfig=defaultValue;}else if(_isObject(defaultValue)){if(mergeDefault!==0){var newConfig_1=objExtend(true,defaultValue,theConfig);if(config&&mergeDefault===2){_objForEachKey(defaultValue,function(field){if(_isNullOrUndefined(newConfig_1[field])){var cfgValue=config[field];if(!_isNullOrUndefined(cfgValue)){newConfig_1[field]=cfgValue;}}});}theConfig=newConfig_1;}}return theConfig;}function _getConfig(identifier,field,defaultValue){if(defaultValue===void 0){defaultValue=false;}var theValue;var extConfig=_getExtCfg(identifier,null);if(extConfig&&!_isNullOrUndefined(extConfig[field])){theValue=extConfig[field];}else if(config&&!_isNullOrUndefined(config[field])){theValue=config[field];}return!_isNullOrUndefined(theValue)?theValue:defaultValue;}function _iterateChain(cb){var nextPlugin;while(!!(nextPlugin=context._next())){var plugin=nextPlugin.getPlugin();if(plugin){cb(plugin);}}}return context;}function _createProcessTelemetryContext(telemetryChain,config,core,startAt){var internalContext=_createInternalContext(telemetryChain,config,core,startAt);var context=internalContext.ctx;function _processNext(env){var nextPlugin=internalContext._next();nextPlugin&&nextPlugin.processTelemetry(env,context);return!nextPlugin;}function _createNew(plugins,startAt2){if(plugins===void 0){plugins=null;}if(_isArray2(plugins)){plugins=createTelemetryProxyChain(plugins,config,core,startAt2);}return _createProcessTelemetryContext(plugins||context.getNext(),config,core,startAt2);}context.processNext=_processNext;context.createNew=_createNew;return context;}function createProcessTelemetryUnloadContext(telemetryChain,core,startAt){var config=core.config||{};var internalContext=_createInternalContext(telemetryChain,config,core,startAt);var context=internalContext.ctx;function _processNext(unloadState){var nextPlugin=internalContext._next();nextPlugin&&nextPlugin.unload(context,unloadState);return!nextPlugin;}function _createNew(plugins,startAt2){if(plugins===void 0){plugins=null;}if(_isArray2(plugins)){plugins=createTelemetryProxyChain(plugins,config,core,startAt2);}return createProcessTelemetryUnloadContext(plugins||context.getNext(),core,startAt2);}context.processNext=_processNext;context.createNew=_createNew;return context;}function createProcessTelemetryUpdateContext(telemetryChain,core,startAt){var config=core.config||{};var internalContext=_createInternalContext(telemetryChain,config,core,startAt);var context=internalContext.ctx;function _processNext(updateState){return context.iterate(function(plugin){if(_isFunction2(plugin.update)){plugin.update(context,updateState);}});}function _createNew(plugins,startAt2){if(plugins===void 0){plugins=null;}if(_isArray2(plugins)){plugins=createTelemetryProxyChain(plugins,config,core,startAt2);}return createProcessTelemetryUpdateContext(plugins||context.getNext(),core,startAt2);}context.processNext=_processNext;context.createNew=_createNew;return context;}function createTelemetryProxyChain(plugins,config,core,startAt){var firstProxy=null;var add=startAt?false:true;if(_isArray2(plugins)&&plugins.length>0){var lastProxy_1=null;_arrForEach(plugins,function(thePlugin){if(!add&&startAt===thePlugin){add=true;}if(add&&thePlugin&&_isFunction2(thePlugin.processTelemetry)){var newProxy=createTelemetryPluginProxy(thePlugin,config,core);if(!firstProxy){firstProxy=newProxy;}if(lastProxy_1){lastProxy_1._setNext(newProxy);}lastProxy_1=newProxy;}});}if(startAt&&!firstProxy){return createTelemetryProxyChain([startAt],config,core);}return firstProxy;}function createTelemetryPluginProxy(plugin,config,core){var nextProxy=null;var hasProcessTelemetry=_isFunction2(plugin.processTelemetry);var hasSetNext=_isFunction2(plugin.setNextPlugin);var chainId;if(plugin){chainId=plugin.identifier+"-"+plugin.priority+"-"+_chainId++;}else{chainId="Unknown-0-"+_chainId++;}var proxyChain={getPlugin:function getPlugin(){return plugin;},getNext:function getNext(){return nextProxy;},processTelemetry:_processTelemetry,unload:_unloadPlugin,update:_updatePlugin,_id:chainId,_setNext:function _setNext(nextPlugin){nextProxy=nextPlugin;}};function _getTelCtx(){var itemCtx;if(plugin&&_isFunction2(plugin[strGetTelCtx])){itemCtx=plugin[strGetTelCtx]();}if(!itemCtx){itemCtx=_createProcessTelemetryContext(proxyChain,config,core);}return itemCtx;}function _processChain(itemCtx,processPluginFn,name,details,isAsync){var hasRun=false;var identifier=plugin?plugin.identifier:strTelemetryPluginChain;var hasRunContext=itemCtx[strHasRunFlags];if(!hasRunContext){hasRunContext=itemCtx[strHasRunFlags]={};}itemCtx.setNext(nextProxy);if(plugin){_doPerf(itemCtx[strCore](),function(){return identifier+":"+name;},function(){hasRunContext[chainId]=true;try{var nextId=nextProxy?nextProxy._id:strEmpty;if(nextId){hasRunContext[nextId]=false;}hasRun=processPluginFn(itemCtx);}catch(error){var hasNextRun=nextProxy?hasRunContext[nextProxy._id]:true;if(hasNextRun){hasRun=true;}if(!nextProxy||!hasNextRun){_throwInternal2(itemCtx.diagLog(),1,73,"Plugin ["+identifier+"] failed during "+name+" - "+_dumpObj(error)+", run flags: "+_dumpObj(hasRunContext));}}},details,isAsync);}return hasRun;}function _processTelemetry(env,itemCtx){itemCtx=itemCtx||_getTelCtx();function _callProcessTelemetry(itemCtx2){if(!plugin||!hasProcessTelemetry){return false;}var pluginState=_getPluginState(plugin);if(pluginState.teardown||pluginState[strDisabled]){return false;}if(hasSetNext){plugin.setNextPlugin(nextProxy);}plugin.processTelemetry(env,itemCtx2);return true;}if(!_processChain(itemCtx,_callProcessTelemetry,"processTelemetry",function(){return{item:env};},!env.sync)){itemCtx.processNext(env);}}function _unloadPlugin(unloadCtx,unloadState){function _callTeardown(){var hasRun=false;if(plugin){var pluginState=_getPluginState(plugin);var pluginCore=plugin[strCore]||pluginState.core;if(plugin&&(!pluginCore||pluginCore===unloadCtx[strCore]())&&!pluginState[strTeardown]){pluginState[strCore]=null;pluginState[strTeardown]=true;pluginState[strIsInitialized]=false;if(plugin[strTeardown]&&plugin[strTeardown](unloadCtx,unloadState)===true){hasRun=true;}}}return hasRun;}if(!_processChain(unloadCtx,_callTeardown,"unload",function(){},unloadState.isAsync)){unloadCtx.processNext(unloadState);}}function _updatePlugin(updateCtx,updateState){function _callUpdate(){var hasRun=false;if(plugin){var pluginState=_getPluginState(plugin);var pluginCore=plugin[strCore]||pluginState.core;if(plugin&&(!pluginCore||pluginCore===updateCtx[strCore]())&&!pluginState[strTeardown]){if(plugin[strUpdate]&&plugin[strUpdate](updateCtx,updateState)===true){hasRun=true;}}}return hasRun;}if(!_processChain(updateCtx,_callUpdate,"update",function(){},false)){updateCtx.processNext(updateState);}}return _objFreeze2(proxyChain);}var strTelemetryPluginChain,strHasRunFlags,strGetTelCtx,_chainId,_ProcessTelemetryContext;var init_ProcessTelemetryContext=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ProcessTelemetryContext.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKProcessTelemetryContextJs(){init_DiagnosticLogger();init_HelperFuncs();init_PerfManager();init_EnvUtils();init_InternalConstants();init_TelemetryHelpers();"use strict";strTelemetryPluginChain="TelemetryPluginChain";strHasRunFlags="_hasRun";strGetTelCtx="_getTelCtx";_chainId=0;_ProcessTelemetryContext=function(){function ProcessTelemetryContext2(pluginChain,config,core,startAt){var _self=this;var context=_createProcessTelemetryContext(pluginChain,config,core,startAt);_proxyFunctions(_self,context,_objKeys2(context));}return ProcessTelemetryContext2;}();}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/Constants.js
var strIKey,strExtensionConfig;var init_Constants2=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/Constants.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKConstantsJs(){strIKey="iKey";strExtensionConfig="extensionConfig";}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ChannelController.js
function _addChannelQueue(channelQueue,queue,config,core){if(queue&&_isArray2(queue)&&queue.length>0){queue=queue.sort(function(a,b){return a.priority-b.priority;});_arrForEach(queue,function(queueItem){if(queueItem.priority<ChannelControllerPriority){_throwError(ChannelValidationMessage+queueItem.identifier);}});channelQueue.push({queue:_objFreeze2(queue),chain:createTelemetryProxyChain(queue,config,core)});}}function createChannelControllerPlugin(channelQueue,core){var _a4;function _getTelCtx(){return _createProcessTelemetryContext(null,core.config,core,null);}function _processChannelQueue(theChannels,itemCtx,processFn,onComplete){var waiting=theChannels?theChannels.length+1:1;function _runChainOnComplete(){waiting--;if(waiting===0){onComplete&&onComplete();onComplete=null;}}if(waiting>0){_arrForEach(theChannels,function(channels){if(channels&&channels.queue.length>0){var channelChain=channels.chain;var chainCtx=itemCtx.createNew(channelChain);chainCtx.onComplete(_runChainOnComplete);processFn(chainCtx);}else{waiting--;}});}_runChainOnComplete();}function _doUpdate(updateCtx,updateState){var theUpdateState=updateState||{reason:0};_processChannelQueue(channelQueue,updateCtx,function(chainCtx){chainCtx[strProcessNext](theUpdateState);},function(){updateCtx[strProcessNext](theUpdateState);});return true;}function _doTeardown(unloadCtx,unloadState){var theUnloadState=unloadState||{reason:0,isAsync:false};_processChannelQueue(channelQueue,unloadCtx,function(chainCtx){chainCtx[strProcessNext](theUnloadState);},function(){unloadCtx[strProcessNext](theUnloadState);_isInitialized2=false;});return true;}function _getChannel(pluginIdentifier){var thePlugin=null;if(channelQueue&&channelQueue.length>0){_arrForEach(channelQueue,function(channels){if(channels&&channels.queue.length>0){_arrForEach(channels.queue,function(ext){if(ext.identifier===pluginIdentifier){thePlugin=ext;return-1;}});if(thePlugin){return-1;}}});}return thePlugin;}var _isInitialized2=false;var channelController=(_a4={identifier:"ChannelControllerPlugin",priority:ChannelControllerPriority,initialize:function initialize(config,core2,extensions3,pluginChain){_isInitialized2=true;_arrForEach(channelQueue,function(channels){if(channels&&channels.queue.length>0){initializePlugins(_createProcessTelemetryContext(channels.chain,config,core2),extensions3);}});},isInitialized:function isInitialized(){return _isInitialized2;},processTelemetry:function processTelemetry(item,itemCtx){_processChannelQueue(channelQueue,itemCtx||_getTelCtx(),function(chainCtx){chainCtx[strProcessNext](item);},function(){itemCtx[strProcessNext](item);});},update:_doUpdate},_a4[strPause]=function(){_processChannelQueue(channelQueue,_getTelCtx(),function(chainCtx){chainCtx.iterate(function(plugin){plugin[strPause]&&plugin[strPause]();});},null);},_a4[strResume]=function(){_processChannelQueue(channelQueue,_getTelCtx(),function(chainCtx){chainCtx.iterate(function(plugin){plugin[strResume]&&plugin[strResume]();});},null);},_a4[strTeardown]=_doTeardown,_a4.getChannel=_getChannel,_a4.flush=function(isAsync,callBack,sendReason,cbTimeout){var waiting=1;var doneIterating=false;var cbTimer=null;cbTimeout=cbTimeout||5e3;function doCallback(){waiting--;if(doneIterating&&waiting===0){if(cbTimer){clearTimeout(cbTimer);cbTimer=null;}callBack&&callBack(doneIterating);callBack=null;}}_processChannelQueue(channelQueue,_getTelCtx(),function(chainCtx){chainCtx.iterate(function(plugin){if(plugin.flush){waiting++;var handled_1=false;if(!plugin.flush(isAsync,function(){handled_1=true;doCallback();},sendReason)){if(!handled_1){if(isAsync&&cbTimer==null){cbTimer=setTimeout(function(){cbTimer=null;doCallback();},cbTimeout);}else{doCallback();}}}}});},function(){doneIterating=true;doCallback();});return true;},_a4._setQueue=function(queue){channelQueue=queue;},_a4);return channelController;}function createChannelQueues(channels,extensions3,config,core){var channelQueue=[];if(channels){_arrForEach(channels,function(queue){return _addChannelQueue(channelQueue,queue,config,core);});}if(extensions3){var extensionQueue_1=[];_arrForEach(extensions3,function(plugin){if(plugin.priority>ChannelControllerPriority){extensionQueue_1.push(plugin);}});_addChannelQueue(channelQueue,extensionQueue_1,config,core);}return channelQueue;}var ChannelControllerPriority,ChannelValidationMessage;var init_ChannelController=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ChannelController.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKChannelControllerJs(){init_HelperFuncs();init_InternalConstants();init_ProcessTelemetryContext();init_TelemetryHelpers();ChannelControllerPriority=500;ChannelValidationMessage="Channel has invalid priority - ";}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/UnloadHandlerContainer.js
function _createUnloadHandlerContainer(){var handlers=[];function _addHandler(handler){if(handler){handlers.push(handler);}}function _runHandlers(unloadCtx,unloadState){_arrForEach(handlers,function(handler){try{handler(unloadCtx,unloadState);}catch(e){_throwInternal2(unloadCtx.diagLog(),2,73,"Unexpected error calling unload handler - "+_dumpObj(e));}});handlers=[];}return{add:_addHandler,run:_runHandlers};}var init_UnloadHandlerContainer=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/UnloadHandlerContainer.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKUnloadHandlerContainerJs(){init_DiagnosticLogger();init_EnvUtils();init_HelperFuncs();}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseTelemetryPlugin.js
var strGetPlugin,_BaseTelemetryPlugin;var init_BaseTelemetryPlugin=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseTelemetryPlugin.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKBaseTelemetryPluginJs(){init_dynamicproto_js();init_ProcessTelemetryContext();init_HelperFuncs();init_Constants2();init_UnloadHandlerContainer();init_InternalConstants();"use strict";strGetPlugin="getPlugin";_BaseTelemetryPlugin=function(){function BaseTelemetryPlugin2(){var _self=this;var _isinitialized;var _rootCtx;var _nextPlugin;var _unloadHandlerContainer;var _hooks;_initDefaults();dynamicProto(BaseTelemetryPlugin2,_self,function(_self2){_self2.initialize=function(config,core,extensions3,pluginChain){_setDefaults(config,core,pluginChain);_isinitialized=true;};_self2.teardown=function(unloadCtx,unloadState){var core=_self2.core;if(!core||unloadCtx&&core!==unloadCtx.core()){return;}var result;var unloadDone=false;var theUnloadCtx=unloadCtx||createProcessTelemetryUnloadContext(null,core,_nextPlugin&&_nextPlugin[strGetPlugin]?_nextPlugin[strGetPlugin]():_nextPlugin);var theUnloadState=unloadState||{reason:0,isAsync:false};function _unloadCallback(){if(!unloadDone){unloadDone=true;_unloadHandlerContainer.run(theUnloadCtx,unloadState);_arrForEach(_hooks,function(fn2){fn2.rm();});_hooks=[];if(result===true){theUnloadCtx.processNext(theUnloadState);}_initDefaults();}}if(!_self2[strDoTeardown]||_self2[strDoTeardown](theUnloadCtx,theUnloadState,_unloadCallback)!==true){_unloadCallback();}else{result=true;}return result;};_self2.update=function(updateCtx,updateState){var core=_self2.core;if(!core||updateCtx&&core!==updateCtx.core()){return;}var result;var updateDone=false;var theUpdateCtx=updateCtx||createProcessTelemetryUpdateContext(null,core,_nextPlugin&&_nextPlugin[strGetPlugin]?_nextPlugin[strGetPlugin]():_nextPlugin);var theUpdateState=updateState||{reason:0};function _updateCallback(){if(!updateDone){updateDone=true;_setDefaults(theUpdateCtx.getCfg(),theUpdateCtx.core(),theUpdateCtx.getNext());}}if(!_self2._doUpdate||_self2._doUpdate(theUpdateCtx,theUpdateState,_updateCallback)!==true){_updateCallback();}else{result=true;}return result;};_self2._addHook=function(hooks){if(hooks){if(_isArray2(hooks)){_hooks=_hooks.concat(hooks);}else{_hooks.push(hooks);}}};_proxyFunctionAs(_self2,"_addUnloadCb",function(){return _unloadHandlerContainer;},"add");});_self.diagLog=function(itemCtx){return _getTelCtx(itemCtx).diagLog();};_self[strIsInitialized]=function(){return _isinitialized;};_self.setInitialized=function(isInitialized){_isinitialized=isInitialized;};_self[strSetNextPlugin]=function(next){_nextPlugin=next;};_self.processNext=function(env,itemCtx){if(itemCtx){itemCtx.processNext(env);}else if(_nextPlugin&&_isFunction2(_nextPlugin.processTelemetry)){_nextPlugin.processTelemetry(env,null);}};_self._getTelCtx=_getTelCtx;function _getTelCtx(currentCtx){if(currentCtx===void 0){currentCtx=null;}var itemCtx=currentCtx;if(!itemCtx){var rootCtx=_rootCtx||_createProcessTelemetryContext(null,{},_self.core);if(_nextPlugin&&_nextPlugin[strGetPlugin]){itemCtx=rootCtx.createNew(null,_nextPlugin[strGetPlugin]);}else{itemCtx=rootCtx.createNew(null,_nextPlugin);}}return itemCtx;}function _setDefaults(config,core,pluginChain){if(config){_setValue(config,strExtensionConfig,[],null,_isNullOrUndefined);}if(!pluginChain&&core){pluginChain=core.getProcessTelContext().getNext();}var nextPlugin=_nextPlugin;if(_nextPlugin&&_nextPlugin[strGetPlugin]){nextPlugin=_nextPlugin[strGetPlugin]();}_self.core=core;_rootCtx=_createProcessTelemetryContext(pluginChain,config,core,nextPlugin);}function _initDefaults(){_isinitialized=false;_self.core=null;_rootCtx=null;_nextPlugin=null;_hooks=[];_unloadHandlerContainer=_createUnloadHandlerContainer();}}return BaseTelemetryPlugin2;}();}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/TelemetryInitializerPlugin.js
var TelemetryInitializerPlugin;var init_TelemetryInitializerPlugin=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/TelemetryInitializerPlugin.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKTelemetryInitializerPluginJs(){init_applicationinsights_shims();init_dynamicproto_js();init_BaseTelemetryPlugin();init_DiagnosticLogger();init_EnvUtils();init_HelperFuncs();init_InternalConstants();TelemetryInitializerPlugin=function(_super){__extendsFn(TelemetryInitializerPlugin2,_super);function TelemetryInitializerPlugin2(){var _this=_super.call(this)||this;_this.identifier="TelemetryInitializerPlugin";_this.priority=199;var _id;var _initializers;_initDefaults();dynamicProto(TelemetryInitializerPlugin2,_this,function(_self,_base){_self.addTelemetryInitializer=function(telemetryInitializer){var theInitializer={id:_id++,fn:telemetryInitializer};_initializers.push(theInitializer);var handler={remove:function remove(){_arrForEach(_initializers,function(initializer,idx){if(initializer.id===theInitializer.id){_initializers.splice(idx,1);return-1;}});}};return handler;};_self.processTelemetry=function(item,itemCtx){var doNotSendItem=false;var telemetryInitializersCount=_initializers.length;for(var i=0;i<telemetryInitializersCount;++i){var telemetryInitializer=_initializers[i];if(telemetryInitializer){try{if(telemetryInitializer.fn.apply(null,[item])===false){doNotSendItem=true;break;}}catch(e){_throwInternal2(itemCtx.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+_getExceptionName(e),{exception:_dumpObj(e)},true);}}}if(!doNotSendItem){_self.processNext(item,itemCtx);}};_self[strDoTeardown]=function(){_initDefaults();};});function _initDefaults(){_id=0;_initializers=[];}return _this;}return TelemetryInitializerPlugin2;}(_BaseTelemetryPlugin);}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js
function _createPerfManager(core,notificationMgr){return new _PerfManager(notificationMgr);}function _validateExtensions(logger,channelPriority,allExtensions){var coreExtensions=[];var extPriorities={};_arrForEach(allExtensions,function(ext){if(_isNullOrUndefined(ext)||_isNullOrUndefined(ext.initialize)){_throwError(strValidationError);}var extPriority=ext.priority;var identifier=ext.identifier;if(ext&&extPriority){if(!_isNullOrUndefined(extPriorities[extPriority])){_warnToConsole(logger,"Two extensions have same priority #"+extPriority+" - "+extPriorities[extPriority]+", "+identifier);}else{extPriorities[extPriority]=identifier;}}if(!extPriority||extPriority<channelPriority){coreExtensions.push(ext);}});return{all:allExtensions,core:coreExtensions};}function _isPluginPresent(thePlugin,plugins){var exists=false;_arrForEach(plugins,function(plugin){if(plugin===thePlugin){exists=true;return-1;}});return exists;}function _createDummyNotificationManager(){var _a4;return objCreateFn((_a4={},_a4[strAddNotificationListener]=function(listener){},_a4[strRemoveNotificationListener]=function(listener){},_a4[strEventsSent]=function(events){},_a4[strEventsDiscarded]=function(events,reason){},_a4[strEventsSendRequest]=function(sendReason,isAsync){},_a4));}var strValidationError,strNotificationManager,strSdkUnloadingError,strSdkNotInitialized,defaultInitConfig,BaseCore;var init_BaseCore=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKBaseCoreJs(){init_applicationinsights_shims();init_applicationinsights_shims();init_dynamicproto_js();init_ProcessTelemetryContext();init_TelemetryHelpers();init_PerfManager();init_CookieMgr();init_HelperFuncs();init_Constants2();init_DiagnosticLogger();init_DbgExtensionUtils();init_ChannelController();init_TelemetryInitializerPlugin();init_DataCacheHelper();init_UnloadHandlerContainer();init_InternalConstants();"use strict";strValidationError="Plugins must provide initialize method";strNotificationManager="_notificationManager";strSdkUnloadingError="SDK is still unloading...";strSdkNotInitialized="SDK is not initialized";defaultInitConfig={loggingLevelConsole:1};BaseCore=function(){function BaseCore3(){var _isInitialized;var _eventQueue;var _notificationManager;var _perfManager;var _cfgPerfManager;var _cookieManager;var _pluginChain;var _configExtensions;var _coreExtensions;var _channelControl;var _channelConfig;var _channelQueue;var _isUnloading;var _telemetryInitializerPlugin;var _internalLogsEventName;var _evtNamespace;var _unloadHandlers;var _debugListener2;var _traceCtx;var _internalLogPoller=0;dynamicProto(BaseCore3,this,function(_self){_initDefaults();_self.isInitialized=function(){return _isInitialized;};_self.initialize=function(config,extensions3,logger,notificationManager){if(_isUnloading){_throwError(strSdkUnloadingError);}if(_self.isInitialized()){_throwError("Core should not be initialized more than once");}if(!config||_isNullOrUndefined(config.instrumentationKey)){_throwError("Please provide instrumentation key");}_notificationManager=notificationManager;_self[strNotificationManager]=notificationManager;_self.config=config||{};_initDebugListener(config);_initPerfManager(config);config.extensions=_isNullOrUndefined(config.extensions)?[]:config.extensions;_initExtConfig(config);if(logger){_self.logger=logger;}_configExtensions=[];_configExtensions.push.apply(_configExtensions,__spreadArrayFn(__spreadArrayFn([],extensions3,false),config.extensions,false));_channelConfig=(config||{}).channels;_initPluginChain(config,null);if(!_channelQueue||_channelQueue.length===0){_throwError("No channels available");}_isInitialized=true;_self.releaseQueue();};_self.getTransmissionControls=function(){var controls=[];if(_channelQueue){_arrForEach(_channelQueue,function(channels){controls.push(channels.queue);});}return _objFreeze2(controls);};_self.track=function(telemetryItem){_setValue(telemetryItem,strIKey,_self.config.instrumentationKey,null,_isNotTruthy);_setValue(telemetryItem,"time",_toISOString(new Date()),null,_isNotTruthy);_setValue(telemetryItem,"ver","4.0",null,_isNullOrUndefined);if(!_isUnloading&&_self.isInitialized()){_createTelCtx().processNext(telemetryItem);}else{_eventQueue.push(telemetryItem);}};_self.getProcessTelContext=_createTelCtx;_self.getNotifyMgr=function(){if(!_notificationManager){_notificationManager=_createDummyNotificationManager();_self[strNotificationManager]=_notificationManager;}return _notificationManager;};_self[strAddNotificationListener]=function(listener){if(_notificationManager){_notificationManager[strAddNotificationListener](listener);}};_self[strRemoveNotificationListener]=function(listener){if(_notificationManager){_notificationManager[strRemoveNotificationListener](listener);}};_self.getCookieMgr=function(){if(!_cookieManager){_cookieManager=_createCookieMgr(_self.config,_self.logger);}return _cookieManager;};_self.setCookieMgr=function(cookieMgr){_cookieManager=cookieMgr;};_self.getPerfMgr=function(){if(!_perfManager&&!_cfgPerfManager){if(_self.config&&_self.config.enablePerfMgr&&_isFunction2(_self.config.createPerfMgr)){_cfgPerfManager=_self.config.createPerfMgr(_self,_self.getNotifyMgr());}}return _perfManager||_cfgPerfManager||getGblPerfMgr();};_self.setPerfMgr=function(perfMgr){_perfManager=perfMgr;};_self.eventCnt=function(){return _eventQueue.length;};_self.releaseQueue=function(){if(_isInitialized&&_eventQueue.length>0){var eventQueue=_eventQueue;_eventQueue=[];_arrForEach(eventQueue,function(event){_createTelCtx().processNext(event);});}};_self.pollInternalLogs=function(eventName){_internalLogsEventName=eventName||null;var interval=_self.config.diagnosticLogInterval;if(!interval||!(interval>0)){interval=1e4;}if(_internalLogPoller){clearInterval(_internalLogPoller);}_internalLogPoller=setInterval(function(){_flushInternalLogs();},interval);return _internalLogPoller;};_self.stopPollingInternalLogs=function(){if(_internalLogPoller){clearInterval(_internalLogPoller);_internalLogPoller=0;_flushInternalLogs();}};_proxyFunctions(_self,function(){return _telemetryInitializerPlugin;},["addTelemetryInitializer"]);_self.unload=function(isAsync,unloadComplete,cbTimeout){if(isAsync===void 0){isAsync=true;}if(!_isInitialized){_throwError(strSdkNotInitialized);}if(_isUnloading){_throwError(strSdkUnloadingError);}var unloadState={reason:50,isAsync:isAsync,flushComplete:false};var processUnloadCtx=createProcessTelemetryUnloadContext(_getPluginChain(),_self);processUnloadCtx.onComplete(function(){_initDefaults();unloadComplete&&unloadComplete(unloadState);},_self);function _doUnload(flushComplete){unloadState.flushComplete=flushComplete;_isUnloading=true;_unloadHandlers.run(processUnloadCtx,unloadState);_self.stopPollingInternalLogs();processUnloadCtx.processNext(unloadState);}if(!_flushChannels(isAsync,_doUnload,6,cbTimeout)){_doUnload(false);}};_self.getPlugin=_getPlugin;_self.addPlugin=function(plugin,replaceExisting,isAsync,addCb){if(!plugin){addCb&&addCb(false);_logOrThrowError(strValidationError);return;}var existingPlugin=_getPlugin(plugin.identifier);if(existingPlugin&&!replaceExisting){addCb&&addCb(false);_logOrThrowError("Plugin ["+plugin.identifier+"] is already loaded!");return;}var updateState={reason:16};function _addPlugin(removed){_configExtensions.push(plugin);updateState.added=[plugin];_initPluginChain(_self.config,updateState);addCb&&addCb(true);}if(existingPlugin){var removedPlugins_1=[existingPlugin.plugin];var unloadState={reason:2,isAsync:!!isAsync};_removePlugins(removedPlugins_1,unloadState,function(removed){if(!removed){addCb&&addCb(false);}else{updateState.removed=removedPlugins_1;updateState.reason|=32;_addPlugin(true);}});}else{_addPlugin(false);}};_self.evtNamespace=function(){return _evtNamespace;};_self.flush=_flushChannels;_self.getTraceCtx=function(createNew){if(!_traceCtx){_traceCtx=createDistributedTraceContext();}return _traceCtx;};_self.setTraceCtx=function(traceCtx){_traceCtx=traceCtx||null;};_proxyFunctionAs(_self,"addUnloadCb",function(){return _unloadHandlers;},"add");function _initDefaults(){_isInitialized=false;_self.config=objExtend(true,{},defaultInitConfig);_self.logger=new _DiagnosticLogger(_self.config);_self._extensions=[];_telemetryInitializerPlugin=new TelemetryInitializerPlugin();_eventQueue=[];_notificationManager=null;_perfManager=null;_cfgPerfManager=null;_cookieManager=null;_pluginChain=null;_coreExtensions=null;_configExtensions=[];_channelControl=null;_channelConfig=null;_channelQueue=null;_isUnloading=false;_internalLogsEventName=null;_evtNamespace=_createUniqueNamespace("AIBaseCore",true);_unloadHandlers=_createUnloadHandlerContainer();_traceCtx=null;}function _createTelCtx(){return _createProcessTelemetryContext(_getPluginChain(),_self.config,_self);}function _initPluginChain(config,updateState){var theExtensions=_validateExtensions(_self.logger,ChannelControllerPriority,_configExtensions);_coreExtensions=theExtensions.core;_pluginChain=null;var allExtensions=theExtensions.all;_channelQueue=_objFreeze2(createChannelQueues(_channelConfig,allExtensions,config,_self));if(_channelControl){var idx=_arrIndexOf(allExtensions,_channelControl);if(idx!==-1){allExtensions.splice(idx,1);}idx=_arrIndexOf(_coreExtensions,_channelControl);if(idx!==-1){_coreExtensions.splice(idx,1);}_channelControl._setQueue(_channelQueue);}else{_channelControl=createChannelControllerPlugin(_channelQueue,_self);}allExtensions.push(_channelControl);_coreExtensions.push(_channelControl);_self._extensions=sortPlugins(allExtensions);_channelControl.initialize(config,_self,allExtensions);initializePlugins(_createTelCtx(),allExtensions);_self._extensions=_objFreeze2(sortPlugins(_coreExtensions||[])).slice();if(updateState){_doUpdate(updateState);}}function _getPlugin(pluginIdentifier){var theExt=null;var thePlugin=null;_arrForEach(_self._extensions,function(ext){if(ext.identifier===pluginIdentifier&&ext!==_channelControl&&ext!==_telemetryInitializerPlugin){thePlugin=ext;return-1;}});if(!thePlugin&&_channelControl){thePlugin=_channelControl.getChannel(pluginIdentifier);}if(thePlugin){theExt={plugin:thePlugin,setEnabled:function setEnabled(enabled){_getPluginState(thePlugin)[strDisabled]=!enabled;},isEnabled:function isEnabled(){var pluginState=_getPluginState(thePlugin);return!pluginState[strTeardown]&&!pluginState[strDisabled];},remove:function remove(isAsync,removeCb){if(isAsync===void 0){isAsync=true;}var pluginsToRemove=[thePlugin];var unloadState={reason:1,isAsync:isAsync};_removePlugins(pluginsToRemove,unloadState,function(removed){if(removed){_initPluginChain(_self.config,{reason:32,removed:pluginsToRemove});}removeCb&&removeCb(removed);});}};}return theExt;}function _getPluginChain(){if(!_pluginChain){var extensions3=(_coreExtensions||[]).slice();if(_arrIndexOf(extensions3,_telemetryInitializerPlugin)===-1){extensions3.push(_telemetryInitializerPlugin);}_pluginChain=createTelemetryProxyChain(sortPlugins(extensions3),_self.config,_self);}return _pluginChain;}function _removePlugins(thePlugins,unloadState,removeComplete){if(thePlugins&&thePlugins.length>0){var unloadChain=createTelemetryProxyChain(thePlugins,_self.config,_self);var unloadCtx=createProcessTelemetryUnloadContext(unloadChain,_self);unloadCtx.onComplete(function(){var removed=false;var newConfigExtensions=[];_arrForEach(_configExtensions,function(plugin,idx){if(!_isPluginPresent(plugin,thePlugins)){newConfigExtensions.push(plugin);}else{removed=true;}});_configExtensions=newConfigExtensions;var newChannelConfig=[];if(_channelConfig){_arrForEach(_channelConfig,function(queue,idx){var newQueue=[];_arrForEach(queue,function(channel){if(!_isPluginPresent(channel,thePlugins)){newQueue.push(channel);}else{removed=true;}});newChannelConfig.push(newQueue);});_channelConfig=newChannelConfig;}removeComplete&&removeComplete(removed);});unloadCtx.processNext(unloadState);}else{removeComplete(false);}}function _flushInternalLogs(){var queue=_self.logger?_self.logger.queue:[];if(queue){_arrForEach(queue,function(logMessage){var item={name:_internalLogsEventName?_internalLogsEventName:"InternalMessageId: "+logMessage.messageId,iKey:_self.config.instrumentationKey,time:_toISOString(new Date()),baseType:_InternalLogMessage3.dataType,baseData:{message:logMessage.message}};_self.track(item);});queue.length=0;}}function _flushChannels(isAsync,callBack,sendReason,cbTimeout){if(_channelControl){return _channelControl.flush(isAsync,callBack,sendReason||6,cbTimeout);}callBack&&callBack(false);return true;}function _initDebugListener(config){if(config.disableDbgExt===true&&_debugListener2){_notificationManager[strRemoveNotificationListener](_debugListener2);_debugListener2=null;}if(_notificationManager&&!_debugListener2&&config.disableDbgExt!==true){_debugListener2=getDebugListener(config);_notificationManager[strAddNotificationListener](_debugListener2);}}function _initPerfManager(config){if(!config.enablePerfMgr&&_cfgPerfManager){_cfgPerfManager=null;}if(config.enablePerfMgr){_setValue(_self.config,"createPerfMgr",_createPerfManager);}}function _initExtConfig(config){var extConfig=_getSetValue(config,strExtensionConfig);extConfig.NotificationManager=_notificationManager;}function _doUpdate(updateState){var updateCtx=createProcessTelemetryUpdateContext(_getPluginChain(),_self);if(!_self._updateHook||_self._updateHook(updateCtx,updateState)!==true){updateCtx.processNext(updateState);}}function _logOrThrowError(message){var logger=_self.logger;if(logger){_throwInternal2(logger,2,73,message);}else{_throwError(message);}}});}return BaseCore3;}();}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js
function _runListeners(listeners,name,isAsync,callback){_arrForEach(listeners,function(listener){if(listener&&listener[name]){if(isAsync){setTimeout(function(){return callback(listener);},0);}else{try{callback(listener);}catch(e){}}}});}var _NotificationManager;var init_NotificationManager=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKNotificationManagerJs(){init_dynamicproto_js();init_HelperFuncs();init_InternalConstants();_NotificationManager=function(){function NotificationManager2(config){this.listeners=[];var perfEvtsSendAll=!!(config||{}).perfEvtsSendAll;dynamicProto(NotificationManager2,this,function(_self){_self[strAddNotificationListener]=function(listener){_self.listeners.push(listener);};_self[strRemoveNotificationListener]=function(listener){var index=_arrIndexOf(_self.listeners,listener);while(index>-1){_self.listeners.splice(index,1);index=_arrIndexOf(_self.listeners,listener);}};_self[strEventsSent]=function(events){_runListeners(_self.listeners,strEventsSent,true,function(listener){listener[strEventsSent](events);});};_self[strEventsDiscarded]=function(events,reason){_runListeners(_self.listeners,strEventsDiscarded,true,function(listener){listener[strEventsDiscarded](events,reason);});};_self[strEventsSendRequest]=function(sendReason,isAsync){_runListeners(_self.listeners,strEventsSendRequest,isAsync,function(listener){listener[strEventsSendRequest](sendReason,isAsync);});};_self[strPerfEvent]=function(perfEvent){if(perfEvent){if(perfEvtsSendAll||!perfEvent.isChildEvt()){_runListeners(_self.listeners,strPerfEvent,false,function(listener){if(perfEvent.isAsync){setTimeout(function(){return listener[strPerfEvent](perfEvent);},0);}else{listener[strPerfEvent](perfEvent);}});}}};});}return NotificationManager2;}();}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/AppInsightsCore.js
var AppInsightsCore;var init_AppInsightsCore=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/AppInsightsCore.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKAppInsightsCoreJs(){init_applicationinsights_shims();init_BaseCore();init_NotificationManager();init_PerfManager();init_DiagnosticLogger();init_dynamicproto_js();init_HelperFuncs();AppInsightsCore=function(_super){__extendsFn(AppInsightsCore3,_super);function AppInsightsCore3(){var _this=_super.call(this)||this;dynamicProto(AppInsightsCore3,_this,function(_self,_base){_self.initialize=function(config,extensions3,logger,notificationManager){_base.initialize(config,extensions3,logger||new _DiagnosticLogger(config),notificationManager||new _NotificationManager(config));};_self.track=function(telemetryItem){_doPerf(_self.getPerfMgr(),function(){return"AppInsightsCore:track";},function(){if(telemetryItem===null){_notifyInvalidEvent(telemetryItem);_throwError("Invalid telemetry item");}_validateTelemetryItem(telemetryItem);_base.track(telemetryItem);},function(){return{item:telemetryItem};},!telemetryItem.sync);};function _validateTelemetryItem(telemetryItem){if(_isNullOrUndefined(telemetryItem.name)){_notifyInvalidEvent(telemetryItem);_throwError("telemetry name required");}}function _notifyInvalidEvent(telemetryItem){var manager=_self.getNotifyMgr();if(manager){manager.eventsDiscarded([telemetryItem],2);}}});return _this;}return AppInsightsCore3;}(BaseCore);}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js
var _LoggingSeverity,_InternalMessageId2;var init_LoggingEnums=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmJavaScriptSDKEnumsLoggingEnumsJs(){init_EnumHelperFuncs();_LoggingSeverity=_createEnumStyle({CRITICAL:1,WARNING:2});_InternalMessageId2=_createEnumStyle({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106});}});// client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js
var init_applicationinsights_core_js=__esm({"client/node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js":function clientNode_modulesMicrosoftApplicationinsightsCoreJsDistEsmApplicationinsightsCoreJsJs(){init_IChannelControls();init_EventsDiscardedReason();init_AppInsightsCore();init_BaseCore();init_BaseTelemetryPlugin();init_RandomHelper();init_CoreUtils();init_HelperFuncs();init_EnumHelperFuncs();init_EventHelpers();init_EnvUtils();init_applicationinsights_shims();init_NotificationManager();init_PerfManager();init_DiagnosticLogger();init_ProcessTelemetryContext();init_LoggingEnums();init_CookieMgr();init_DataCacheHelper();init_UnloadHandlerContainer();init_W3cTraceParent();}});// client/node_modules/@microsoft/1ds-core-js/dist-esm/src/Enums.js
var _ValueKind,_EventLatency,_EventPropertyType,_EventPersistence,_TraceLevel,_ExtendedInternalMessageId2;var init_Enums=__esm({"client/node_modules/@microsoft/1ds-core-js/dist-esm/src/Enums.js":function clientNode_modulesMicrosoft1dsCoreJsDistEsmSrcEnumsJs(){init_applicationinsights_shims();init_applicationinsights_core_js();_ValueKind=_createEnumStyle({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32});_EventLatency=_createEnumStyle({Normal:1,CostDeferred:2,RealTime:3,Immediate:4});_EventPropertyType=_createEnumStyle({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9});_EventPersistence=_createEnumStyle({Normal:1,Critical:2});_TraceLevel=_createEnumStyle({NONE:0,ERROR:1,WARNING:2,INFORMATION:3});_ExtendedInternalMessageId2=_objFreeze2(__assignFn(__assignFn({},_InternalMessageId2),_createEnumStyle({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})));}});// client/node_modules/@microsoft/1ds-core-js/dist-esm/src/Utils.js
function _isValueAssigned(value){return!(value===""||_isNullOrUndefined(value));}function _getTenantId(apiKey){if(apiKey){var indexTenantId=apiKey.indexOf("-");if(indexTenantId>-1){return apiKey.substring(0,indexTenantId);}}return"";}function _isUint8ArrayAvailable(){if(uInt8ArraySupported===null){uInt8ArraySupported=!_isUndefined(Uint8Array)&&!isSafariOrFirefox()&&!_isReactNative();}return uInt8ArraySupported;}function _isLatency(value){if(value&&_isNumber(value)&&value>=1&&value<=4){return true;}return false;}function _sanitizeProperty(name,property,stringifyObjects){if(!property&&!_isValueAssigned(property)||typeof name!=="string"){return null;}var propType=_typeof(property);if(propType==="string"||propType==="number"||propType==="boolean"||_isArray2(property)){property={value:property};}else if(propType==="object"&&!property.hasOwnProperty("value")){property={value:stringifyObjects?JSON.stringify(property):property};}else if(_isNullOrUndefined(property.value)||property.value===""||!_isString(property.value)&&!_isNumber(property.value)&&!_isBoolean(property.value)&&!_isArray2(property.value)){return null;}if(_isArray2(property.value)&&!_isArrayValid(property.value)){return null;}if(!_isNullOrUndefined(property.kind)){if(_isArray2(property.value)||!_isValueKind(property.kind)){return null;}property.value=property.value.toString();}return property;}function _getCommonSchemaMetaData(value,kind,type){var encodedTypeValue=-1;if(!_isUndefined(value)){if(kind>0){if(kind===32){encodedTypeValue=1<<13;}else if(kind<=13){encodedTypeValue=kind<<5;}}if(isDataType(type)){if(encodedTypeValue===-1){encodedTypeValue=0;}encodedTypeValue|=type;}else{var propType=_fieldTypeEventPropMap[_getFieldValueType(value)]||-1;if(encodedTypeValue!==-1&&propType!==-1){encodedTypeValue|=propType;}else if(propType===6){encodedTypeValue=propType;}}}return encodedTypeValue;}function disableCookies2(){_safeGetCookieMgr(null).setEnabled(false);}function setCookie2(name,value,days){if(_areCookiesSupported(null)){_safeGetCookieMgr(null).set(name,value,days*86400,null,"/");}}function deleteCookie2(name){if(_areCookiesSupported(null)){_safeGetCookieMgr(null).del(name);}}function getCookie2(name){if(_areCookiesSupported(null)){return _getCookieValue2(_safeGetCookieMgr(null),name);}return"";}function _getCookieValue2(cookieMgr,name,decode){if(decode===void 0){decode=true;}var cookieValue;if(cookieMgr){cookieValue=cookieMgr.get(name);if(decode&&cookieValue&&decodeURIComponent){cookieValue=decodeURIComponent(cookieValue);}}return cookieValue||"";}function _createGuid(style){if(style===void 0){style="D";}var theGuid=_newGuid();if(style==="B"){theGuid="{"+theGuid+"}";}else if(style==="P"){theGuid="("+theGuid+")";}else if(style==="N"){theGuid=theGuid.replace(/-/g,"");}return theGuid;}function _extend(obj,obj2,obj3,obj4,obj5){var extended={};var deep=false;var i=0;var length=arguments.length;var objProto=Object[strShimPrototype];var theArgs=arguments;if(objProto.toString.call(theArgs[0])==="[object Boolean]"){deep=theArgs[0];i++;}for(;i<length;i++){var obj=theArgs[i];_objForEachKey(obj,function(prop,value){if(deep&&value&&_isObject(value)){if(_isArray2(value)){extended[prop]=extended[prop]||[];_arrForEach(value,function(arrayValue,arrayIndex){if(arrayValue&&_isObject(arrayValue)){extended[prop][arrayIndex]=_extend(true,extended[prop][arrayIndex],arrayValue);}else{extended[prop][arrayIndex]=arrayValue;}});}else{extended[prop]=_extend(true,extended[prop],value);}}else{extended[prop]=value;}});}return extended;}function _isValueKind(value){if(value===0||value>0&&value<=13||value===32){return true;}return false;}function isDataType(value){if(value>=0&&value<=9){return true;}return false;}function isSafariOrFirefox(){var nav=_getNavigator();if(!_isUndefined(nav)&&nav.userAgent){var ua2=nav.userAgent.toLowerCase();if((ua2.indexOf("safari")>=0||ua2.indexOf("firefox")>=0)&&ua2.indexOf("chrome")<0){return true;}}return false;}function _isArrayValid(value){return value.length>0;}function _setProcessTelemetryTimings(event,identifier){var evt=event;evt.timings=evt.timings||{};evt.timings.processTelemetryStart=evt.timings.processTelemetryStart||{};evt.timings.processTelemetryStart[identifier]=_getTime2();}function _getFieldValueType(value){var theType=0;if(value!==null&&value!==void 0){var objType=_typeof(value);if(objType==="string"){theType=1;}else if(objType==="number"){theType=2;}else if(objType==="boolean"){theType=3;}else if(objType===strShimObject){theType=4;if(_isArray2(value)){theType=4096;if(value.length>0){theType|=_getFieldValueType(value[0]);}}else if(_hasOwnProperty2(value,"value")){theType=8192|_getFieldValueType(value.value);}}}return theType;}function _isChromium(){return!!_getGlobalInst("chrome");}function _openXhr(method,urlString,withCredentials,disabled,isSync,timeout){if(disabled===void 0){disabled=false;}if(isSync===void 0){isSync=false;}function _wrapSetXhrProp(xhr2,prop,value){try{xhr2[prop]=value;}catch(e){}}var xhr=new XMLHttpRequest();if(disabled){_wrapSetXhrProp(xhr,strDisabledPropertyName,disabled);}if(withCredentials){_wrapSetXhrProp(xhr,strWithCredentials,withCredentials);}xhr.open(method,urlString,!isSync);if(withCredentials){_wrapSetXhrProp(xhr,strWithCredentials,withCredentials);}if(!isSync&&timeout){_wrapSetXhrProp(xhr,strTimeout,timeout);}return xhr;}var _a,_Version,_FullVersionString,strDisabledPropertyName,strWithCredentials,strTimeout,_fieldTypeEventPropMap,uInt8ArraySupported,_isDocumentObjectAvailable,_isWindowObjectAvailable,_getTime2,_Utils,CoreUtils2;var init_Utils=__esm({"client/node_modules/@microsoft/1ds-core-js/dist-esm/src/Utils.js":function clientNode_modulesMicrosoft1dsCoreJsDistEsmSrcUtilsJs(){init_applicationinsights_shims();init_applicationinsights_core_js();_Version="3.2.3";_FullVersionString="1DS-Web-JS-"+_Version;strDisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";strWithCredentials="withCredentials";strTimeout="timeout";_fieldTypeEventPropMap=(_a={},_a[0]=0,_a[2]=6,_a[1]=1,_a[3]=7,_a[4096|2]=6,_a[4096|1]=1,_a[4096|3]=7,_a);uInt8ArraySupported=null;_isDocumentObjectAvailable=Boolean(_getDocument());_isWindowObjectAvailable=Boolean(_getWindow());_getTime2=_perfNow;_Utils={Version:_Version,FullVersionString:_FullVersionString,strUndefined:strShimUndefined,strObject:strShimObject,Undefined:strShimUndefined,arrForEach:_arrForEach,arrIndexOf:_arrIndexOf,arrMap:_arrMap,arrReduce:_arrReduce,objKeys:_objKeys2,toISOString:_toISOString,isReactNative:_isReactNative,isString:_isString,isNumber:_isNumber,isBoolean:_isBoolean,isFunction:_isFunction2,isArray:_isArray2,isObject:_isObject,strTrim:_strTrim2,isDocumentObjectAvailable:_isDocumentObjectAvailable,isWindowObjectAvailable:_isWindowObjectAvailable,isValueAssigned:_isValueAssigned,getTenantId:_getTenantId,isBeaconsSupported:_isBeaconsSupported,isUint8ArrayAvailable:_isUint8ArrayAvailable,isLatency:_isLatency,sanitizeProperty:_sanitizeProperty,getISOString:_toISOString,useXDomainRequest:_useXDomainRequest2,getCommonSchemaMetaData:_getCommonSchemaMetaData,cookieAvailable:_areCookiesSupported,disallowsSameSiteNone:uaDisallowsSameSiteNone,setCookie:setCookie2,deleteCookie:deleteCookie2,getCookie:getCookie2,createGuid:_createGuid,extend:_extend,getTime:_getTime2,isValueKind:_isValueKind,isArrayValid:_isArrayValid,objDefineAccessors:_objDefineAccessors,addPageUnloadEventListener:_addPageUnloadEventListener,setProcessTelemetryTimings:_setProcessTelemetryTimings,addEventHandler:_addEventHandler,getFieldValueType:_getFieldValueType,strEndsWith:_strEndsWith2,objForEachKey:_objForEachKey};CoreUtils2={_canUseCookies:void 0,isTypeof:_isTypeof,isUndefined:_isUndefined,isNullOrUndefined:_isNullOrUndefined,hasOwnProperty:_hasOwnProperty2,isFunction:_isFunction2,isObject:_isObject,isDate:_isDate,isArray:_isArray2,isError:_isError,isString:_isString,isNumber:_isNumber,isBoolean:_isBoolean,toISOString:_toISOString,arrForEach:_arrForEach,arrIndexOf:_arrIndexOf,arrMap:_arrMap,arrReduce:_arrReduce,strTrim:_strTrim2,objCreate:objCreateFn,objKeys:_objKeys2,objDefineAccessors:_objDefineAccessors,addEventHandler:_addEventHandler,dateNow:_dateNow,isIE:_isIE2,disableCookies:disableCookies2,newGuid:_newGuid,perfNow:_perfNow,newId:_newId,randomValue:_randomValue,random32:_random,mwcRandomSeed:mwcRandomSeed,mwcRandom32:mwcRandom32,generateW3CId:_generateW3CId};}});// client/node_modules/@microsoft/1ds-core-js/dist-esm/src/AppInsightsCore.js
var PropVersion,properties,AppInsightsCore2,AppInsightsCore_default;var init_AppInsightsCore2=__esm({"client/node_modules/@microsoft/1ds-core-js/dist-esm/src/AppInsightsCore.js":function clientNode_modulesMicrosoft1dsCoreJsDistEsmSrcAppInsightsCoreJs(){init_applicationinsights_shims();init_applicationinsights_core_js();init_Utils();init_dynamicproto_js();PropVersion="version";properties="properties";AppInsightsCore2=function(_super){__extendsFn(AppInsightsCore3,_super);function AppInsightsCore3(){var _this=_super.call(this)||this;_this.pluginVersionStringArr=[];_this.pluginVersionString="";dynamicProto(AppInsightsCore3,_this,function(_self,_base){if(!_self.logger||!_self.logger.queue){_self.logger=new _DiagnosticLogger({loggingLevelConsole:1});}_self.initialize=function(config,extensions3,logger,notificationManager){_doPerf(_self,function(){return"AppInsightsCore.initialize";},function(){if(config){if(!config.endpointUrl){config.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/";}var propertyStorageOverride=config.propertyStorageOverride;if(propertyStorageOverride&&(!propertyStorageOverride.getProperty||!propertyStorageOverride.setProperty)){throw new Error("Invalid property storage override passed.");}if(config.channels){_arrForEach(config.channels,function(channels){if(channels){_arrForEach(channels,function(channel){if(channel.identifier&&channel.version){var ver=channel.identifier+"="+channel.version;_self.pluginVersionStringArr.push(ver);}});}});}}_self.getWParam=function(){return typeof document!=="undefined"?0:-1;};if(extensions3){_arrForEach(extensions3,function(ext){if(ext&&ext.identifier&&ext.version){var ver=ext.identifier+"="+ext.version;_self.pluginVersionStringArr.push(ver);}});}_self.pluginVersionString=_self.pluginVersionStringArr.join(";");try{_base.initialize(config,extensions3,logger,notificationManager);_self.pollInternalLogs("InternalLog");}catch(e){var logger_1=_self.logger;var message=_dumpObj(e);if(message.indexOf("channels")!==-1){message+="\n - Channels must be provided through config.channels only!";}logger_1.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+message);}},function(){return{config:config,extensions:extensions3,logger:logger,notificationManager:notificationManager};});};_self.track=function(item){_doPerf(_self,function(){return"AppInsightsCore.track";},function(){var telemetryItem=item;if(telemetryItem){telemetryItem.timings=telemetryItem.timings||{};telemetryItem.timings.trackStart=_getTime2();if(!_isLatency(telemetryItem.latency)){telemetryItem.latency=1;}var itemExt=telemetryItem.ext=telemetryItem.ext||{};itemExt.sdk=itemExt.sdk||{};itemExt.sdk.ver=_FullVersionString;var baseData=telemetryItem.baseData=telemetryItem.baseData||{};if(!baseData[properties]){baseData[properties]={};}var itemProperties=baseData[properties];if(!itemProperties[PropVersion]){itemProperties[PropVersion]="";}if(_self.pluginVersionString!==""){itemProperties[PropVersion]=_self.pluginVersionString;}}_base.track(telemetryItem);},function(){return{item:item};},!item.sync);};});return _this;}return AppInsightsCore3;}(AppInsightsCore);AppInsightsCore_default=AppInsightsCore2;}});// client/node_modules/@microsoft/1ds-core-js/dist-esm/src/BaseCore.js
var BaseCore2,BaseCore_default;var init_BaseCore2=__esm({"client/node_modules/@microsoft/1ds-core-js/dist-esm/src/BaseCore.js":function clientNode_modulesMicrosoft1dsCoreJsDistEsmSrcBaseCoreJs(){init_applicationinsights_shims();init_dynamicproto_js();init_applicationinsights_core_js();init_Utils();BaseCore2=function(_super){__extendsFn(BaseCore3,_super);function BaseCore3(){var _this=_super.call(this)||this;dynamicProto(BaseCore3,_this,function(_self,_base){_self.initialize=function(config,extensions3,logger,notificationManager){if(config&&!config.endpointUrl){config.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/";}_self.getWParam=function(){return _isDocumentObjectAvailable?0:-1;};try{_base.initialize(config,extensions3,logger,notificationManager);}catch(e){_throwInternal2(_self.logger,1,514,"Initialization Failed: "+_dumpObj(e)+"\n - Note: Channels must be provided through config.channels only");}};_self.track=function(item){var telemetryItem=item;if(telemetryItem){var ext=telemetryItem.ext=telemetryItem.ext||{};ext.sdk=ext.sdk||{};ext.sdk.ver=_FullVersionString;}_base.track(telemetryItem);};});return _this;}return BaseCore3;}(BaseCore);BaseCore_default=BaseCore2;}});// client/node_modules/@microsoft/1ds-core-js/dist-esm/src/ESPromise.js
function _createPromiseAllOnResolvedFunction(values,index,resolvedCallback){return function(value){values[index]=value;resolvedCallback();};}var _isFunction,ESPromise,ESPromise_default;var init_ESPromise=__esm({"client/node_modules/@microsoft/1ds-core-js/dist-esm/src/ESPromise.js":function clientNode_modulesMicrosoft1dsCoreJsDistEsmSrcESPromiseJs(){init_applicationinsights_core_js();init_dynamicproto_js();_isFunction=_isFunction2;ESPromise=function(){function ESPromise2(resolverFunc){var _state=0;var _settledValue=null;var _queue=[];dynamicProto(ESPromise2,this,function(_this){_this.then=function(onResolved,onRejected){return new ESPromise2(function(resolve,reject){_enqueue(onResolved,onRejected,resolve,reject);});};_this["catch"]=function(onRejected){return _this.then(null,onRejected);};});function _enqueue(onResolved,onRejected,resolve,reject){_queue.push(function(){var value;try{if(_state===1){value=_isFunction(onResolved)?onResolved(_settledValue):_settledValue;}else{value=_isFunction(onRejected)?onRejected(_settledValue):_settledValue;}if(value instanceof ESPromise2){value.then(resolve,reject);}else if(_state===2&&!_isFunction(onRejected)){reject(value);}else{resolve(value);}}catch(error){reject(error);return;}});if(_state!==0){_processQueue();}}function _processQueue(){if(_queue.length>0){var pending_1=_queue.slice();_queue=[];setTimeout(function(){for(var i=0,len=pending_1.length;i<len;++i){try{pending_1[i]();}catch(e){}}},0);}}function _resolve(value){if(_state===0){_settledValue=value;_state=1;_processQueue();}}function _reject(reason){if(_state===0){_settledValue=reason;_state=2;_processQueue();}}(function _initialize(){if(!_isFunction(resolverFunc)){throw new TypeError("ESPromise: resolvedFunc argument is not a Function");}try{resolverFunc(_resolve,_reject);}catch(error){_reject(error);}})();}ESPromise2.resolve=function(value){if(value instanceof ESPromise2){return value;}else if(value&&_isFunction(value.then)){return new ESPromise2(function(resolve,reject){try{value.then(resolve,reject);}catch(error){reject(error);}});}return new ESPromise2(function(resolve){resolve(value);});};ESPromise2.reject=function(reason){return new ESPromise2(function(resolve,reject){reject(reason);});};ESPromise2.all=function(iterable){if(!iterable||!iterable.length){return;}return new ESPromise2(function(resolve,reject){try{var values_1=[];var pending_2=0;for(var lp=0;lp<iterable.length;lp++){var item=iterable[lp];if(item&&_isFunction(item.then)){pending_2++;item.then(_createPromiseAllOnResolvedFunction(values_1,lp,function(){if(--pending_2===0){resolve(values_1);}}),reject);}else{values_1[lp]=item;}}if(pending_2===0){setTimeout(function(){resolve(values_1);},0);}}catch(error){reject(error);}});};ESPromise2.race=function(iterable){return new ESPromise2(function(resolve,reject){if(!iterable||!iterable.length){return;}try{var _loop_1=function _loop_1(lp2){var item=iterable[lp2];if(item&&_isFunction(item.then)){item.then(resolve,reject);}else{setTimeout(function(){resolve(item);},0);}};for(var lp=0;lp<iterable.length;lp++){_loop_1(lp);}}catch(error){reject(error);}});};return ESPromise2;}();ESPromise_default=ESPromise;}});// client/node_modules/@microsoft/1ds-core-js/dist-esm/src/ESPromiseScheduler.js
function _getTime(){return new Date().getTime();}var LazyRejectPeriod,_schedulerId,_running,_waiting,_timedOut,ESPromiseScheduler,ESPromiseScheduler_default;var init_ESPromiseScheduler=__esm({"client/node_modules/@microsoft/1ds-core-js/dist-esm/src/ESPromiseScheduler.js":function clientNode_modulesMicrosoft1dsCoreJsDistEsmSrcESPromiseSchedulerJs(){init_ESPromise();init_applicationinsights_core_js();init_dynamicproto_js();LazyRejectPeriod=6e5;_schedulerId=0;_running=[];_waiting=[];_timedOut=[];ESPromiseScheduler=function(){function ESPromiseScheduler2(name,diagLog){var _promiseId=0;var _scheduledName=(name||"<unnamed>")+"."+_schedulerId;_schedulerId++;dynamicProto(ESPromiseScheduler2,this,function(_this){var _lastEvent=null;var _eventCount=0;_this.scheduleEvent=function(startEventAction,eventName,timeout){var uniqueId=_scheduledName+"."+_eventCount;_eventCount++;if(eventName){uniqueId+="-("+eventName+")";}var uniqueEventId=uniqueId+"{"+_promiseId+"}";_promiseId++;var newScheduledEvent={evt:null,tm:_getTime(),id:uniqueEventId,isRunning:false,isAborted:false};if(!_lastEvent){newScheduledEvent.evt=_startWaitingEvent(newScheduledEvent);}else{newScheduledEvent.evt=_waitForPreviousEvent(newScheduledEvent,_lastEvent);}_lastEvent=newScheduledEvent;_lastEvent.evt._schId=uniqueEventId;return newScheduledEvent.evt;function _abortAndRemoveOldEvents(eventQueue){var now=_getTime();var expired=now-LazyRejectPeriod;var len=eventQueue.length;var lp=0;while(lp<len){var evt=eventQueue[lp];if(evt&&evt.tm<expired){var message=null;if(evt.abort){message="Aborting ["+evt.id+"] due to Excessive runtime ("+(now-evt.tm)+" ms)";evt.abort(message);}else{message="Removing ["+evt.id+"] due to Excessive runtime ("+(now-evt.tm)+" ms)";}_warnLog(message);eventQueue.splice(lp,1);len--;}else{lp++;}}}function _cleanup(eventId,completed){var toQueue=false;var removed=_removeQueuedEvent(_running,eventId);if(!removed){removed=_removeQueuedEvent(_timedOut,eventId);toQueue=true;}if(removed){if(removed.to){clearTimeout(removed.to);removed.to=null;}var tm=_getTime()-removed.tm;if(completed){if(!toQueue){_debugLog("Promise ["+eventId+"] Complete -- "+tm+" ms");}else{_warnLog("Timed out event ["+eventId+"] finally complete -- "+tm+" ms");}}else{_timedOut.push(removed);_warnLog("Event ["+eventId+"] Timed out and removed -- "+tm+" ms");}}else{_debugLog("Failed to remove ["+eventId+"] from running queue");}if(_lastEvent&&_lastEvent.id===eventId){_lastEvent=null;}_abortAndRemoveOldEvents(_running);_abortAndRemoveOldEvents(_waiting);_abortAndRemoveOldEvents(_timedOut);}function _removeScheduledEvent(eventId,callback){return function(value){_cleanup(eventId,true);callback&&callback(value);return value;};}function _waitForFinalResult(eventId,startResult,schEventResolve,schEventReject){startResult.then(function(value){if(value instanceof ESPromise_default){_debugLog("Event ["+eventId+"] returned a promise -- waiting");_waitForFinalResult(eventId,value,schEventResolve,schEventReject);return value;}else{return _removeScheduledEvent(eventId,schEventResolve)(value);}},_removeScheduledEvent(eventId,schEventReject));}function _createScheduledEvent(eventDetails,startEvent){var eventId=eventDetails.id;return new ESPromise_default(function(schEventResolve,schEventReject){_debugLog("Event ["+eventId+"] Starting -- waited for "+(eventDetails.wTm||"--")+" ms");eventDetails.isRunning=true;eventDetails.abort=function(message){eventDetails.abort=null;eventDetails.isAborted=true;_cleanup(eventId,false);schEventReject(new Error(message));};var startResult=startEvent(eventId);if(startResult instanceof ESPromise_default){if(timeout){eventDetails.to=setTimeout(function(){_cleanup(eventId,false);schEventReject(new Error("Timed out after ["+timeout+"] ms"));},timeout);}_waitForFinalResult(eventId,startResult,function(theResult){_debugLog("Event ["+eventId+"] Resolving after "+(_getTime()-eventDetails.tm)+" ms");schEventResolve(theResult);},schEventReject);}else{_debugLog("Promise ["+eventId+"] Auto completed as the start action did not return a promise");schEventResolve();}});}function _startWaitingEvent(eventDetails){var now=_getTime();eventDetails.wTm=now-eventDetails.tm;eventDetails.tm=now;if(eventDetails.isAborted){return ESPromise_default.reject(new Error("["+uniqueId+"] was aborted"));}_running.push(eventDetails);return _createScheduledEvent(eventDetails,startEventAction);}function _waitForPreviousEvent(eventDetails,waitForEvent){var waitEvent=new ESPromise_default(function(waitResolve,waitReject){var runTime=_getTime()-waitForEvent.tm;var prevId=waitForEvent.id;_debugLog("["+uniqueId+"] is waiting for ["+prevId+":"+runTime+" ms] to complete before starting -- ["+_waiting.length+"] waiting and ["+_running.length+"] running");eventDetails.abort=function(message){eventDetails.abort=null;_removeQueuedEvent(_waiting,uniqueId);eventDetails.isAborted=true;waitReject(new Error(message));};waitForEvent.evt.then(function(value){_removeQueuedEvent(_waiting,uniqueId);_startWaitingEvent(eventDetails).then(waitResolve,waitReject);},function(reason){_removeQueuedEvent(_waiting,uniqueId);_startWaitingEvent(eventDetails).then(waitResolve,waitReject);});});_waiting.push(eventDetails);return waitEvent;}};function _removeQueuedEvent(queue,eventId){for(var lp=0;lp<queue.length;lp++){if(queue[lp].id===eventId){return queue.splice(lp,1)[0];}}return null;}});function _debugLog(message){var global2=_getGlobal();if(global2&&global2["QUnit"]){console&&console.log("ESPromiseScheduler["+_scheduledName+"] "+message);}}function _warnLog(message){diagLog&&diagLog.warnToConsole("ESPromiseScheduler["+_scheduledName+"] "+message);}}ESPromiseScheduler2.incomplete=function(){return _running;};ESPromiseScheduler2.waitingToStart=function(){return _waiting;};return ESPromiseScheduler2;}();ESPromiseScheduler_default=ESPromiseScheduler;}});// client/node_modules/@microsoft/1ds-core-js/dist-esm/src/ValueSanitizer.js
var _ValueSanitizer;var init_ValueSanitizer=__esm({"client/node_modules/@microsoft/1ds-core-js/dist-esm/src/ValueSanitizer.js":function clientNode_modulesMicrosoft1dsCoreJsDistEsmSrcValueSanitizerJs(){init_applicationinsights_core_js();init_Utils();_ValueSanitizer=function(){function ValueSanitizer2(fieldSanitizerProvider){var _self=this;var _sanitizerMap={};var _sanitizers=[];var _fieldSanitizers=[];if(fieldSanitizerProvider){_fieldSanitizers.push(fieldSanitizerProvider);}function _getFieldSanitizer(path,name){var result;var fieldLookup=_sanitizerMap[path];if(fieldLookup){result=fieldLookup[name];}if(!result&&result!==null){if(_isString(path)&&_isString(name)){if(_fieldSanitizers.length>0){for(var lp=0;lp<_fieldSanitizers.length;lp++){if(_fieldSanitizers[lp].handleField(path,name)){result={canHandle:true,fieldHandler:_fieldSanitizers[lp]};break;}}}else if(_sanitizers.length===0){result={canHandle:true};}}if(!result&&result!==null){result=null;for(var lp=0;lp<_sanitizers.length;lp++){if(_sanitizers[lp].handleField(path,name)){result={canHandle:true,handler:_sanitizers[lp],fieldHandler:null};break;}}}if(!fieldLookup){fieldLookup=_sanitizerMap[path]={};}fieldLookup[name]=result;}return result;}_self.addSanitizer=function(newSanitizer){if(newSanitizer){_sanitizers.push(newSanitizer);_sanitizerMap={};}};_self.addFieldSanitizer=function(fieldSanitizer){if(fieldSanitizer){_fieldSanitizers.push(fieldSanitizer);_sanitizerMap={};}};_self.handleField=function(path,name){var mapValue=_getFieldSanitizer(path,name);return mapValue?mapValue.canHandle:false;};_self.value=function(path,name,value,stringifyObjects){var mapValue=_getFieldSanitizer(path,name);if(mapValue&&mapValue.canHandle){if(!mapValue||!mapValue.canHandle){return null;}if(mapValue.handler){return mapValue.handler.value(path,name,value,stringifyObjects);}if(!_isString(name)||_isNullOrUndefined(value)||value===""){return null;}var property=null;var fieldType=_getFieldValueType(value);if((fieldType&8192)===8192){var subType=fieldType&~8192;property=value;if(!_isValueAssigned(property.value)||subType!==1&&subType!==2&&subType!==3&&(subType&4096)!==4096){return null;}}else if(fieldType===1||fieldType===2||fieldType===3||(fieldType&4096)===4096){property=_convertToProperty(path,name,value);}else if(fieldType===4){property=_convertToProperty(path,name,!!stringifyObjects?JSON.stringify(value):value);}if(property){return _handleProperty(mapValue,path,name,fieldType,property,stringifyObjects);}}return null;};_self.property=function(path,name,property,stringifyObjects){var mapValue=_getFieldSanitizer(path,name);if(!mapValue||!mapValue.canHandle){return null;}if(!_isString(name)||_isNullOrUndefined(property)||!_isValueAssigned(property.value)){return null;}var fieldType=_getFieldValueType(property.value);if(fieldType===0){return null;}return _handleProperty(mapValue,path,name,fieldType,property,stringifyObjects);};function _handleProperty(mapValue,path,name,fieldType,property,stringifyObjects){if(mapValue.handler){return mapValue.handler.property(path,name,property,stringifyObjects);}if(!_isNullOrUndefined(property.kind)){if((fieldType&4096)===4096||!_isValueKind(property.kind)){return null;}property.value=property.value.toString();}return _callFieldSanitizer(mapValue.fieldHandler,path,name,fieldType,property);}function _convertToProperty(path,name,value){if(_isValueAssigned(value)){return{value:value};}return null;}function _callFieldSanitizer(fieldProvider,path,name,theType,property){if(property&&fieldProvider){var sanitizer=fieldProvider.getSanitizer(path,name,theType,property.kind,property.propertyType);if(sanitizer){if(theType===4){var newValue_1={};var propValue=property.value;_objForEachKey(propValue,function(propKey,theValue){var newPath=path+"."+name;if(_isValueAssigned(theValue)){var newProp=_convertToProperty(newPath,propKey,theValue);newProp=_callFieldSanitizer(fieldProvider,newPath,propKey,_getFieldValueType(theValue),newProp);if(newProp){newValue_1[propKey]=newProp.value;}}});property.value=newValue_1;}else{var details={path:path,name:name,type:theType,prop:property,sanitizer:_self};property=sanitizer.call(_self,details);}}}return property;}}ValueSanitizer2.getFieldType=_getFieldValueType;return ValueSanitizer2;}();}});// client/node_modules/@microsoft/1ds-core-js/dist-esm/src/Index.js
var Index_exports={};__export(Index_exports,{AppInsightsCore:function AppInsightsCore(){return AppInsightsCore_default;},BaseCore:function BaseCore(){return BaseCore_default;},BaseTelemetryPlugin:function BaseTelemetryPlugin(){return _BaseTelemetryPlugin;},CoreUtils:function CoreUtils(){return CoreUtils2;},DiagnosticLogger:function DiagnosticLogger(){return _DiagnosticLogger;},ESPromise:function ESPromise(){return ESPromise_default;},ESPromiseScheduler:function ESPromiseScheduler(){return ESPromiseScheduler_default;},EventHelper:function EventHelper(){return _EventHelper;},EventLatency:function EventLatency(){return _EventLatency;},EventPersistence:function EventPersistence(){return _EventPersistence;},EventPropertyType:function EventPropertyType(){return _EventPropertyType;},EventsDiscardedReason:function EventsDiscardedReason(){return _EventsDiscardedReason;},FullVersionString:function FullVersionString(){return _FullVersionString;},InternalAppInsightsCore:function InternalAppInsightsCore(){return AppInsightsCore;},InternalBaseCore:function InternalBaseCore(){return BaseCore;},LoggingSeverity:function LoggingSeverity(){return _LoggingSeverity;},MinChannelPriorty:function MinChannelPriorty(){return _MinChannelPriorty;},NotificationManager:function NotificationManager(){return _NotificationManager;},PerfEvent:function PerfEvent(){return _PerfEvent;},PerfManager:function PerfManager(){return _PerfManager;},ProcessTelemetryContext:function ProcessTelemetryContext(){return _ProcessTelemetryContext;},TraceLevel:function TraceLevel(){return _TraceLevel;},Undefined:function Undefined(){return strShimUndefined;},Utils:function Utils(){return _Utils;},ValueKind:function ValueKind(){return _ValueKind;},ValueSanitizer:function ValueSanitizer(){return _ValueSanitizer;},Version:function Version(){return _Version;},_ExtendedInternalMessageId:function _ExtendedInternalMessageId(){return _ExtendedInternalMessageId2;},_InternalLogMessage:function _InternalLogMessage(){return _InternalLogMessage3;},_InternalMessageId:function _InternalMessageId(){return _InternalMessageId2;},__getRegisteredEvents:function __getRegisteredEvents(){return _getRegisteredEvents2;},_throwInternal:function _throwInternal(){return _throwInternal2;},addEventHandler:function addEventHandler(){return _addEventHandler;},addEventListeners:function addEventListeners(){return _addEventListeners2;},addPageHideEventListener:function addPageHideEventListener(){return _addPageHideEventListener;},addPageShowEventListener:function addPageShowEventListener(){return _addPageShowEventListener;},addPageUnloadEventListener:function addPageUnloadEventListener(){return _addPageUnloadEventListener;},areCookiesSupported:function areCookiesSupported(){return _areCookiesSupported;},arrForEach:function arrForEach(){return _arrForEach;},arrIndexOf:function arrIndexOf(){return _arrIndexOf;},arrMap:function arrMap(){return _arrMap;},arrReduce:function arrReduce(){return _arrReduce;},attachEvent:function attachEvent(){return _attachEvent;},cookieAvailable:function cookieAvailable(){return _areCookiesSupported;},createCookieMgr:function createCookieMgr(){return _createCookieMgr;},createEnumStyle:function createEnumStyle(){return _createEnumStyle;},createGuid:function createGuid(){return _createGuid;},createProcessTelemetryContext:function createProcessTelemetryContext(){return _createProcessTelemetryContext;},createTraceParent:function createTraceParent(){return _createTraceParent;},createUniqueNamespace:function createUniqueNamespace(){return _createUniqueNamespace;},createUnloadHandlerContainer:function createUnloadHandlerContainer(){return _createUnloadHandlerContainer;},dateNow:function dateNow(){return _dateNow;},deleteCookie:function deleteCookie(){return deleteCookie2;},detachEvent:function detachEvent(){return _detachEvent;},disableCookies:function disableCookies(){return disableCookies2;},disallowsSameSiteNone:function disallowsSameSiteNone(){return uaDisallowsSameSiteNone;},doPerf:function doPerf(){return _doPerf;},dumpObj:function dumpObj(){return _dumpObj;},eventOff:function eventOff(){return _eventOff;},eventOn:function eventOn(){return _eventOn;},extend:function extend(){return _extend;},findW3cTraceParent:function findW3cTraceParent(){return _findW3cTraceParent;},formatTraceParent:function formatTraceParent(){return _formatTraceParent;},generateW3CId:function generateW3CId(){return _generateW3CId;},getCommonSchemaMetaData:function getCommonSchemaMetaData(){return _getCommonSchemaMetaData;},getConsole:function getConsole(){return _getConsole;},getCookie:function getCookie(){return getCookie2;},getCookieValue:function getCookieValue(){return _getCookieValue2;},getCrypto:function getCrypto(){return _getCrypto;},getDocument:function getDocument(){return _getDocument;},getExceptionName:function getExceptionName(){return _getExceptionName;},getFieldValueType:function getFieldValueType(){return _getFieldValueType;},getGlobal:function getGlobal(){return _getGlobal;},getGlobalInst:function getGlobalInst(){return _getGlobalInst;},getHistory:function getHistory(){return _getHistory;},getIEVersion:function getIEVersion(){return _getIEVersion;},getISOString:function getISOString(){return _toISOString;},getJSON:function getJSON(){return _getJSON;},getLocation:function getLocation(){return _getLocation;},getMsCrypto:function getMsCrypto(){return _getMsCrypto;},getNavigator:function getNavigator(){return _getNavigator;},getPerformance:function getPerformance(){return _getPerformance;},getSetValue:function getSetValue(){return _getSetValue;},getTenantId:function getTenantId(){return _getTenantId;},getTime:function getTime(){return _getTime2;},getWindow:function getWindow(){return _getWindow;},hasDocument:function hasDocument(){return _hasDocument;},hasHistory:function hasHistory(){return _hasHistory;},hasJSON:function hasJSON(){return _hasJSON;},hasNavigator:function hasNavigator(){return _hasNavigator;},hasOwnProperty:function hasOwnProperty(){return _hasOwnProperty2;},hasWindow:function hasWindow(){return _hasWindow;},isArray:function isArray(){return _isArray2;},isArrayValid:function isArrayValid(){return _isArrayValid;},isBeaconsSupported:function isBeaconsSupported(){return _isBeaconsSupported;},isBoolean:function isBoolean(){return _isBoolean;},isChromium:function isChromium(){return _isChromium;},isDate:function isDate(){return _isDate;},isDocumentObjectAvailable:function isDocumentObjectAvailable(){return _isDocumentObjectAvailable;},isError:function isError(){return _isError;},isFetchSupported:function isFetchSupported(){return _isFetchSupported;},isFunction:function isFunction(){return _isFunction2;},isIE:function isIE(){return _isIE2;},isLatency:function isLatency(){return _isLatency;},isNotTruthy:function isNotTruthy(){return _isNotTruthy;},isNullOrUndefined:function isNullOrUndefined(){return _isNullOrUndefined;},isNumber:function isNumber(){return _isNumber;},isObject:function isObject(){return _isObject;},isReactNative:function isReactNative(){return _isReactNative;},isSampledFlag:function isSampledFlag(){return _isSampledFlag;},isString:function isString(){return _isString;},isTruthy:function isTruthy(){return _isTruthy;},isTypeof:function isTypeof(){return _isTypeof;},isUint8ArrayAvailable:function isUint8ArrayAvailable(){return _isUint8ArrayAvailable;},isUndefined:function isUndefined(){return _isUndefined;},isValidSpanId:function isValidSpanId(){return _isValidSpanId;},isValidTraceId:function isValidTraceId(){return _isValidTraceId;},isValidTraceParent:function isValidTraceParent(){return _isValidTraceParent;},isValueAssigned:function isValueAssigned(){return _isValueAssigned;},isValueKind:function isValueKind(){return _isValueKind;},isWindowObjectAvailable:function isWindowObjectAvailable(){return _isWindowObjectAvailable;},isXhrSupported:function isXhrSupported(){return _isXhrSupported;},mergeEvtNamespace:function mergeEvtNamespace(){return _mergeEvtNamespace;},newGuid:function newGuid(){return _newGuid;},newId:function newId(){return _newId;},normalizeJsName:function normalizeJsName(){return _normalizeJsName;},objCreate:function objCreate(){return objCreateFn;},objDefineAccessors:function objDefineAccessors(){return _objDefineAccessors;},objForEachKey:function objForEachKey(){return _objForEachKey;},objFreeze:function objFreeze(){return _objFreeze2;},objKeys:function objKeys(){return _objKeys2;},objSeal:function objSeal(){return _objSeal2;},openXhr:function openXhr(){return _openXhr;},optimizeObject:function optimizeObject(){return _optimizeObject2;},parseTraceParent:function parseTraceParent(){return _parseTraceParent;},perfNow:function perfNow(){return _perfNow;},proxyAssign:function proxyAssign(){return _proxyAssign;},proxyFunctionAs:function proxyFunctionAs(){return _proxyFunctionAs;},proxyFunctions:function proxyFunctions(){return _proxyFunctions;},random32:function random32(){return _random;},randomValue:function randomValue(){return _randomValue;},removeEventHandler:function removeEventHandler(){return _removeEventHandler;},removeEventListeners:function removeEventListeners(){return _removeEventListeners;},removePageHideEventListener:function removePageHideEventListener(){return _removePageHideEventListener;},removePageShowEventListener:function removePageShowEventListener(){return _removePageShowEventListener;},removePageUnloadEventListener:function removePageUnloadEventListener(){return _removePageUnloadEventListener;},safeGetCookieMgr:function safeGetCookieMgr(){return _safeGetCookieMgr;},safeGetLogger:function safeGetLogger(){return _safeGetLogger;},sanitizeProperty:function sanitizeProperty(){return _sanitizeProperty;},setCookie:function setCookie(){return setCookie2;},setEnableEnvMocks:function setEnableEnvMocks(){return _setEnableEnvMocks;},setProcessTelemetryTimings:function setProcessTelemetryTimings(){return _setProcessTelemetryTimings;},setValue:function setValue(){return _setValue;},strContains:function strContains(){return _strContains;},strEndsWith:function strEndsWith(){return _strEndsWith2;},strFunction:function strFunction(){return strShimFunction;},strObject:function strObject(){return strShimObject;},strPrototype:function strPrototype(){return strShimPrototype;},strStartsWith:function strStartsWith(){return _strStartsWith2;},strTrim:function strTrim(){return _strTrim2;},strUndefined:function strUndefined(){return strShimUndefined;},throwError:function throwError(){return _throwError;},toISOString:function toISOString(){return _toISOString;},useXDomainRequest:function useXDomainRequest(){return _useXDomainRequest2;}});var init_Index=__esm({"client/node_modules/@microsoft/1ds-core-js/dist-esm/src/Index.js":function clientNode_modulesMicrosoft1dsCoreJsDistEsmSrcIndexJs(){init_Enums();init_AppInsightsCore2();init_BaseCore2();init_ESPromise();init_ESPromiseScheduler();init_ValueSanitizer();init_applicationinsights_core_js();init_Utils();}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/DataModels.js
var _RT_PROFILE,_NRT_PROFILE,_BE_PROFILE;var init_DataModels=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/DataModels.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcDataModelsJs(){_RT_PROFILE="REAL_TIME";_NRT_PROFILE="NEAR_REAL_TIME";_BE_PROFILE="BEST_EFFORT";}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/Constants.js
var Method,DisabledPropertyName,strDropped,strSending,strRequeue,strResponseFail,strOther,defaultCacheControl,defaultContentType,strCacheControl,strContentTypeHeader,strKillTokensHeader,strKillDurationHeader,strKillDurationSecondsHeader,strTimeDeltaHeader,strClientVersion,strClientId,strTimeDeltaToApply,strUploadTime,strApiKey,strMsaDeviceTicket,strAuthXToken,strNoResponseBody,strMsfpc;var init_Constants3=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/Constants.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcConstantsJs(){Method="POST";DisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";strDropped="drop";strSending="send";strRequeue="requeue";strResponseFail="rspFail";strOther="oth";defaultCacheControl="no-cache, no-store";defaultContentType="application/x-json-stream";strCacheControl="cache-control";strContentTypeHeader="content-type";strKillTokensHeader="kill-tokens";strKillDurationHeader="kill-duration";strKillDurationSecondsHeader="kill-duration-seconds";strTimeDeltaHeader="time-delta-millis";strClientVersion="client-version";strClientId="client-id";strTimeDeltaToApply="time-delta-to-apply-millis";strUploadTime="upload-time";strApiKey="apikey";strMsaDeviceTicket="AuthMsaDeviceTicket";strAuthXToken="AuthXToken";strNoResponseBody="NoResponseBody";strMsfpc="msfpc";}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/EventBatch.js
function _getEventMsfpc(theEvent){var intWeb=(theEvent.ext||{})["intweb"];if(intWeb&&_isValueAssigned(intWeb[strMsfpc])){return intWeb[strMsfpc];}return null;}function _getMsfpc(theEvents){var msfpc=null;for(var lp=0;msfpc===null&&lp<theEvents.length;lp++){msfpc=_getEventMsfpc(theEvents[lp]);}return msfpc;}var EventBatch;var init_EventBatch=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/EventBatch.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcEventBatchJs(){init_Index();init_Constants3();EventBatch=function(){function EventBatch2(iKey,addEvents){var events=addEvents?[].concat(addEvents):[];var _self=this;var _msfpc=_getMsfpc(events);_self.iKey=function(){return iKey;};_self.Msfpc=function(){return _msfpc||"";};_self.count=function(){return events.length;};_self.events=function(){return events;};_self.addEvent=function(theEvent){if(theEvent){events.push(theEvent);if(!_msfpc){_msfpc=_getEventMsfpc(theEvent);}return true;}return false;};_self.split=function(fromEvent,numEvents){var theEvents;if(fromEvent<events.length){var cnt=events.length-fromEvent;if(!_isNullOrUndefined(numEvents)){cnt=numEvents<cnt?numEvents:cnt;}theEvents=events.splice(fromEvent,cnt);_msfpc=_getMsfpc(events);}return new EventBatch2(iKey,theEvents);};}EventBatch2.create=function(iKey,theEvents){return new EventBatch2(iKey,theEvents);};return EventBatch2;}();}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/Serializer.js
function _addJSONPropertyMetaData(json,propKeys,name,propertyValue){if(propertyValue&&json){var encodedTypeValue=_getCommonSchemaMetaData(propertyValue.value,propertyValue.kind,propertyValue.propertyType);if(encodedTypeValue>-1){var metaData=json[metadata];if(!metaData){metaData=json[metadata]={f:{}};}var metaTarget=metaData[f];if(!metaTarget){metaTarget=metaData[f]={};}if(propKeys){for(var lp=0;lp<propKeys.length;lp++){var key=propKeys[lp];if(!metaTarget[key]){metaTarget[key]={f:{}};}var newTarget=metaTarget[key][f];if(!newTarget){newTarget=metaTarget[key][f]={};}metaTarget=newTarget;}}metaTarget=metaTarget[name]={};if(_isArray2(propertyValue.value)){metaTarget["a"]={t:encodedTypeValue};}else{metaTarget["t"]=encodedTypeValue;}}}}var _MAX_STRING_JOINS,RequestSizeLimitBytes,BeaconRequestSizeLimitBytes,MaxRecordSize,MaxBeaconRecordSize,metadata,f,rCheckDot,Serializer;var init_Serializer=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/Serializer.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcSerializerJs(){init_Index();init_EventBatch();init_dynamicproto_js();_MAX_STRING_JOINS=20;RequestSizeLimitBytes=3984588;BeaconRequestSizeLimitBytes=65e3;MaxRecordSize=2e6;MaxBeaconRecordSize=Math.min(MaxRecordSize,BeaconRequestSizeLimitBytes);metadata="metadata";f="f";rCheckDot=/\./;Serializer=function(){function Serializer2(perfManager,valueSanitizer,stringifyObjects,enableCompoundKey){var strData="data";var strBaseData="baseData";var strExt="ext";var _checkForCompoundkey=!!enableCompoundKey;var _processSubMetaData=true;var _theSanitizer=valueSanitizer;var _isReservedCache={};dynamicProto(Serializer2,this,function(_self){_self.createPayload=function(retryCnt,isTeardown,isSync,useSendBeacon,sendReason,sendType){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:retryCnt,isTeardown:isTeardown,isSync:isSync,isBeacon:useSendBeacon,sendType:sendType,sendReason:sendReason};};_self.appendPayload=function(payload,theBatch,maxEventsPerBatch){var canAddEvents=payload&&theBatch&&!payload.overflow;if(canAddEvents){_doPerf(perfManager,function(){return"Serializer:appendPayload";},function(){var theEvents=theBatch.events();var payloadBlob=payload.payloadBlob;var payloadEvents=payload.numEvents;var eventsAdded=false;var sizeExceeded=[];var failedEvts=[];var isBeaconPayload=payload.isBeacon;var requestMaxSize=isBeaconPayload?BeaconRequestSizeLimitBytes:RequestSizeLimitBytes;var recordMaxSize=isBeaconPayload?MaxBeaconRecordSize:MaxRecordSize;var lp=0;var joinCount=0;while(lp<theEvents.length){var theEvent=theEvents[lp];if(theEvent){if(payloadEvents>=maxEventsPerBatch){payload.overflow=theBatch.split(lp);break;}var eventBlob=_self.getEventBlob(theEvent);if(eventBlob&&eventBlob.length<=recordMaxSize){var blobLength=eventBlob.length;var currentSize=payloadBlob.length;if(currentSize+blobLength>requestMaxSize){payload.overflow=theBatch.split(lp);break;}if(payloadBlob){payloadBlob+="\n";}payloadBlob+=eventBlob;joinCount++;if(joinCount>_MAX_STRING_JOINS){payloadBlob.substr(0,1);joinCount=0;}eventsAdded=true;payloadEvents++;}else{if(eventBlob){sizeExceeded.push(theEvent);}else{failedEvts.push(theEvent);}theEvents.splice(lp,1);lp--;}}lp++;}if(sizeExceeded&&sizeExceeded.length>0){payload.sizeExceed.push(EventBatch.create(theBatch.iKey(),sizeExceeded));}if(failedEvts&&failedEvts.length>0){payload.failedEvts.push(EventBatch.create(theBatch.iKey(),failedEvts));}if(eventsAdded){payload.batches.push(theBatch);payload.payloadBlob=payloadBlob;payload.numEvents=payloadEvents;var apiKey=theBatch.iKey();if(_arrIndexOf(payload.apiKeys,apiKey)===-1){payload.apiKeys.push(apiKey);}}},function(){return{payload:payload,theBatch:{iKey:theBatch.iKey(),evts:theBatch.events()},max:maxEventsPerBatch};});}return canAddEvents;};_self.getEventBlob=function(eventData){try{return _doPerf(perfManager,function(){return"Serializer.getEventBlob";},function(){var serializedEvent={};serializedEvent.name=eventData.name;serializedEvent.time=eventData.time;serializedEvent.ver=eventData.ver;serializedEvent.iKey="o:"+_getTenantId(eventData.iKey);var serializedExt={};var eventExt=eventData[strExt];if(eventExt){serializedEvent[strExt]=serializedExt;_objForEachKey(eventExt,function(key,value){var data=serializedExt[key]={};_processPathKeys(value,data,"ext."+key,true,null,null,true);});}var serializedData=serializedEvent[strData]={};serializedData.baseType=eventData.baseType;var serializedBaseData=serializedData[strBaseData]={};_processPathKeys(eventData.baseData,serializedBaseData,strBaseData,false,[strBaseData],function(pathKeys,name,value){_addJSONPropertyMetaData(serializedExt,pathKeys,name,value);},_processSubMetaData);_processPathKeys(eventData.data,serializedData,strData,false,[],function(pathKeys,name,value){_addJSONPropertyMetaData(serializedExt,pathKeys,name,value);},_processSubMetaData);return JSON.stringify(serializedEvent);},function(){return{item:eventData};});}catch(e){return null;}};function _isReservedField(path,name){var result=_isReservedCache[path];if(result===void 0){if(path.length>=7){result=_strStartsWith2(path,"ext.metadata")||_strStartsWith2(path,"ext.web");}_isReservedCache[path]=result;}return result;}function _processPathKeys(srcObj,target,thePath,checkReserved,metadataPathKeys,metadataCallback,processSubKeys){_objForEachKey(srcObj,function(key,srcValue){var prop=null;if(srcValue||_isValueAssigned(srcValue)){var path=thePath;var name_1=key;var theMetaPathKeys=metadataPathKeys;var destObj=target;if(_checkForCompoundkey&&!checkReserved&&rCheckDot.test(key)){var subKeys=key.split(".");var keyLen=subKeys.length;if(keyLen>1){if(theMetaPathKeys){theMetaPathKeys=theMetaPathKeys.slice();}for(var lp=0;lp<keyLen-1;lp++){var subKey=subKeys[lp];destObj=destObj[subKey]=destObj[subKey]||{};path+="."+subKey;if(theMetaPathKeys){theMetaPathKeys.push(subKey);}}name_1=subKeys[keyLen-1];}}var isReserved=checkReserved&&_isReservedField(path,name_1);if(!isReserved&&_theSanitizer&&_theSanitizer.handleField(path,name_1)){prop=_theSanitizer.value(path,name_1,srcValue,stringifyObjects);}else{prop=_sanitizeProperty(name_1,srcValue,stringifyObjects);}if(prop){var newValue=prop.value;destObj[name_1]=newValue;if(metadataCallback){metadataCallback(theMetaPathKeys,name_1,prop);}if(processSubKeys&&_typeof(newValue)==="object"&&!_isArray2(newValue)){var newPath=theMetaPathKeys;if(newPath){newPath=newPath.slice();newPath.push(name_1);}_processPathKeys(srcValue,newValue,path+"."+name_1,checkReserved,newPath,metadataCallback,processSubKeys);}}}});}});}return Serializer2;}();}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/RetryPolicy.js
function retryPolicyShouldRetryForStatus(httpStatusCode){return!(httpStatusCode>=300&&httpStatusCode<500&&httpStatusCode!=408&&httpStatusCode!=429||httpStatusCode==501||httpStatusCode==505);}function retryPolicyGetMillisToBackoffForRetry(retriesSoFar){var waitDuration=0;var minBackoff=BaseBackoff*RandomizationLowerThreshold;var maxBackoff=BaseBackoff*RandomizationUpperThreshold;var randomBackoff=Math.floor(Math.random()*(maxBackoff-minBackoff))+minBackoff;waitDuration=Math.pow(2,retriesSoFar)*randomBackoff;return Math.min(waitDuration,MaxBackoff);}var RandomizationLowerThreshold,RandomizationUpperThreshold,BaseBackoff,MaxBackoff;var init_RetryPolicy=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/RetryPolicy.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcRetryPolicyJs(){RandomizationLowerThreshold=0.8;RandomizationUpperThreshold=1.2;BaseBackoff=3e3;MaxBackoff=6e5;}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/KillSwitch.js
var SecToMsMultiplier,KillSwitch,KillSwitch_default;var init_KillSwitch=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/KillSwitch.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcKillSwitchJs(){init_dynamicproto_js();init_Index();SecToMsMultiplier=1e3;KillSwitch=function(){function KillSwitch2(){var _killedTokenDictionary={};function _normalizeTenants(values){var result=[];if(values){_arrForEach(values,function(value){result.push(_strTrim2(value));});}return result;}dynamicProto(KillSwitch2,this,function(_self){_self.setKillSwitchTenants=function(killTokens,killDuration){if(killTokens&&killDuration){try{var killedTokens=_normalizeTenants(killTokens.split(","));if(killDuration==="this-request-only"){return killedTokens;}var durationMs=parseInt(killDuration,10)*SecToMsMultiplier;for(var i=0;i<killedTokens.length;++i){_killedTokenDictionary[killedTokens[i]]=_dateNow()+durationMs;}}catch(ex){return[];}}return[];};_self.isTenantKilled=function(tenantToken){var killDictionary=_killedTokenDictionary;var name=_strTrim2(tenantToken);if(killDictionary[name]!==void 0&&killDictionary[name]>_dateNow()){return true;}delete killDictionary[name];return false;};});}return KillSwitch2;}();KillSwitch_default=KillSwitch;}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/ClockSkewManager.js
var ClockSkewManager,ClockSkewManager_default;var init_ClockSkewManager=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/ClockSkewManager.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcClockSkewManagerJs(){init_dynamicproto_js();ClockSkewManager=function(){function ClockSkewManager2(){var _allowRequestSending=true;var _shouldAddClockSkewHeaders=true;var _isFirstRequest=true;var _clockSkewHeaderValue="use-collector-delta";var _clockSkewSet=false;dynamicProto(ClockSkewManager2,this,function(_self){_self.allowRequestSending=function(){return _allowRequestSending;};_self.firstRequestSent=function(){if(_isFirstRequest){_isFirstRequest=false;if(!_clockSkewSet){_allowRequestSending=false;}}};_self.shouldAddClockSkewHeaders=function(){return _shouldAddClockSkewHeaders;};_self.getClockSkewHeaderValue=function(){return _clockSkewHeaderValue;};_self.setClockSkew=function(timeDeltaInMillis){if(!_clockSkewSet){if(timeDeltaInMillis){_clockSkewHeaderValue=timeDeltaInMillis;_shouldAddClockSkewHeaders=true;_clockSkewSet=true;}else{_shouldAddClockSkewHeaders=false;}_allowRequestSending=true;}};});}return ClockSkewManager2;}();ClockSkewManager_default=ClockSkewManager;}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/HttpManager.js
function _addCollectorHeaderQsMapping(qsName,headerName,allowQs){_collectorQsHeaders[qsName]=headerName;if(allowQs!==false){_collectorHeaderToQs[headerName]=qsName;}}function _getResponseText(xhr){try{return xhr.responseText;}catch(e){}return"";}function _hasHeader(headers,header){var hasHeader=false;if(headers&&header){var keys=_objKeys2(headers);if(keys&&keys.length>0){var lowerHeader=header.toLowerCase();for(var lp=0;lp<keys.length;lp++){var value=keys[lp];if(value&&_hasOwnProperty2(header,value)&&value.toLowerCase()===lowerHeader){hasHeader=true;break;}}}}return hasHeader;}function _addRequestDetails(details,name,value,useHeaders){if(name&&value&&value.length>0){if(useHeaders&&_collectorQsHeaders[name]){details.hdrs[_collectorQsHeaders[name]]=value;details.useHdrs=true;}else{details.url+="&"+name+"="+value;}}}var _a2,strSendAttempt,_noResponseQs,_eventActionMap,_collectorQsHeaders,_collectorHeaderToQs,HttpManager;var init_HttpManager=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/HttpManager.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcHttpManagerJs(){init_Index();init_Serializer();init_RetryPolicy();init_KillSwitch();init_ClockSkewManager();init_dynamicproto_js();init_Constants3();strSendAttempt="sendAttempt";_noResponseQs="&"+strNoResponseBody+"=true";_eventActionMap=(_a2={},_a2[1]=strRequeue,_a2[100]=strRequeue,_a2[200]="sent",_a2[8004]=strDropped,_a2[8003]=strDropped,_a2);_collectorQsHeaders={};_collectorHeaderToQs={};_addCollectorHeaderQsMapping(strMsaDeviceTicket,strMsaDeviceTicket,false);_addCollectorHeaderQsMapping(strClientVersion,strClientVersion);_addCollectorHeaderQsMapping(strClientId,"Client-Id");_addCollectorHeaderQsMapping(strApiKey,strApiKey);_addCollectorHeaderQsMapping(strTimeDeltaToApply,strTimeDeltaToApply);_addCollectorHeaderQsMapping(strUploadTime,strUploadTime);_addCollectorHeaderQsMapping(strAuthXToken,strAuthXToken);HttpManager=function(){function HttpManager2(maxEventsPerBatch,maxConnections,maxRequestRetriesBeforeBackoff,actions,timeoutOverride){this._responseHandlers=[];var _urlString="?cors=true&"+strContentTypeHeader.toLowerCase()+"="+defaultContentType;var _killSwitch=new KillSwitch_default();var _paused=false;var _clockSkewManager=new ClockSkewManager_default();var _useBeacons=false;var _outstandingRequests=0;var _postManager;var _sendInterfaces;var _core;var _customHttpInterface=true;var _queryStringParameters=[];var _headers={};var _batchQueue=[];var _serializer=null;var _enableEventTimings=false;var _cookieMgr;var _isUnloading=false;var _useHeaders=false;var _xhrTimeout;var _disableXhrSync;dynamicProto(HttpManager2,this,function(_self){var _sendCredentials=true;_self.initialize=function(endpointUrl,core,postChannel,httpInterface,channelConfig){var _a4;if(!channelConfig){channelConfig={};}_urlString=endpointUrl+_urlString;_useHeaders=!_isUndefined(channelConfig.avoidOptions)?!channelConfig.avoidOptions:true;_core=core;_cookieMgr=core.getCookieMgr();_enableEventTimings=!_core.config.disableEventTimings;var enableCompoundKey=!!_core.config.enableCompoundKey;_postManager=postChannel;var valueSanitizer=channelConfig.valueSanitizer;var stringifyObjects=channelConfig.stringifyObjects;if(!_isUndefined(channelConfig.enableCompoundKey)){enableCompoundKey=!!channelConfig.enableCompoundKey;}_xhrTimeout=channelConfig.xhrTimeout;_disableXhrSync=channelConfig.disableXhrSync;_useBeacons=!_isReactNative();_serializer=new Serializer(_core,valueSanitizer,stringifyObjects,enableCompoundKey);var syncHttpInterface=httpInterface;var beaconHttpInterface=channelConfig.alwaysUseXhrOverride?httpInterface:null;var fetchSyncHttpInterface=channelConfig.alwaysUseXhrOverride?httpInterface:null;if(!httpInterface){_customHttpInterface=false;var location_1=_getLocation();if(location_1&&location_1.protocol&&location_1.protocol.toLowerCase()==="file:"){_sendCredentials=false;}var theTransports=[];if(_isReactNative()){theTransports=[2,1];}else{theTransports=[1,2,3];}var configTransports=channelConfig.transports;if(configTransports){if(_isNumber(configTransports)){theTransports=[configTransports].concat(theTransports);}else if(_isArray2(configTransports)){theTransports=configTransports.concat(theTransports);}}httpInterface=_getSenderInterface(theTransports,false);syncHttpInterface=_getSenderInterface(theTransports,true);if(!httpInterface){_postManager.diagLog().warnToConsole("No available transport to send events");}}_sendInterfaces=(_a4={},_a4[0]=httpInterface,_a4[1]=syncHttpInterface||_getSenderInterface([1,2,3],true),_a4[2]=beaconHttpInterface||_getSenderInterface([3,2],true)||syncHttpInterface||_getSenderInterface([1],true),_a4[3]=fetchSyncHttpInterface||_getSenderInterface([2,3],true)||syncHttpInterface||_getSenderInterface([1],true),_a4);};function _getSenderInterface(transports,syncSupport){var transportType=0;var sendPostFunc=null;var lp=0;while(sendPostFunc==null&&lp<transports.length){transportType=transports[lp];if(transportType===1){if(_useXDomainRequest2()){sendPostFunc=_xdrSendPost;}else if(_isXhrSupported()){sendPostFunc=_xhrSendPost;}}else if(transportType===2&&_isFetchSupported(syncSupport)){sendPostFunc=_fetchSendPost;}else if(_useBeacons&&transportType===3&&_isBeaconsSupported()){sendPostFunc=_beaconSendPost;}lp++;}if(sendPostFunc){return{_transport:transportType,_isSync:syncSupport,sendPOST:sendPostFunc};}return null;}_self["_getDbgPlgTargets"]=function(){return[_sendInterfaces[0],_killSwitch,_serializer,_sendInterfaces];};function _xdrSendPost(payload,oncomplete,sync){var xdr=new XDomainRequest();xdr.open(Method,payload.urlString);if(payload.timeout){xdr.timeout=payload.timeout;}xdr.onload=function(){var response=_getResponseText(xdr);_doOnComplete(oncomplete,200,{},response);_handleCollectorResponse(response);};xdr.onerror=function(){_doOnComplete(oncomplete,400,{});};xdr.ontimeout=function(){_doOnComplete(oncomplete,500,{});};xdr.onprogress=function(){};if(sync){xdr.send(payload.data);}else{timeoutOverride.set(function(){xdr.send(payload.data);},0);}}function _fetchSendPost(payload,oncomplete,sync){var _a4;var theUrl=payload.urlString;var ignoreResponse=false;var responseHandled=false;var requestInit=(_a4={body:payload.data,method:Method},_a4[DisabledPropertyName]=true,_a4);if(sync){requestInit.keepalive=true;if(payload._sendReason===2){ignoreResponse=true;theUrl+=_noResponseQs;}}if(_sendCredentials){requestInit.credentials="include";}if(payload.headers&&_objKeys2(payload.headers).length>0){requestInit.headers=payload.headers;}fetch(theUrl,requestInit).then(function(response){var headerMap={};var responseText="";if(response.headers){response.headers.forEach(function(value,name){headerMap[name]=value;});}if(response.body){response.text().then(function(text){responseText=text;});}if(!responseHandled){responseHandled=true;_doOnComplete(oncomplete,response.status,headerMap,responseText);_handleCollectorResponse(responseText);}})["catch"](function(error){if(!responseHandled){responseHandled=true;_doOnComplete(oncomplete,0,{});}});if(ignoreResponse&&!responseHandled){responseHandled=true;_doOnComplete(oncomplete,200,{});}if(!responseHandled&&payload.timeout>0){timeoutOverride.set(function(){if(!responseHandled){responseHandled=true;_doOnComplete(oncomplete,500,{});}},payload.timeout);}}function _xhrSendPost(payload,oncomplete,sync){var theUrl=payload.urlString;function _appendHeader(theHeaders,xhr,name){if(!theHeaders[name]&&xhr&&xhr.getResponseHeader){var value=xhr.getResponseHeader(name);if(value){theHeaders[name]=_strTrim2(value);}}return theHeaders;}function _getAllResponseHeaders(xhr){var theHeaders={};if(!xhr.getAllResponseHeaders){theHeaders=_appendHeader(theHeaders,xhr,strTimeDeltaHeader);theHeaders=_appendHeader(theHeaders,xhr,strKillDurationHeader);theHeaders=_appendHeader(theHeaders,xhr,strKillDurationSecondsHeader);}else{theHeaders=_convertAllHeadersToMap(xhr.getAllResponseHeaders());}return theHeaders;}function xhrComplete(xhr,responseTxt){_doOnComplete(oncomplete,xhr.status,_getAllResponseHeaders(xhr),responseTxt);}if(sync&&payload.disableXhrSync){sync=false;}var xhrRequest=_openXhr(Method,theUrl,_sendCredentials,true,sync,payload.timeout);_objForEachKey(payload.headers,function(name,value){xhrRequest.setRequestHeader(name,value);});xhrRequest.onload=function(){var response=_getResponseText(xhrRequest);xhrComplete(xhrRequest,response);_handleCollectorResponse(response);};xhrRequest.onerror=function(){xhrComplete(xhrRequest);};xhrRequest.ontimeout=function(){xhrComplete(xhrRequest);};xhrRequest.send(payload.data);}function _doOnComplete(oncomplete,status,headers,response){try{oncomplete(status,headers,response);}catch(e){_throwInternal2(_postManager.diagLog(),2,518,_dumpObj(e));}}function _beaconSendPost(payload,oncomplete,sync){var internalPayloadData=payload;var status=200;var thePayload=internalPayloadData._thePayload;var theUrl=payload.urlString+_noResponseQs;try{var nav_1=_getNavigator();if(!nav_1.sendBeacon(theUrl,payload.data)){if(thePayload){var droppedBatches_1=[];_arrForEach(thePayload.batches,function(theBatch){if(droppedBatches_1&&theBatch&&theBatch.count()>0){var theEvents=theBatch.events();for(var lp=0;lp<theEvents.length;lp++){if(!nav_1.sendBeacon(theUrl,_serializer.getEventBlob(theEvents[lp]))){droppedBatches_1.push(theBatch.split(lp));break;}}}else{droppedBatches_1.push(theBatch.split(0));}});_sendBatchesNotification(droppedBatches_1,8003,thePayload.sendType,true);}else{status=0;}}}catch(ex){_postManager.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+_dumpObj(ex));status=0;}finally{_doOnComplete(oncomplete,status,{},"");}}function _isBeaconPayload(sendType){return sendType===2||sendType===3;}function _adjustSendType(sendType){if(_isUnloading&&_isBeaconPayload(sendType)){sendType=2;}return sendType;}_self.addQueryStringParameter=function(name,value){for(var i=0;i<_queryStringParameters.length;i++){if(_queryStringParameters[i].name===name){_queryStringParameters[i].value=value;return;}}_queryStringParameters.push({name:name,value:value});};_self.addHeader=function(name,value){_headers[name]=value;};_self.canSendRequest=function(){return _hasIdleConnection()&&_clockSkewManager.allowRequestSending();};_self.sendQueuedRequests=function(sendType,sendReason){if(_isUndefined(sendType)){sendType=0;}if(_isUnloading){sendType=_adjustSendType(sendType);sendReason=2;}if(_canSendPayload(_batchQueue,sendType,0)){_sendBatches(_clearQueue(),0,false,sendType,sendReason||0);}};_self.isCompletelyIdle=function(){return!_paused&&_outstandingRequests===0&&_batchQueue.length===0;};_self.setUnloading=function(value){_isUnloading=value;};_self.addBatch=function(theBatch){if(theBatch&&theBatch.count()>0){if(_killSwitch.isTenantKilled(theBatch.iKey())){return false;}_batchQueue.push(theBatch);}return true;};_self.teardown=function(){if(_batchQueue.length>0){_sendBatches(_clearQueue(),0,true,2,2);}};_self.pause=function(){_paused=true;};_self.resume=function(){_paused=false;_self.sendQueuedRequests(0,4);};_self.sendSynchronousBatch=function(batch,sendType,sendReason){if(batch&&batch.count()>0){if(_isNullOrUndefined(sendType)){sendType=1;}if(_isUnloading){sendType=_adjustSendType(sendType);sendReason=2;}_sendBatches([batch],0,false,sendType,sendReason||0);}};function _hasIdleConnection(){return!_paused&&_outstandingRequests<maxConnections;}function _clearQueue(){var theQueue=_batchQueue;_batchQueue=[];return theQueue;}function _canSendPayload(theBatches,sendType,retryCnt){var result=false;if(theBatches&&theBatches.length>0&&!_paused&&_sendInterfaces[sendType]&&_serializer){result=sendType!==0||_hasIdleConnection()&&(retryCnt>0||_clockSkewManager.allowRequestSending());}return result;}function _createDebugBatches(theBatches){var values={};if(theBatches){_arrForEach(theBatches,function(theBatch,idx){values[idx]={iKey:theBatch.iKey(),evts:theBatch.events()};});}return values;}function _sendBatches(theBatches,retryCount,isTeardown,sendType,sendReason){if(!theBatches||theBatches.length===0){return;}if(_paused){_sendBatchesNotification(theBatches,1,sendType);return;}sendType=_adjustSendType(sendType);try{var orgBatches_1=theBatches;var isSynchronous_1=sendType!==0;_doPerf(_core,function(){return"HttpManager:_sendBatches";},function(perfEvt){if(perfEvt){theBatches=theBatches.slice(0);}var droppedBatches=[];var thePayload=null;var serializationStart=_getTime2();var sendInterface=_sendInterfaces[sendType]||(isSynchronous_1?_sendInterfaces[1]:_sendInterfaces[0]);var isBeaconTransport=(_isUnloading||_isBeaconPayload(sendType)||sendInterface&&sendInterface._transport===3)&&_canUseSendBeaconApi();while(_canSendPayload(theBatches,sendType,retryCount)){var theBatch=theBatches.shift();if(theBatch&&theBatch.count()>0){if(!_killSwitch.isTenantKilled(theBatch.iKey())){thePayload=thePayload||_serializer.createPayload(retryCount,isTeardown,isSynchronous_1,isBeaconTransport,sendReason,sendType);if(!_serializer.appendPayload(thePayload,theBatch,maxEventsPerBatch)){_doPayloadSend(thePayload,serializationStart,_getTime2(),sendReason);serializationStart=_getTime2();theBatches=[theBatch].concat(theBatches);thePayload=null;}else if(thePayload.overflow!==null){theBatches=[thePayload.overflow].concat(theBatches);thePayload.overflow=null;_doPayloadSend(thePayload,serializationStart,_getTime2(),sendReason);serializationStart=_getTime2();thePayload=null;}}else{droppedBatches.push(theBatch);}}}if(thePayload){_doPayloadSend(thePayload,serializationStart,_getTime2(),sendReason);}if(theBatches.length>0){_batchQueue=theBatches.concat(_batchQueue);}_sendBatchesNotification(droppedBatches,8004,sendType);},function(){return{batches:_createDebugBatches(orgBatches_1),retryCount:retryCount,isTeardown:isTeardown,isSynchronous:isSynchronous_1,sendReason:sendReason,useSendBeacon:_isBeaconPayload(sendType),sendType:sendType};},!isSynchronous_1);}catch(ex){_throwInternal2(_postManager.diagLog(),2,48,"Unexpected Exception sending batch: "+_dumpObj(ex));}}function _buildRequestDetails(thePayload,useHeaders){var requestDetails={url:_urlString,hdrs:{},useHdrs:false};if(!useHeaders){_objForEachKey(_headers,function(name,value){if(_collectorHeaderToQs[name]){_addRequestDetails(requestDetails,_collectorHeaderToQs[name],value,false);}else{requestDetails.hdrs[name]=value;requestDetails.useHdrs=true;}});}else{requestDetails.hdrs=_extend(requestDetails.hdrs,_headers);requestDetails.useHdrs=_objKeys2(requestDetails.hdrs).length>0;}_addRequestDetails(requestDetails,strClientId,"NO_AUTH",useHeaders);_addRequestDetails(requestDetails,strClientVersion,_FullVersionString,useHeaders);var apiQsKeys="";_arrForEach(thePayload.apiKeys,function(apiKey){if(apiQsKeys.length>0){apiQsKeys+=",";}apiQsKeys+=apiKey;});_addRequestDetails(requestDetails,strApiKey,apiQsKeys,useHeaders);_addRequestDetails(requestDetails,strUploadTime,_dateNow().toString(),useHeaders);var msfpc=_getMsfpc2(thePayload);if(_isValueAssigned(msfpc)){requestDetails.url+="&ext.intweb.msfpc="+msfpc;}if(_clockSkewManager.shouldAddClockSkewHeaders()){_addRequestDetails(requestDetails,strTimeDeltaToApply,_clockSkewManager.getClockSkewHeaderValue(),useHeaders);}if(_core.getWParam){var wParam=_core.getWParam();if(wParam>=0){requestDetails.url+="&w="+wParam;}}for(var i=0;i<_queryStringParameters.length;i++){requestDetails.url+="&"+_queryStringParameters[i].name+"="+_queryStringParameters[i].value;}return requestDetails;}function _canUseSendBeaconApi(){return!_customHttpInterface&&_useBeacons&&_isBeaconsSupported();}function _setTimingValue(timings,name,value){timings[name]=timings[name]||{};timings[name][_postManager.identifier]=value;}function _doPayloadSend(thePayload,serializationStart,serializationCompleted,sendReason){if(thePayload&&thePayload.payloadBlob&&thePayload.payloadBlob.length>0){var useSendHook_1=!!_self.sendHook;var sendInterface_1=_sendInterfaces[thePayload.sendType];if(!_isBeaconPayload(thePayload.sendType)&&thePayload.isBeacon&&thePayload.sendReason===2){sendInterface_1=_sendInterfaces[2]||_sendInterfaces[3]||sendInterface_1;}var useHeaders_1=_useHeaders;if(thePayload.isBeacon||sendInterface_1._transport===3){useHeaders_1=false;}var requestDetails_1=_buildRequestDetails(thePayload,useHeaders_1);useHeaders_1=useHeaders_1||requestDetails_1.useHdrs;var sendEventStart_1=_getTime2();_doPerf(_core,function(){return"HttpManager:_doPayloadSend";},function(){for(var batchLp=0;batchLp<thePayload.batches.length;batchLp++){var theBatch=thePayload.batches[batchLp];var theEvents=theBatch.events();for(var evtLp=0;evtLp<theEvents.length;evtLp++){var telemetryItem=theEvents[evtLp];if(_enableEventTimings){var timings=telemetryItem.timings=telemetryItem.timings||{};_setTimingValue(timings,"sendEventStart",sendEventStart_1);_setTimingValue(timings,"serializationStart",serializationStart);_setTimingValue(timings,"serializationCompleted",serializationCompleted);}telemetryItem[strSendAttempt]>0?telemetryItem[strSendAttempt]++:telemetryItem[strSendAttempt]=1;}}_sendBatchesNotification(thePayload.batches,1e3+(sendReason||0),thePayload.sendType,true);var orgPayloadData={data:thePayload.payloadBlob,urlString:requestDetails_1.url,headers:requestDetails_1.hdrs,_thePayload:thePayload,_sendReason:sendReason,timeout:_xhrTimeout};if(!_isUndefined(_disableXhrSync)){orgPayloadData.disableXhrSync=!!_disableXhrSync;}if(useHeaders_1){if(!_hasHeader(orgPayloadData.headers,strCacheControl)){orgPayloadData.headers[strCacheControl]=defaultCacheControl;}if(!_hasHeader(orgPayloadData.headers,strContentTypeHeader)){orgPayloadData.headers[strContentTypeHeader]=defaultContentType;}}var sender=null;if(sendInterface_1){sender=function sender(payload){_clockSkewManager.firstRequestSent();var onComplete=function onComplete(status,headers){_retryRequestIfNeeded(status,headers,thePayload,sendReason);};var isSync=thePayload.isTeardown||thePayload.isSync;try{sendInterface_1.sendPOST(payload,onComplete,isSync);if(_self.sendListener){_self.sendListener(orgPayloadData,payload,isSync,thePayload.isBeacon);}}catch(ex){_postManager.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+_dumpObj(ex));_doOnComplete(onComplete,0,{});}};}_doPerf(_core,function(){return"HttpManager:_doPayloadSend.sender";},function(){if(sender){if(thePayload.sendType===0){_outstandingRequests++;}if(useSendHook_1&&!thePayload.isBeacon&&sendInterface_1._transport!==3){var hookData_1={data:orgPayloadData.data,urlString:orgPayloadData.urlString,headers:_extend({},orgPayloadData.headers),timeout:orgPayloadData.timeout,disableXhrSync:orgPayloadData.disableXhrSync};var senderCalled_1=false;_doPerf(_core,function(){return"HttpManager:_doPayloadSend.sendHook";},function(){try{_self.sendHook(hookData_1,function(payload){senderCalled_1=true;if(!_customHttpInterface&&!payload._thePayload){payload._thePayload=payload._thePayload||orgPayloadData._thePayload;payload._sendReason=payload._sendReason||orgPayloadData._sendReason;}sender(payload);},thePayload.isSync||thePayload.isTeardown);}catch(ex){if(!senderCalled_1){sender(orgPayloadData);}}});}else{sender(orgPayloadData);}}});},function(){return{thePayload:thePayload,serializationStart:serializationStart,serializationCompleted:serializationCompleted,sendReason:sendReason};},thePayload.isSync);}if(thePayload.sizeExceed&&thePayload.sizeExceed.length>0){_sendBatchesNotification(thePayload.sizeExceed,8003,thePayload.sendType);}if(thePayload.failedEvts&&thePayload.failedEvts.length>0){_sendBatchesNotification(thePayload.failedEvts,8002,thePayload.sendType);}}function _addEventCompletedTimings(theEvents,sendEventCompleted){if(_enableEventTimings){_arrForEach(theEvents,function(theEvent){var timings=theEvent.timings=theEvent.timings||{};_setTimingValue(timings,"sendEventCompleted",sendEventCompleted);});}}function _retryRequestIfNeeded(status,headers,thePayload,sendReason){var reason=9e3;var droppedBatches=null;var isRetrying=false;var backOffTrans=false;try{var shouldRetry=true;if(_typeof(status)!==strShimUndefined){if(headers){_clockSkewManager.setClockSkew(headers[strTimeDeltaHeader]);var killDuration=headers[strKillDurationHeader]||headers["kill-duration-seconds"];_arrForEach(_killSwitch.setKillSwitchTenants(headers[strKillTokensHeader],killDuration),function(killToken){_arrForEach(thePayload.batches,function(theBatch){if(theBatch.iKey()===killToken){droppedBatches=droppedBatches||[];var removedEvents=theBatch.split(0);thePayload.numEvents-=removedEvents.count();droppedBatches.push(removedEvents);}});});}if(status==200||status==204){reason=200;return;}if(!retryPolicyShouldRetryForStatus(status)||thePayload.numEvents<=0){shouldRetry=false;}reason=9e3+status%1e3;}if(shouldRetry){reason=100;var retryCount_1=thePayload.retryCnt;if(thePayload.sendType===0){if(retryCount_1<maxRequestRetriesBeforeBackoff){isRetrying=true;_doAction(function(){if(thePayload.sendType===0){_outstandingRequests--;}_sendBatches(thePayload.batches,retryCount_1+1,thePayload.isTeardown,_isUnloading?2:thePayload.sendType,5);},_isUnloading,retryPolicyGetMillisToBackoffForRetry(retryCount_1));}else{backOffTrans=true;if(_isUnloading){reason=8001;}}}}}finally{if(!isRetrying){_clockSkewManager.setClockSkew();_handleRequestFinished(thePayload,reason,sendReason,backOffTrans);}_sendBatchesNotification(droppedBatches,8004,thePayload.sendType);}}function _handleRequestFinished(thePayload,batchReason,sendReason,backOffTrans){try{if(backOffTrans){_postManager._backOffTransmission();}if(batchReason===200){if(!backOffTrans&&!thePayload.isSync){_postManager._clearBackOff();}_addCompleteTimings(thePayload.batches);}_sendBatchesNotification(thePayload.batches,batchReason,thePayload.sendType,true);}finally{if(thePayload.sendType===0){_outstandingRequests--;if(sendReason!==5){_self.sendQueuedRequests(thePayload.sendType,sendReason);}}}}function _addCompleteTimings(theBatches){if(_enableEventTimings){var sendEventCompleted_1=_getTime2();_arrForEach(theBatches,function(theBatch){if(theBatch&&theBatch.count()>0){_addEventCompletedTimings(theBatch.events(),sendEventCompleted_1);}});}}function _doAction(cb,isSync,interval){if(isSync){cb();}else{timeoutOverride.set(cb,interval);}}function _convertAllHeadersToMap(headersString){var headers={};if(_isString(headersString)){var headersArray=_strTrim2(headersString).split(/[\r\n]+/);_arrForEach(headersArray,function(headerEntry){if(headerEntry){var idx=headerEntry.indexOf(": ");if(idx!==-1){var header=_strTrim2(headerEntry.substring(0,idx)).toLowerCase();var value=_strTrim2(headerEntry.substring(idx+1));headers[header]=value;}else{headers[_strTrim2(headerEntry)]=1;}}});}return headers;}function _getMsfpc2(thePayload){for(var lp=0;lp<thePayload.batches.length;lp++){var msfpc=thePayload.batches[lp].Msfpc();if(msfpc){return encodeURIComponent(msfpc);}}return"";}function _handleCollectorResponse(responseText){var responseHandlers=_self._responseHandlers;try{for(var i=0;i<responseHandlers.length;i++){try{responseHandlers[i](responseText);}catch(e){_throwInternal2(_postManager.diagLog(),1,519,"Response handler failed: "+e);}}if(responseText){var response=JSON.parse(responseText);if(_isValueAssigned(response.webResult)&&_isValueAssigned(response.webResult[strMsfpc])){_cookieMgr.set("MSFPC",response.webResult[strMsfpc],365*86400);}}}catch(ex){}}function _sendBatchesNotification(theBatches,batchReason,sendType,sendSync){if(theBatches&&theBatches.length>0&&actions){var theAction_1=actions[_getNotificationAction(batchReason)];if(theAction_1){var isSyncRequest_1=sendType!==0;_doPerf(_core,function(){return"HttpManager:_sendBatchesNotification";},function(){_doAction(function(){try{theAction_1.call(actions,theBatches,batchReason,isSyncRequest_1,sendType);}catch(e){_throwInternal2(_postManager.diagLog(),1,74,"send request notification failed: "+e);}},sendSync||isSyncRequest_1,0);},function(){return{batches:_createDebugBatches(theBatches),reason:batchReason,isSync:isSyncRequest_1,sendSync:sendSync,sendType:sendType};},!isSyncRequest_1);}}}function _getNotificationAction(reason){var action=_eventActionMap[reason];if(!_isValueAssigned(action)){action=strOther;if(reason>=9e3&&reason<=9999){action=strResponseFail;}else if(reason>=8e3&&reason<=8999){action=strDropped;}else if(reason>=1e3&&reason<=1999){action=strSending;}}return action;}});}return HttpManager2;}();}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/TimeoutOverrideWrapper.js
function defaultSetTimeout(callback,ms2){var args=[];for(var _i2=2;_i2<arguments.length;_i2++){args[_i2-2]=arguments[_i2];}return setTimeout(callback,ms2,args);}function defaultClearTimeout(timeoutId){clearTimeout(timeoutId);}function createTimeoutWrapper(argSetTimeout,argClearTimeout){return{set:argSetTimeout||defaultSetTimeout,clear:argClearTimeout||defaultClearTimeout};}var init_TimeoutOverrideWrapper=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/TimeoutOverrideWrapper.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcTimeoutOverrideWrapperJs(){}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/PostChannel.js
var FlushCheckTimer,MaxNumberEventPerBatch,EventsDroppedAtOneTime,MaxSendAttempts,MaxSyncUnloadSendAttempts,MaxBackoffCount,MaxConnections,MaxRequestRetriesBeforeBackoff,strEventsDiscarded2,strOverrideInstrumentationKey,strMaxEventRetryAttempts,strMaxUnloadEventRetryAttempts,strAddUnloadCb,PostChannel,PostChannel_default;var init_PostChannel=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/PostChannel.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcPostChannelJs(){init_applicationinsights_shims();init_dynamicproto_js();init_Index();init_DataModels();init_EventBatch();init_HttpManager();init_RetryPolicy();init_Constants3();init_TimeoutOverrideWrapper();FlushCheckTimer=0.25;MaxNumberEventPerBatch=500;EventsDroppedAtOneTime=20;MaxSendAttempts=6;MaxSyncUnloadSendAttempts=2;MaxBackoffCount=4;MaxConnections=2;MaxRequestRetriesBeforeBackoff=1;strEventsDiscarded2="eventsDiscarded";strOverrideInstrumentationKey="overrideInstrumentationKey";strMaxEventRetryAttempts="maxEventRetryAttempts";strMaxUnloadEventRetryAttempts="maxUnloadEventRetryAttempts";strAddUnloadCb="addUnloadCb";PostChannel=function(_super){__extendsFn(PostChannel2,_super);function PostChannel2(){var _this=_super.call(this)||this;_this.identifier="PostChannel";_this.priority=1011;_this.version="3.2.3";var _config;var _isTeardownCalled=false;var _flushCallbackQueue=[];var _flushCallbackTimerId=null;var _paused=false;var _immediateQueueSize=0;var _immediateQueueSizeLimit=500;var _queueSize=0;var _queueSizeLimit=1e4;var _profiles={};var _currentProfile=_RT_PROFILE;var _scheduledTimerId=null;var _immediateTimerId=null;var _currentBackoffCount=0;var _timerCount=0;var _xhrOverride;var _httpManager;var _batchQueues={};var _autoFlushEventsLimit;var _autoFlushBatchLimit;var _delayedBatchSendLatency=-1;var _delayedBatchReason;var _optimizeObject=true;var _isPageUnloadTriggered=false;var _maxEventSendAttempts=MaxSendAttempts;var _maxUnloadEventSendAttempts=MaxSyncUnloadSendAttempts;var _evtNamespace;var _timeoutWrapper;dynamicProto(PostChannel2,_this,function(_self,_base){_initDefaults();_self["_getDbgPlgTargets"]=function(){return[_httpManager];};_self.initialize=function(coreConfig,core,extensions3){_doPerf(core,function(){return"PostChannel:initialize";},function(){var extendedCore=core;_base.initialize(coreConfig,core,extensions3);try{var hasAddUnloadCb=!!core[strAddUnloadCb];_evtNamespace=_mergeEvtNamespace(_createUniqueNamespace(_self.identifier),core.evtNamespace&&core.evtNamespace());var ctx=_self._getTelCtx();coreConfig.extensionConfig[_self.identifier]=coreConfig.extensionConfig[_self.identifier]||{};_config=ctx.getExtCfg(_self.identifier);_timeoutWrapper=createTimeoutWrapper(_config.setTimeoutOverride,_config.clearTimeoutOverride);_optimizeObject=!_config.disableOptimizeObj&&_isChromium();_hookWParam(extendedCore);if(_config.eventsLimitInMem>0){_queueSizeLimit=_config.eventsLimitInMem;}if(_config.immediateEventLimit>0){_immediateQueueSizeLimit=_config.immediateEventLimit;}if(_config.autoFlushEventsLimit>0){_autoFlushEventsLimit=_config.autoFlushEventsLimit;}if(_isNumber(_config[strMaxEventRetryAttempts])){_maxEventSendAttempts=_config[strMaxEventRetryAttempts];}if(_isNumber(_config[strMaxUnloadEventRetryAttempts])){_maxUnloadEventSendAttempts=_config[strMaxUnloadEventRetryAttempts];}_setAutoLimits();if(_config.httpXHROverride&&_config.httpXHROverride.sendPOST){_xhrOverride=_config.httpXHROverride;}if(_isValueAssigned(coreConfig.anonCookieName)){_httpManager.addQueryStringParameter("anoncknm",coreConfig.anonCookieName);}_httpManager.sendHook=_config.payloadPreprocessor;_httpManager.sendListener=_config.payloadListener;var endpointUrl=_config.overrideEndpointUrl?_config.overrideEndpointUrl:coreConfig.endpointUrl;_self._notificationManager=coreConfig.extensionConfig.NotificationManager;_httpManager.initialize(endpointUrl,_self.core,_self,_xhrOverride,_config);var excludePageUnloadEvents=coreConfig.disablePageUnloadEvents||[];_addPageUnloadEventListener(_handleUnloadEvents,excludePageUnloadEvents,_evtNamespace);_addPageHideEventListener(_handleUnloadEvents,excludePageUnloadEvents,_evtNamespace);_addPageShowEventListener(_handleShowEvents,coreConfig.disablePageShowEvents,_evtNamespace);}catch(e){_self.setInitialized(false);throw e;}},function(){return{coreConfig:coreConfig,core:core,extensions:extensions3};});};_self.processTelemetry=function(ev,itemCtx){_setProcessTelemetryTimings(ev,_self.identifier);itemCtx=_self._getTelCtx(itemCtx);var channelConfig=itemCtx.getExtCfg(_self.identifier);var disableTelemetry=!!_config.disableTelemetry;if(channelConfig){disableTelemetry=disableTelemetry||!!channelConfig.disableTelemetry;}var event=ev;if(!disableTelemetry&&!_isTeardownCalled){if(_config[strOverrideInstrumentationKey]){event.iKey=_config[strOverrideInstrumentationKey];}if(channelConfig&&channelConfig[strOverrideInstrumentationKey]){event.iKey=channelConfig[strOverrideInstrumentationKey];}_addEventToQueues(event,true);if(_isPageUnloadTriggered){_releaseAllQueues(2,2);}else{_scheduleTimer();}}_self.processNext(event,itemCtx);};_self._doTeardown=function(unloadCtx,unloadState){_releaseAllQueues(2,2);_isTeardownCalled=true;_httpManager.teardown();_removePageUnloadEventListener(null,_evtNamespace);_removePageHideEventListener(null,_evtNamespace);_removePageShowEventListener(null,_evtNamespace);_initDefaults();};function _hookWParam(extendedCore){var existingGetWParamMethod=extendedCore.getWParam;extendedCore.getWParam=function(){var wparam=0;if(_config.ignoreMc1Ms0CookieProcessing){wparam=wparam|2;}return wparam|existingGetWParamMethod();};}function _handleUnloadEvents(evt){var theEvt=evt||_getWindow().event;if(theEvt.type!=="beforeunload"){_isPageUnloadTriggered=true;_httpManager.setUnloading(_isPageUnloadTriggered);}_releaseAllQueues(2,2);}function _handleShowEvents(evt){_isPageUnloadTriggered=false;_httpManager.setUnloading(_isPageUnloadTriggered);}function _addEventToQueues(event,append){if(!event.sendAttempt){event.sendAttempt=0;}if(!event.latency){event.latency=1;}if(event.ext&&event.ext["trace"]){delete event.ext["trace"];}if(event.ext&&event.ext["user"]&&event.ext["user"]["id"]){delete event.ext["user"]["id"];}if(_optimizeObject){event.ext=_optimizeObject2(event.ext);if(event.baseData){event.baseData=_optimizeObject2(event.baseData);}if(event.data){event.data=_optimizeObject2(event.data);}}if(event.sync){if(_currentBackoffCount||_paused){event.latency=3;event.sync=false;}else{if(_httpManager){if(_optimizeObject){event=_optimizeObject2(event);}_httpManager.sendSynchronousBatch(EventBatch.create(event.iKey,[event]),event.sync===true?1:event.sync,3);return;}}}var evtLatency=event.latency;var queueSize=_queueSize;var queueLimit=_queueSizeLimit;if(evtLatency===4){queueSize=_immediateQueueSize;queueLimit=_immediateQueueSizeLimit;}var eventDropped=false;if(queueSize<queueLimit){eventDropped=!_addEventToProperQueue(event,append);}else{var dropLatency=1;var dropNumber=EventsDroppedAtOneTime;if(evtLatency===4){dropLatency=4;dropNumber=1;}eventDropped=true;if(_dropEventWithLatencyOrLess(event.iKey,event.latency,dropLatency,dropNumber)){eventDropped=!_addEventToProperQueue(event,append);}}if(eventDropped){_notifyEvents(strEventsDiscarded2,[event],_EventsDiscardedReason.QueueFull);}}_self.setEventQueueLimits=function(eventLimit,autoFlushLimit){_queueSizeLimit=eventLimit>0?eventLimit:1e4;_autoFlushEventsLimit=autoFlushLimit>0?autoFlushLimit:0;_setAutoLimits();var doFlush=_queueSize>eventLimit;if(!doFlush&&_autoFlushBatchLimit>0){for(var latency=1;!doFlush&&latency<=3;latency++){var batchQueue=_batchQueues[latency];if(batchQueue&&batchQueue.batches){_arrForEach(batchQueue.batches,function(theBatch){if(theBatch&&theBatch.count()>=_autoFlushBatchLimit){doFlush=true;}});}}}_performAutoFlush(true,doFlush);};_self.pause=function(){_clearScheduledTimer();_paused=true;_httpManager.pause();};_self.resume=function(){_paused=false;_httpManager.resume();_scheduleTimer();};_self.addResponseHandler=function(responseHandler){_httpManager._responseHandlers.push(responseHandler);};_self._loadTransmitProfiles=function(profiles){_resetTransmitProfiles();_objForEachKey(profiles,function(profileName,profileValue){var profLen=profileValue.length;if(profLen>=2){var directValue=profLen>2?profileValue[2]:0;profileValue.splice(0,profLen-2);if(profileValue[1]<0){profileValue[0]=-1;}if(profileValue[1]>0&&profileValue[0]>0){var timerMultiplier=profileValue[0]/profileValue[1];profileValue[0]=Math.ceil(timerMultiplier)*profileValue[1];}if(directValue>=0&&profileValue[1]>=0&&directValue>profileValue[1]){directValue=profileValue[1];}profileValue.push(directValue);_profiles[profileName]=profileValue;}});};_self.flush=function(async,callback,sendReason){if(async===void 0){async=true;}if(!_paused){sendReason=sendReason||1;if(async){if(_flushCallbackTimerId==null){_clearScheduledTimer();_queueBatches(1,0,sendReason);_flushCallbackTimerId=_createTimer(function(){_flushCallbackTimerId=null;_flushImpl(callback,sendReason);},0);}else{_flushCallbackQueue.push(callback);}}else{var cleared=_clearScheduledTimer();_sendEventsForLatencyAndAbove(1,1,sendReason);if(callback!==null&&callback!==void 0){callback();}if(cleared){_scheduleTimer();}}}};_self.setMsaAuthTicket=function(ticket){_httpManager.addHeader(strMsaDeviceTicket,ticket);};_self.hasEvents=_hasEvents;_self._setTransmitProfile=function(profileName){if(_currentProfile!==profileName&&_profiles[profileName]!==void 0){_clearScheduledTimer();_currentProfile=profileName;_scheduleTimer();}};function _sendEventsForLatencyAndAbove(latency,sendType,sendReason){var queued=_queueBatches(latency,sendType,sendReason);_httpManager.sendQueuedRequests(sendType,sendReason);return queued;}function _hasEvents(){return _queueSize>0;}function _scheduleTimer(){if(_delayedBatchSendLatency>=0&&_queueBatches(_delayedBatchSendLatency,0,_delayedBatchReason)){_httpManager.sendQueuedRequests(0,_delayedBatchReason);}if(_immediateQueueSize>0&&!_immediateTimerId&&!_paused){var immediateTimeOut=_profiles[_currentProfile][2];if(immediateTimeOut>=0){_immediateTimerId=_createTimer(function(){_immediateTimerId=null;_sendEventsForLatencyAndAbove(4,0,1);_scheduleTimer();},immediateTimeOut);}}var timeOut=_profiles[_currentProfile][1];if(!_scheduledTimerId&&!_flushCallbackTimerId&&timeOut>=0&&!_paused){if(_hasEvents()){_scheduledTimerId=_createTimer(function(){_scheduledTimerId=null;_sendEventsForLatencyAndAbove(_timerCount===0?3:1,0,1);_timerCount++;_timerCount%=2;_scheduleTimer();},timeOut);}else{_timerCount=0;}}}_self._backOffTransmission=function(){if(_currentBackoffCount<MaxBackoffCount){_currentBackoffCount++;_clearScheduledTimer();_scheduleTimer();}};_self._clearBackOff=function(){if(_currentBackoffCount){_currentBackoffCount=0;_clearScheduledTimer();_scheduleTimer();}};function _initDefaults(){_config=null;_isTeardownCalled=false;_flushCallbackQueue=[];_flushCallbackTimerId=null;_paused=false;_immediateQueueSize=0;_immediateQueueSizeLimit=500;_queueSize=0;_queueSizeLimit=1e4;_profiles={};_currentProfile=_RT_PROFILE;_scheduledTimerId=null;_immediateTimerId=null;_currentBackoffCount=0;_timerCount=0;_xhrOverride=null;_batchQueues={};_autoFlushEventsLimit=void 0;_autoFlushBatchLimit=0;_delayedBatchSendLatency=-1;_delayedBatchReason=null;_optimizeObject=true;_isPageUnloadTriggered=false;_maxEventSendAttempts=MaxSendAttempts;_maxUnloadEventSendAttempts=MaxSyncUnloadSendAttempts;_evtNamespace=null;_timeoutWrapper=createTimeoutWrapper();_httpManager=new HttpManager(MaxNumberEventPerBatch,MaxConnections,MaxRequestRetriesBeforeBackoff,{requeue:_requeueEvents,send:_sendingEvent,sent:_eventsSentEvent,drop:_eventsDropped,rspFail:_eventsResponseFail,oth:_otherEvent},_timeoutWrapper);_initializeProfiles();_clearQueues();_setAutoLimits();}function _createTimer(theTimerFunc,timeOut){if(timeOut===0&&_currentBackoffCount){timeOut=1;}var timerMultiplier=1e3;if(_currentBackoffCount){timerMultiplier=retryPolicyGetMillisToBackoffForRetry(_currentBackoffCount-1);}return _timeoutWrapper.set(theTimerFunc,timeOut*timerMultiplier);}function _clearScheduledTimer(){if(_scheduledTimerId!==null){_timeoutWrapper.clear(_scheduledTimerId);_scheduledTimerId=null;_timerCount=0;return true;}return false;}function _releaseAllQueues(sendType,sendReason){_clearScheduledTimer();if(_flushCallbackTimerId){_timeoutWrapper.clear(_flushCallbackTimerId);_flushCallbackTimerId=null;}if(!_paused){_sendEventsForLatencyAndAbove(1,sendType,sendReason);}}function _clearQueues(){_batchQueues[4]={batches:[],iKeyMap:{}};_batchQueues[3]={batches:[],iKeyMap:{}};_batchQueues[2]={batches:[],iKeyMap:{}};_batchQueues[1]={batches:[],iKeyMap:{}};}function _getEventBatch(iKey,latency,create){var batchQueue=_batchQueues[latency];if(!batchQueue){latency=1;batchQueue=_batchQueues[latency];}var eventBatch=batchQueue.iKeyMap[iKey];if(!eventBatch&&create){eventBatch=EventBatch.create(iKey);batchQueue.batches.push(eventBatch);batchQueue.iKeyMap[iKey]=eventBatch;}return eventBatch;}function _performAutoFlush(isAsync,doFlush){if(_httpManager.canSendRequest()&&!_currentBackoffCount){if(_autoFlushEventsLimit>0&&_queueSize>_autoFlushEventsLimit){doFlush=true;}if(doFlush&&_flushCallbackTimerId==null){_self.flush(isAsync,null,20);}}}function _addEventToProperQueue(event,append){if(_optimizeObject){event=_optimizeObject2(event);}var latency=event.latency;var eventBatch=_getEventBatch(event.iKey,latency,true);if(eventBatch.addEvent(event)){if(latency!==4){_queueSize++;if(append&&event.sendAttempt===0){_performAutoFlush(!event.sync,_autoFlushBatchLimit>0&&eventBatch.count()>=_autoFlushBatchLimit);}}else{_immediateQueueSize++;}return true;}return false;}function _dropEventWithLatencyOrLess(iKey,latency,currentLatency,dropNumber){while(currentLatency<=latency){var eventBatch=_getEventBatch(iKey,latency,true);if(eventBatch&&eventBatch.count()>0){var droppedEvents=eventBatch.split(0,dropNumber);var droppedCount=droppedEvents.count();if(droppedCount>0){if(currentLatency===4){_immediateQueueSize-=droppedCount;}else{_queueSize-=droppedCount;}_notifyBatchEvents(strEventsDiscarded2,[droppedEvents],_EventsDiscardedReason.QueueFull);return true;}}currentLatency++;}_resetQueueCounts();return false;}function _resetQueueCounts(){var immediateQueue=0;var normalQueue=0;var _loop_1=function _loop_1(latency2){var batchQueue=_batchQueues[latency2];if(batchQueue&&batchQueue.batches){_arrForEach(batchQueue.batches,function(theBatch){if(latency2===4){immediateQueue+=theBatch.count();}else{normalQueue+=theBatch.count();}});}};for(var latency=1;latency<=4;latency++){_loop_1(latency);}_queueSize=normalQueue;_immediateQueueSize=immediateQueue;}function _queueBatches(latency,sendType,sendReason){var eventsQueued=false;var isAsync=sendType===0;if(!isAsync||_httpManager.canSendRequest()){_doPerf(_self.core,function(){return"PostChannel._queueBatches";},function(){var droppedEvents=[];var latencyToProcess=4;while(latencyToProcess>=latency){var batchQueue=_batchQueues[latencyToProcess];if(batchQueue&&batchQueue.batches&&batchQueue.batches.length>0){_arrForEach(batchQueue.batches,function(theBatch){if(!_httpManager.addBatch(theBatch)){droppedEvents=droppedEvents.concat(theBatch.events());}else{eventsQueued=eventsQueued||theBatch&&theBatch.count()>0;}if(latencyToProcess===4){_immediateQueueSize-=theBatch.count();}else{_queueSize-=theBatch.count();}});batchQueue.batches=[];batchQueue.iKeyMap={};}latencyToProcess--;}if(droppedEvents.length>0){_notifyEvents(strEventsDiscarded2,droppedEvents,_EventsDiscardedReason.KillSwitch);}if(eventsQueued&&_delayedBatchSendLatency>=latency){_delayedBatchSendLatency=-1;_delayedBatchReason=0;}},function(){return{latency:latency,sendType:sendType,sendReason:sendReason};},!isAsync);}else{_delayedBatchSendLatency=_delayedBatchSendLatency>=0?Math.min(_delayedBatchSendLatency,latency):latency;_delayedBatchReason=Math.max(_delayedBatchReason,sendReason);}return eventsQueued;}function _flushImpl(callback,sendReason){_sendEventsForLatencyAndAbove(1,0,sendReason);_resetQueueCounts();_waitForIdleManager(function(){if(callback){callback();}if(_flushCallbackQueue.length>0){_flushCallbackTimerId=_createTimer(function(){_flushCallbackTimerId=null;_flushImpl(_flushCallbackQueue.shift(),sendReason);},0);}else{_flushCallbackTimerId=null;_scheduleTimer();}});}function _waitForIdleManager(callback){if(_httpManager.isCompletelyIdle()){callback();}else{_flushCallbackTimerId=_createTimer(function(){_flushCallbackTimerId=null;_waitForIdleManager(callback);},FlushCheckTimer);}}function _resetTransmitProfiles(){_clearScheduledTimer();_initializeProfiles();_currentProfile=_RT_PROFILE;_scheduleTimer();}function _initializeProfiles(){_profiles={};_profiles[_RT_PROFILE]=[2,1,0];_profiles[_NRT_PROFILE]=[6,3,0];_profiles[_BE_PROFILE]=[18,9,0];}function _requeueEvents(batches,reason){var droppedEvents=[];var maxSendAttempts=_maxEventSendAttempts;if(_isPageUnloadTriggered){maxSendAttempts=_maxUnloadEventSendAttempts;}_arrForEach(batches,function(theBatch){if(theBatch&&theBatch.count()>0){_arrForEach(theBatch.events(),function(theEvent){if(theEvent){if(theEvent.sync){theEvent.latency=4;theEvent.sync=false;}if(theEvent.sendAttempt<maxSendAttempts){_setProcessTelemetryTimings(theEvent,_self.identifier);_addEventToQueues(theEvent,false);}else{droppedEvents.push(theEvent);}}});}});if(droppedEvents.length>0){_notifyEvents(strEventsDiscarded2,droppedEvents,_EventsDiscardedReason.NonRetryableStatus);}if(_isPageUnloadTriggered){_releaseAllQueues(2,2);}}function _callNotification(evtName,theArgs){var manager=_self._notificationManager||{};var notifyFunc=manager[evtName];if(notifyFunc){try{notifyFunc.apply(manager,theArgs);}catch(e){_throwInternal2(_self.diagLog(),1,74,evtName+" notification failed: "+e);}}}function _notifyEvents(evtName,theEvents){var extraArgs=[];for(var _i2=2;_i2<arguments.length;_i2++){extraArgs[_i2-2]=arguments[_i2];}if(theEvents&&theEvents.length>0){_callNotification(evtName,[theEvents].concat(extraArgs));}}function _notifyBatchEvents(evtName,batches){var extraArgs=[];for(var _i2=2;_i2<arguments.length;_i2++){extraArgs[_i2-2]=arguments[_i2];}if(batches&&batches.length>0){_arrForEach(batches,function(theBatch){if(theBatch&&theBatch.count()>0){_callNotification(evtName,[theBatch.events()].concat(extraArgs));}});}}function _sendingEvent(batches,reason,isSyncRequest){if(batches&&batches.length>0){_callNotification("eventsSendRequest",[reason>=1e3&&reason<=1999?reason-1e3:0,isSyncRequest!==true]);}}function _eventsSentEvent(batches,reason){_notifyBatchEvents("eventsSent",batches,reason);_scheduleTimer();}function _eventsDropped(batches,reason){_notifyBatchEvents(strEventsDiscarded2,batches,reason>=8e3&&reason<=8999?reason-8e3:_EventsDiscardedReason.Unknown);}function _eventsResponseFail(batches){_notifyBatchEvents(strEventsDiscarded2,batches,_EventsDiscardedReason.NonRetryableStatus);_scheduleTimer();}function _otherEvent(batches,reason){_notifyBatchEvents(strEventsDiscarded2,batches,_EventsDiscardedReason.Unknown);_scheduleTimer();}function _setAutoLimits(){if(!_config||!_config.disableAutoBatchFlushLimit){_autoFlushBatchLimit=Math.max(MaxNumberEventPerBatch*(MaxConnections+1),_queueSizeLimit/6);}else{_autoFlushBatchLimit=0;}}_objDefineAccessors(_self,"_setTimeoutOverride",function(){return _timeoutWrapper.set;},function(value){_timeoutWrapper=createTimeoutWrapper(value,_timeoutWrapper.clear);});_objDefineAccessors(_self,"_clearTimeoutOverride",function(){return _timeoutWrapper.clear;},function(value){_timeoutWrapper=createTimeoutWrapper(_timeoutWrapper.set,value);});});return _this;}return PostChannel2;}(_BaseTelemetryPlugin);PostChannel_default=PostChannel;}});// client/node_modules/@microsoft/1ds-post-js/dist-esm/src/Index.js
var Index_exports2={};__export(Index_exports2,{BE_PROFILE:function BE_PROFILE(){return _BE_PROFILE;},NRT_PROFILE:function NRT_PROFILE(){return _NRT_PROFILE;},PostChannel:function PostChannel(){return PostChannel_default;},RT_PROFILE:function RT_PROFILE(){return _RT_PROFILE;}});var init_Index2=__esm({"client/node_modules/@microsoft/1ds-post-js/dist-esm/src/Index.js":function clientNode_modulesMicrosoft1dsPostJsDistEsmSrcIndexJs(){init_PostChannel();init_DataModels();}});// client/src/browser/main.ts
__export(exports,{activate:function activate(){return _activate;}});var vscode3=__toModule(require("vscode"));var import_browser=__toModule(require_browser3());// client/src/common/client.ts
var vscode2=__toModule(require("vscode"));var import_vscode_languageclient=__toModule(require_main4());// client/src/common/supportedLanguages.ts
var vscode=__toModule(require("vscode"));// shared/common/initOptions.ts
var LanguageInfo=/*#__PURE__*/_createClass(function LanguageInfo(languageId,wasmUri,suffixes,queries,suppressedBy){_classCallCheck(this,LanguageInfo);this.languageId=languageId;this.wasmUri=wasmUri;this.suffixes=suffixes;this.queries=queries;this.suppressedBy=suppressedBy;});// client/src/common/supportedLanguages.ts
function validateAnycodeLanguage(lang){if(typeof lang.grammarPath!=="string"){return false;}if(typeof lang.languageId!=="string"){return false;}if(!Array.isArray(lang.extensions)){return false;}if(!lang.queryPaths||_typeof(lang.queryPaths)!=="object"){return false;}if(lang.suppressedBy&&!Array.isArray(lang.suppressedBy)){return false;}return true;}var SupportedLanguages=/*#__PURE__*/function(){function SupportedLanguages(_log){var _this123=this;_classCallCheck(this,SupportedLanguages);this._log=_log;this._onDidChange=new vscode.EventEmitter();this.onDidChange=this._onDidChange.event;this._disposable=vscode.Disposable.from(vscode.extensions.onDidChange(this._reset,this),vscode.workspace.onDidChangeConfiguration(function(e){if(e.affectsConfiguration("anycode.language")){_this123._reset();}}));}_createClass(SupportedLanguages,[{key:"dispose",value:function dispose(){this._onDidChange.dispose();this._disposable.dispose();}},{key:"_reset",value:function _reset(){this._tuples=void 0;this._onDidChange.fire(this);}},{key:"getSupportedLanguages",value:function(){var _getSupportedLanguages=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee33(){var _this124=this;var languageInfos,_iterator63,_step60,_loop4,_ret;return regeneratorRuntime.wrap(function _callee33$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:if(this._tuples){_context33.next=23;break;}_context33.next=3;return this._readLanguageInfos();case 3:languageInfos=_context33.sent;this._tuples=new Map();_iterator63=_createForOfIteratorHelper(languageInfos.values());_context33.prev=6;_loop4=function _loop4(){var info=_step60.value;var config=vscode.workspace.getConfiguration("anycode",{languageId:info.languageId});var featureConfig=_objectSpread({},config.get("language.features"));var empty=Object.keys(featureConfig).every(function(key){return!featureConfig[key];});if(empty){_this124._log.appendLine("[CONFIG] ignoring ".concat(info.languageId," because configuration IS EMPTY"));return"continue";}if(info.suppressedBy){var inspectConfig=config.inspect("language.features");var explicitlyEnabled=(inspectConfig===null||inspectConfig===void 0?void 0:inspectConfig.globalLanguageValue)||(inspectConfig===null||inspectConfig===void 0?void 0:inspectConfig.workspaceLanguageValue)||(inspectConfig===null||inspectConfig===void 0?void 0:inspectConfig.workspaceFolderLanguageValue);if(!explicitlyEnabled&&info.suppressedBy.some(function(id){return vscode.extensions.getExtension(id,true);})){_this124._log.appendLine("[CONFIG] ignoring ".concat(info.languageId," because it is SUPPRESSED by any of [").concat(info.suppressedBy.join(", "),"]"));return"continue";}}_this124._tuples.set(info,featureConfig);};_iterator63.s();case 9:if((_step60=_iterator63.n()).done){_context33.next=15;break;}_ret=_loop4();if(!(_ret==="continue")){_context33.next=13;break;}return _context33.abrupt("continue",13);case 13:_context33.next=9;break;case 15:_context33.next=20;break;case 17:_context33.prev=17;_context33.t0=_context33["catch"](6);_iterator63.e(_context33.t0);case 20:_context33.prev=20;_iterator63.f();return _context33.finish(20);case 23:return _context33.abrupt("return",this._tuples);case 24:case"end":return _context33.stop();}}},_callee33,this,[[6,17,20,23]]);}));function getSupportedLanguages(){return _getSupportedLanguages.apply(this,arguments);}return getSupportedLanguages;}()},{key:"getSupportedLanguagesAsSelector",value:function(){var _getSupportedLanguagesAsSelector=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee34(){var infos;return regeneratorRuntime.wrap(function _callee34$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:_context34.next=2;return this.getSupportedLanguages();case 2:infos=_context34.sent;return _context34.abrupt("return",Array.from(infos.keys()).map(function(info){return info.languageId;}));case 4:case"end":return _context34.stop();}}},_callee34,this);}));function getSupportedLanguagesAsSelector(){return _getSupportedLanguagesAsSelector.apply(this,arguments);}return getSupportedLanguagesAsSelector;}()},{key:"_readLanguageInfos",value:function(){var _readLanguageInfos2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee35(){var result,isWebWorker,_iterator64,_step61,_extension$packageJSO,extension,languages2,_iterator65,_step62,lang,queries,grammarUri,info;return regeneratorRuntime.wrap(function _callee35$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:result=new Map();isWebWorker="importScripts"in globalThis;_iterator64=_createForOfIteratorHelper(vscode.extensions.allAcrossExtensionHosts);_context35.prev=3;_iterator64.s();case 5:if((_step61=_iterator64.n()).done){_context35.next=57;break;}extension=_step61.value;languages2=(_extension$packageJSO=extension.packageJSON.contributes)===null||_extension$packageJSO===void 0?void 0:_extension$packageJSO["anycodeLanguages"];if(languages2){_context35.next=10;break;}return _context35.abrupt("continue",55);case 10:if(!Array.isArray(languages2)){languages2=[languages2];}_iterator65=_createForOfIteratorHelper(languages2);_context35.prev=12;_iterator65.s();case 14:if((_step62=_iterator65.n()).done){_context35.next=47;break;}lang=_step62.value;if(validateAnycodeLanguage(lang)){_context35.next=19;break;}console.warn("INVALID anycode-language contribution from ".concat(extension.id),lang);return _context35.abrupt("continue",45);case 19:if(!(extension.extensionUri.scheme==="vscode-remote")){_context35.next=22;break;}console.warn("UNSUPPORTED extension location from ".concat(extension.id),extension.extensionUri.toString());return _context35.abrupt("continue",45);case 22:queries=void 0;_context35.prev=23;_context35.next=26;return SupportedLanguages._readQueryPath(extension,lang.queryPaths);case 26:queries=_context35.sent;_context35.next=33;break;case 29:_context35.prev=29;_context35.t0=_context35["catch"](23);console.warn("INVALID anycode-language queryPaths from ".concat(extension.id),_context35.t0);return _context35.abrupt("continue",45);case 33:grammarUri=vscode.Uri.joinPath(extension.extensionUri,lang.grammarPath);_context35.prev=34;vscode.workspace.fs.stat(grammarUri);_context35.next=42;break;case 38:_context35.prev=38;_context35.t1=_context35["catch"](34);console.warn("INVALID anycode-language grammerPath from ".concat(extension.id),_context35.t1);return _context35.abrupt("continue",45);case 42:info=new LanguageInfo(lang.languageId,isWebWorker?grammarUri.toString():grammarUri.fsPath,lang.extensions,queries,lang.suppressedBy);if(result.has(info.languageId)){console.info("extension ".concat(extension.id," OVERWRITES language info for ").concat(info.languageId));}result.set(info.languageId,info);case 45:_context35.next=14;break;case 47:_context35.next=52;break;case 49:_context35.prev=49;_context35.t2=_context35["catch"](12);_iterator65.e(_context35.t2);case 52:_context35.prev=52;_iterator65.f();return _context35.finish(52);case 55:_context35.next=5;break;case 57:_context35.next=62;break;case 59:_context35.prev=59;_context35.t3=_context35["catch"](3);_iterator64.e(_context35.t3);case 62:_context35.prev=62;_iterator64.f();return _context35.finish(62);case 65:return _context35.abrupt("return",result);case 66:case"end":return _context35.stop();}}},_callee35,null,[[3,59,62,65],[12,49,52,55],[23,29],[34,38]]);}));function _readLanguageInfos(){return _readLanguageInfos2.apply(this,arguments);}return _readLanguageInfos;}()}],[{key:"_readQueryPath",value:function(){var _readQueryPath2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee36(extension,paths){var decoder,result;return regeneratorRuntime.wrap(function _callee36$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:decoder=new TextDecoder();result={};if(!paths.comments){_context36.next=8;break;}_context36.t0=decoder;_context36.next=6;return vscode.workspace.fs.readFile(vscode.Uri.joinPath(extension.extensionUri,paths.comments));case 6:_context36.t1=_context36.sent;result.comments=_context36.t0.decode.call(_context36.t0,_context36.t1);case 8:if(!paths.folding){_context36.next=14;break;}_context36.t2=decoder;_context36.next=12;return vscode.workspace.fs.readFile(vscode.Uri.joinPath(extension.extensionUri,paths.folding));case 12:_context36.t3=_context36.sent;result.folding=_context36.t2.decode.call(_context36.t2,_context36.t3);case 14:if(!paths.identifiers){_context36.next=20;break;}_context36.t4=decoder;_context36.next=18;return vscode.workspace.fs.readFile(vscode.Uri.joinPath(extension.extensionUri,paths.identifiers));case 18:_context36.t5=_context36.sent;result.identifiers=_context36.t4.decode.call(_context36.t4,_context36.t5);case 20:if(!paths.locals){_context36.next=26;break;}_context36.t6=decoder;_context36.next=24;return vscode.workspace.fs.readFile(vscode.Uri.joinPath(extension.extensionUri,paths.locals));case 24:_context36.t7=_context36.sent;result.locals=_context36.t6.decode.call(_context36.t6,_context36.t7);case 26:if(!paths.outline){_context36.next=32;break;}_context36.t8=decoder;_context36.next=30;return vscode.workspace.fs.readFile(vscode.Uri.joinPath(extension.extensionUri,paths.outline));case 30:_context36.t9=_context36.sent;result.outline=_context36.t8.decode.call(_context36.t8,_context36.t9);case 32:if(!paths.references){_context36.next=38;break;}_context36.t10=decoder;_context36.next=36;return vscode.workspace.fs.readFile(vscode.Uri.joinPath(extension.extensionUri,paths.references));case 36:_context36.t11=_context36.sent;result.references=_context36.t10.decode.call(_context36.t10,_context36.t11);case 38:return _context36.abrupt("return",result);case 39:case"end":return _context36.stop();}}},_callee36);}));function _readQueryPath(_x34,_x35){return _readQueryPath2.apply(this,arguments);}return _readQueryPath;}()}]);return SupportedLanguages;}();// client/node_modules/@vscode/extension-telemetry/lib/telemetryReporter.web.min.js
var Sc=__toModule(require("vscode"));var xo=Object.defineProperty;var mo=Object.getOwnPropertySymbols;var Cc=Object.prototype.hasOwnProperty;var Tc=Object.prototype.propertyIsEnumerable;var ho=function ho(t,e,r){return e in t?xo(t,e,{enumerable:true,configurable:true,writable:true,value:r}):t[e]=r;};var at=function at(t,e){for(var r in e||(e={})){Cc.call(e,r)&&ho(t,r,e[r]);}if(mo){var _iterator66=_createForOfIteratorHelper(mo(e)),_step63;try{for(_iterator66.s();!(_step63=_iterator66.n()).done;){var r=_step63.value;Tc.call(e,r)&&ho(t,r,e[r]);}}catch(err){_iterator66.e(err);}finally{_iterator66.f();}}return t;};var I=function I(t,e){return function(){return t&&(e=t(t=0)),e;};};var Ec=function Ec(t,e){for(var r in e){xo(t,r,{get:e[r],enumerable:true});}};var At=function At(t,e,r){return new Promise(function(n,i){var a=function a(s){try{u(r.next(s));}catch(c){i(c);}},o=function o(s){try{u(r.throw(s));}catch(c){i(c);}},u=function u(s){return s.done?n(s.value):Promise.resolve(s.value).then(a,o);};u((r=r.apply(t,e)).next());});};var So;var Io=I(function(){So={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5};});var gt;var Xe;var Ue;var Ie;var Hr;var vt;var Ir;var Cr;var Un;var On;var nr;var Bn=I(function(){gt="function",Xe="object",Ue="undefined",Ie="prototype",Hr="hasOwnProperty",vt=Object,Ir=vt[Ie],Cr=vt.assign,Un=vt.create,On=vt.defineProperty,nr=Ir[Hr];});function ot(){return(typeof globalThis==="undefined"?"undefined":_typeof(globalThis))!==Ue&&globalThis?globalThis:(typeof self==="undefined"?"undefined":_typeof(self))!==Ue&&self?self:(typeof window==="undefined"?"undefined":_typeof(window))!==Ue&&window?window:(typeof global==="undefined"?"undefined":_typeof(global))!==Ue&&global?global:null;}function Tr(t){throw new TypeError(t);}function Dt(t){var e=Un;if(e)return e(t);if(t==null)return{};var r=_typeof(t);r!==Xe&&r!==gt&&Tr("Object prototype may only be an Object:"+t);function n(){}return n[Ie]=t,new n();}var Ni=I(function(){Bn();});function B(t,e){_typeof(e)!==gt&&e!==null&&Tr("Class extends value "+String(e)+" is not a constructor or null"),_ki(t,e);function r(){this.constructor=t;}t[Ie]=e===null?Dt(e):(r[Ie]=e[Ie],new r());}var Vl;var ql;var bc;var yt;var _ki;var Co=I(function(){Bn();Ni();Vl=(ot()||{}).Symbol,ql=(ot()||{}).Reflect,bc=function bc(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e){Ir[Hr].call(e,i)&&(t[i]=e[i]);}}return t;},yt=Cr||bc,_ki=function ki(t,e){return _ki=vt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n;}||function(r,n){for(var i in n){n[Hr](i)&&(r[i]=n[i]);}},_ki(t,e);};});var To=I(function(){});var ne=I(function(){Bn();Ni();Co();To();});function kt(t,e){return t&&Kn[Nt].hasOwnProperty.call(t,e);}function No(t){return t&&(t===Kn[Nt]||t===Array[Nt]);}function Ui(t){return No(t)||t===Function[Nt];}function ir(t){var e;if(t){if(qr)return qr(t);var r=t[Do]||t[Nt]||(t[Hn]?t[Hn][Nt]:null);e=t[zn]||r,kt(t,zn)||(delete t[Fi],e=t[zn]=t[Fi]||t[zn],t[Fi]=r);}return e;}function jn(t,e){var r=[];if(Po)r=Po(t);else for(var n in t){typeof n=="string"&&kt(t,n)&&r.push(n);}if(r&&r.length>0)for(var i=0;i<r.length;i++){e(r[i]);}}function Oi(t,e,r){return e!==Hn&&_typeof(t[e])===Vn&&(r||kt(t,e));}function Gn(t){throw new TypeError("DynamicProto: "+t);}function Dc(t){var e={};return jn(t,function(r){!e[r]&&Oi(t,r,false)&&(e[r]=t[r]);}),e;}function Bi(t,e){for(var r=t.length-1;r>=0;r--){if(t[r]===e)return true;}return false;}function Nc(t,e,r,n){function i(s,c,l){var f2=c[l];if(f2[Li]&&n){var g=s[qn]||{};g[Vr]!==false&&(f2=(g[c[Er]]||{})[l]||f2);}return function(){return f2.apply(s,arguments);};}var a={};jn(r,function(s){a[s]=i(e,r,s);});for(var o=ir(t),u=[];o&&!Ui(o)&&!Bi(u,o);){jn(o,function(s){!a[s]&&Oi(o,s,!qr)&&(a[s]=i(e,o,s));}),u.push(o),o=ir(o);}return a;}function kc(t,e,r,n){var i=null;if(t&&kt(r,Er)){var a=t[qn]||{};if(i=(a[r[Er]]||{})[e],i||Gn("Missing ["+e+"] "+Vn),!i[_i]&&a[Vr]!==false){for(var o=!kt(t,e),u=ir(t),s=[];o&&u&&!Ui(u)&&!Bi(s,u);){var c=u[e];if(c){o=c===n;break;}s.push(u),u=ir(u);}try{o&&(t[e]=i),i[_i]=1;}catch(l){a[Vr]=false;}}}return i;}function Fc(t,e,r){var n=e[t];return n===r&&(n=ir(e)[t]),_typeof(n)!==Vn&&Gn("["+t+"] is not a "+Vn),n;}function Rc(t,e,r,n,i){function a(s,c){var l=function l(){var f2=kc(this,c,s,l)||Fc(c,s,l);return f2.apply(this,arguments);};return l[Li]=1,l;}if(!No(t)){var o=r[qn]=r[qn]||{},u=o[e]=o[e]||{};o[Vr]!==false&&(o[Vr]=!!i),jn(r,function(s){Oi(r,s,false)&&r[s]!==n[s]&&(u[s]=r[s],delete r[s],(!kt(t,s)||t[s]&&!t[s][Li])&&(t[s]=a(t,s)));});}}function Mc(t,e){if(qr){for(var r=[],n=ir(e);n&&!Ui(n)&&!Bi(r,n);){if(n===t)return true;r.push(n),n=ir(n);}return false;}return true;}function Mi(t,e){return kt(t,Nt)?t.name||e||Eo:((t||{})[Hn]||{}).name||e||Eo;}function W(t,e,r,n){kt(t,Nt)||Gn("theClass is an invalid class definition.");var i=t[Nt];Mc(i,e)||Gn("["+Mi(t)+"] is not in class hierarchy of ["+Mi(e)+"]");var a=null;kt(i,Er)?a=i[Er]:(a=Ac+Mi(t,"_")+"$"+bo,bo++,i[Er]=a);var o=W[Ao],u=!!o[Ri];u&&n&&n[Ri]!==void 0&&(u=!!n[Ri]);var s=Dc(e),c=Nc(i,e,s,u);r(e,c);var l=!!qr&&!!o[wo];l&&n&&(l=!!n[wo]),Rc(i,a,e,s,l!==false);}var Hn;var Nt;var Vn;var qn;var Li;var Er;var Ac;var _i;var Vr;var Ao;var Eo;var Do;var zn;var Fi;var Ri;var wo;var Kn;var qr;var Po;var bo;var Lc;var Ce=I(function(){Hn="constructor",Nt="prototype",Vn="function",qn="_dynInstFuncs",Li="_isDynProxy",Er="_dynClass",Ac="_dynCls$",_i="_dynInstChk",Vr=_i,Ao="_dfOpts",Eo="_unknown_",Do="__proto__",zn="_dyn"+Do,Fi="_dynInstProto",Ri="useBaseInst",wo="setInstFuncs",Kn=Object,qr=Kn.getPrototypeOf,Po=Kn.getOwnPropertyNames,bo=0;Lc={setInstFuncs:true,useBaseInst:true};W[Ao]=Lc;});var S;var h;var jr=I(function(){(function(t){t[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING";})(S||(S={}));h={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103};});function Hi(t){return Ir.toString.call(t);}function Vi(t,e){return _typeof(t)===e;}function fe(t){return t===void 0||_typeof(t)===Ue;}function x(t){return t===null||fe(t);}function qi(t){return!x(t);}function wr(t,e){return t&&nr.call(t,e);}function st(t){return _typeof(t)===Xe;}function z(t){return _typeof(t)===gt;}function Vt(t,e,r,n){n===void 0&&(n=false);var i=false;if(!x(t))try{x(t[Fo])?x(t[ko])||(t[ko](_o+e,r),i=true):(t[Fo](e,r,n),i=true);}catch(a){}return i;}function Wn(t,e,r,n){if(n===void 0&&(n=false),!x(t))try{x(t[Mo])?x(t[Ro])||t[Ro](_o+e,r):t[Mo](e,r,n);}catch(i){}}function ji(t){var e=t,r=/([^\w\d_$])/g;return r.test(t)&&(e=t.replace(r,"_")),e;}function $(t,e){if(t)for(var r in t){nr.call(t,r)&&e.call(t,r,t[r]);}}function Gi(t,e){if(t&&e){var r=e.length,n=t.length;if(t===e)return true;if(n>=r){for(var i=n-1,a=r-1;a>=0;a--){if(t[i]!=e[a])return false;i--;}return true;}}return false;}function Te(t,e){return t&&e?t.indexOf(e)!==-1:false;}function Pr(t){return Hi(t)==="[object Date]";}function Fe(t){return Hi(t)==="[object Array]";}function qt(t){return Hi(t)==="[object Error]";}function U(t){return typeof t=="string";}function ar(t){return typeof t=="number";}function Gr(t){return typeof t=="boolean";}function Re(t){if(Pr(t)){var e=function e(r){var n=String(r);return n.length===1&&(n="0"+n),n;};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z";}}function R(t,e,r){for(var n=t.length,i=0;i<n&&!(i in t&&e.call(r||t,t[i],i,t)===-1);i++){;}}function Ft(t,e,r){for(var n=t.length,i=r||0,a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;a++){if(a in t&&t[a]===e)return a;}return-1;}function jt(t,e,r){for(var n=t.length,i=r||t,a=new Array(n),o=0;o<n;o++){o in t&&(a[o]=e.call(i,t[o],t));}return a;}function Kr(t,e,r){var n=t.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<n&&!(i in t);){i++;}a=t[i++];}for(;i<n;){i in t&&(a=e(a,t[i],i,t)),i++;}return a;}function oe(t){return typeof t!="string"?t:t.replace(/^\s+|\s+$/g,"");}function Ye(t){var e=_typeof(t);e!==gt&&(e!==Xe||t===null)&&Tr("objKeys called on non-object");var r=[];for(var n in t){t&&nr.call(t,n)&&r.push(n);}if(_c)for(var i=zi.length,a=0;a<i;a++){t&&nr.call(t,zi[a])&&r.push(zi[a]);}return r;}function St(t,e,r,n){if(Lo)try{var i={enumerable:true,configurable:true};return r&&(i.get=r),n&&(i.set=n),Lo(t,e,i),true;}catch(a){}return false;}function pe(){var t=Date;return t.now?t.now():new t().getTime();}function G(t){return qt(t)?t.name:"";}function K(t,e,r,n,i){var a=r;return t&&(a=t[e],a!==r&&(!i||i(a))&&(!n||n(r))&&(a=r,t[e]=a)),a;}function ge(t,e,r){var n;return t?(n=t[e],!n&&x(n)&&(n=fe(r)?{}:r,t[e]=n)):n=fe(r)?{}:r,n;}function Xn(t){return!t;}function br(t){return!!t;}function Ae(t){throw new Error(t);}function Wr(t,e,r){if(t&&e&&t!==e&&st(t)&&st(e)){var n=function n(a){if(U(a)){var o=e[a];z(o)?(!r||r(a,true,e,t))&&(t[a]=function(u){return function(){var s=arguments;return e[u].apply(e,s);};}(a)):(!r||r(a,false,e,t))&&(wr(t,a)&&delete t[a],St(t,a,function(){return e[a];},function(u){e[a]=u;})||(t[a]=o));}};for(var i in e){n(i);}}return t;}function Ki(t){return function(){function e(){var r=this;t&&$(t,function(n,i){r[n]=i;});}return e;}();}function Jn(t){return t&&(t=vt(Cr?Cr({},t):t)),t;}var _o;var ko;var Fo;var Ro;var Mo;var Lo;var vf;var mf;var _c;var zi;var Me=I(function(){ne();_o="on",ko="attachEvent",Fo="addEventListener",Ro="detachEvent",Mo="removeEventListener",Lo=On,vf=vt.freeze,mf=vt.seal;_c=!{toString:null}.propertyIsEnumerable("toString"),zi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];});function Ee(t){var e=ot();return e&&e[t]?e[t]:t===Uo&&or()?window:null;}function or(){return Boolean((typeof window==="undefined"?"undefined":_typeof(window))===Xe&&window);}function It(){return or()?window:Ee(Uo);}function Qn(){return Boolean((typeof document==="undefined"?"undefined":_typeof(document))===Xe&&document);}function De(){return Qn()?document:Ee(Uc);}function Bo(){return Boolean((typeof navigator==="undefined"?"undefined":_typeof(navigator))===Xe&&navigator);}function Le(){return Bo()?navigator:Ee(Oc);}function zo(){return Boolean((typeof history==="undefined"?"undefined":_typeof(history))===Xe&&history);}function Zi(){return zo()?history:Ee(Bc);}function $e(t){if(t&&Kc){var e=Ee("__mockLocation");if(e)return e;}return(typeof location==="undefined"?"undefined":_typeof(location))===Xe&&location?location:Ee(zc);}function Yi(){return(typeof console==="undefined"?"undefined":_typeof(console))!==Ue?console:Ee(Hc);}function Je(){return Ee(Vc);}function mt(){return Boolean((typeof JSON==="undefined"?"undefined":_typeof(JSON))===Xe&&JSON||Ee(Oo)!==null);}function we(){return mt()?JSON||Ee(Oo):null;}function $i(){return Ee(qc);}function ea(){return Ee(jc);}function ta(){var t=Le();return t&&t.product?t.product===Gc:false;}function Gt(){var t=Le();if(t&&(t.userAgent!==Xi||Wi===null)){Xi=t.userAgent;var e=(Xi||"").toLowerCase();Wi=Te(e,Ji)||Te(e,Qi);}return Wi;}function sr(t){if(t===void 0&&(t=null),!t){var e=Le()||{};t=e?(e.userAgent||"").toLowerCase():"";}var r=(t||"").toLowerCase();if(Te(r,Ji))return parseInt(r.split(Ji)[1]);if(Te(r,Qi)){var n=parseInt(r.split(Qi)[1]);if(n)return n+4;}return null;}function O(t){var e=Object[Ie].toString.call(t),r="";return e==="[object Error]"?r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":mt()&&(r=we().stringify(t)),e+r;}var Uo;var Uc;var Oc;var Bc;var zc;var Hc;var Vc;var Oo;var qc;var jc;var Gc;var Ji;var Qi;var Wi;var Xi;var Kc;var Ar=I(function(){"use strict";ne();Me();Uo="window",Uc="document",Oc="navigator",Bc="history",zc="location",Hc="console",Vc="performance",Oo="JSON",qc="crypto",jc="msCrypto",Gc="ReactNative",Ji="msie",Qi="trident/",Wi=null,Xi=null,Kc=false;});function Ho(t){return t?'"'+t.replace(/\"/g,"")+'"':"";}function Mt(t,e){return(t||{}).logger||new Zn(e);}var Wc;var Xc;var Jc;var Rt;var Zn;var Yn=I(function(){"use strict";jr();Ar();Ce();Me();Wc="AI (Internal): ",Xc="AI: ",Jc="AITR_";Rt=function(){function t(e,r,n,i){n===void 0&&(n=false);var a=this;a.messageId=e,a.message=(n?Xc:Wc)+e;var o="";mt()&&(o=we().stringify(i));var u=(r?" message:"+Ho(r):"")+(i?" props:"+Ho(o):"");a.message+=u;}return t.dataType="MessageData",t;}();Zn=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};W(t,this,function(i){x(e)&&(e={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0);},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1);},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25);},i.enableDebugExceptions=function(){return a("enableDebugExceptions",false);},i.throwInternal=function(u,s,c,l,f2){f2===void 0&&(f2=false);var g=new Rt(s,c,f2,l);if(i.enableDebugExceptions())throw g;if(!fe(g.message)){var C=i.consoleLoggingLevel();if(f2){var E=+g.messageId;!n[E]&&C>=S.WARNING&&(i.warnToConsole(g.message),n[E]=true);}else C>=S.WARNING&&i.warnToConsole(g.message);i.logInternalMessage(u,g);}},i.warnToConsole=function(u){var s=Yi();if(s){var c="log";s.warn&&(c="warn"),z(s[c])&&s[c](u);}},i.resetInternalMessageCount=function(){r=0,n={};},i.logInternalMessage=function(u,s){if(!o()){var c=true,l=Jc+s.messageId;if(n[l]?c=false:n[l]=true,c&&(u<=i.telemetryLoggingLevel()&&(i.queue.push(s),r++),r===i.maxInternalMessageLimit())){var f2="Internal events throttle limit per PageView reached for this app.",g=new Rt(h.MessageLimitPerPVExceeded,f2,false);i.queue.push(g),i.warnToConsole(f2);}}};function a(u,s){var c=e[u];return x(c)?s:c;}function o(){return r>=i.maxInternalMessageLimit();}});}return t;}();});function ut(t,e,r,n,i){if(t){var a=t;if(z(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,u=a.getCtx(ra);try{if(o=a.create(e(),n,i),o){if(u&&o.setCtx&&(o.setCtx(ur.ParentContextKey,u),u.getCtx&&u.setCtx)){var s=u.getCtx(ur.ChildrenContextKey);s||(s=[],u.setCtx(ur.ChildrenContextKey,s)),s.push(o);}return a.setCtx(ra,o),r(o);}}catch(c){o&&o.setCtx&&o.setCtx("exception",c);}finally{o&&a.fire(o),a.setCtx(ra,u);}}}return r();}var Dr;var ur;var Xr;var ra;var Jr=I(function(){Ce();Me();Dr="ctx",ur=function(){function t(e,r,n){var i=this,a=false;if(i.start=pe(),i.name=e,i.isAsync=n,i.isChildEvt=function(){return false;},z(r)){var o;a=St(i,"payload",function(){return!o&&z(r)&&(o=r(),r=null),o;});}i.getCtx=function(u){return u?u===t.ParentContextKey||u===t.ChildrenContextKey?i[u]:(i[Dr]||{})[u]:null;},i.setCtx=function(u,s){if(u)if(u===t.ParentContextKey)i[u]||(i.isChildEvt=function(){return true;}),i[u]=s;else if(u===t.ChildrenContextKey)i[u]=s;else{var c=i[Dr]=i[Dr]||{};c[u]=s;}},i.complete=function(){var u=0,s=i.getCtx(t.ChildrenContextKey);if(Fe(s))for(var c=0;c<s.length;c++){var l=s[c];l&&(u+=l.time);}i.time=pe()-i.start,i.exTime=i.time-u,i.complete=function(){},!a&&z(r)&&(i.payload=r());};}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t;}(),Xr=function(){function t(e){this.ctx={},W(t,this,function(r){r.create=function(n,i,a){return new ur(n,i,a);},r.fire=function(n){n&&(n.complete(),e&&e.perfEvent(n));},r.setCtx=function(n,i){if(n){var a=r[Dr]=r[Dr]||{};a[n]=i;}},r.getCtx=function(n){return(r[Dr]||{})[n];};});}return t;}(),ra="CoreUtils.doPerf";});var Vo;var qo=I(function(){"use strict";Jr();jr();Me();Vo=function(){function t(e,r){var n=this,i=null,a=z(e.processTelemetry),o=z(e.setNextPlugin);n._hasRun=false,n.getPlugin=function(){return e;},n.getNext=function(){return i;},n.setNext=function(u){i=u;},n.processTelemetry=function(u,s){s||(s=r);var c=e?e.identifier:"TelemetryPluginChain";ut(s?s.core():null,function(){return c+":processTelemetry";},function(){if(e&&a){n._hasRun=true;try{s.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=false),e.processTelemetry(u,s);}catch(f2){var l=i&&i._hasRun;(!i||!l)&&s.diagLog().throwInternal(S.CRITICAL,h.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+f2),i&&!l&&i.processTelemetry(u,s);}}else i&&(n._hasRun=true,i.processTelemetry(u,s));},function(){return{item:u};},!u.sync);};}return t;}();});function na(t,e){var r=[];if(t&&t.length>0)for(var n=null,i=0;i<t.length;i++){var a=t[i];if(a&&z(a.processTelemetry)){var o=new Vo(a,e);r.push(o),n&&n.setNext(o),n=o;}}return r.length>0?r[0]:null;}function Qc(t,e,r){var n=[],i=!r;if(t)for(;t;){var a=t.getPlugin();(i||a===r)&&(i=true,n.push(a)),t=t.getNext();}return i||n.push(r),na(n,e);}function Zc(t,e,r){var n=t,i=false;return r&&t&&(n=[],R(t,function(a){(i||a===r)&&(i=true,n.push(a));})),r&&!i&&(n||(n=[]),n.push(r)),na(n,e);}var Lt;var $n=I(function(){"use strict";Yn();qo();Me();Lt=function(){function t(e,r,n,i){var a=this,o=null;i!==null&&(e&&z(e.getPlugin)?o=Qc(e,a,i||e.getPlugin()):i?o=Zc(e,a,i):fe(i)&&(o=na(e,a))),a.core=function(){return n;},a.diagLog=function(){return Mt(n,r);},a.getCfg=function(){return r;},a.getExtCfg=function(u,s){s===void 0&&(s={});var c;if(r){var l=r.extensionConfig;l&&u&&(c=l[u]);}return c||s;},a.getConfig=function(u,s,c){c===void 0&&(c=false);var l,f2=a.getExtCfg(u,null);return f2&&!x(f2[s])?l=f2[s]:r&&!x(r[s])&&(l=r[s]),x(l)?c:l;},a.hasNext=function(){return o!=null;},a.getNext=function(){return o;},a.setNext=function(u){o=u;},a.processNext=function(u){var s=o;s&&(o=s.getNext(),s.processTelemetry(u,a));},a.createNew=function(u,s){return u===void 0&&(u=null),new t(u||o,r,n,s);};}return t;}();});var jo;var ei;var ia=I(function(){jo="iKey",ei="extensionConfig";});var ti;var et;var aa=I(function(){"use strict";$n();Me();ia();ti="getPlugin",et=function(){function t(){var e=this,r=false,n=null,i=null;e.core=null,e.diagLog=function(a){return e._getTelCtx(a).diagLog();},e.isInitialized=function(){return r;},e.setInitialized=function(a){r=a;},e.setNextPlugin=function(a){i=a;},e.processNext=function(a,o){o?o.processNext(a):i&&z(i.processTelemetry)&&i.processTelemetry(a,null);},e._getTelCtx=function(a){a===void 0&&(a=null);var o=a;if(!o){var u=n||new Lt(null,{},e.core);i&&i[ti]?o=u.createNew(null,i[ti]):o=u.createNew(null,i);}return o;},e._baseTelInit=function(a,o,u,s){a&&K(a,ei,[],null,x),!s&&o&&(s=o.getProcessTelContext().getNext());var c=i;i&&i[ti]&&(c=i[ti]()),e.core=o,n=new Lt(s,a,o,c),r=true;};}return t.prototype.initialize=function(e,r,n,i){this._baseTelInit(e,r,n,i);},t;}();});function Qr(t,e){for(var r=[],n=null,i=t.getNext();i;){var a=i.getPlugin();a&&(n&&z(n[Ko])&&z(a[oa])&&n[Ko](a),(!z(a[Wo])||!a[Wo]())&&r.push(a),n=a,i=i.getNext());}R(r,function(o){o.initialize(t.getCfg(),t.core(),e,t.getNext());});}function sa(t){return t.sort(function(e,r){var n=0,i=z(r[oa]);return z(e[oa])?n=i?e[Go]-r[Go]:1:i&&(n=-1),n;});}var oa;var Go;var Ko;var Wo;var ua=I(function(){"use strict";Me();oa="processTelemetry",Go="priority",Ko="setNextPlugin",Wo="isInitialized";});var ca;var Yc;var Xo;var Jo=I(function(){"use strict";ne();Ce();aa();$n();ua();Me();ca=500,Yc="Channel has invalid priority",Xo=function(t){B(e,t);function e(){var r=t.call(this)||this;r.identifier="ChannelControllerPlugin",r.priority=ca;var n;W(e,r,function(u,s){u.setNextPlugin=function(c){},u.processTelemetry=function(c,l){n&&R(n,function(f2){if(f2.length>0){var g=r._getTelCtx(l).createNew(f2);g.processNext(c);}});},u.getChannelControls=function(){return n;},u.initialize=function(c,l,f2){u.isInitialized()||(s.initialize(c,l,f2),o((c||{}).channels,f2),R(n,function(g){return Qr(new Lt(g,c,l),f2);}));};});function i(u){R(u,function(s){s.priority<ca&&Ae(Yc+s.identifier);});}function a(u){u&&u.length>0&&(u=u.sort(function(s,c){return s.priority-c.priority;}),i(u),n.push(u));}function o(u,s){if(n=[],u&&R(u,function(l){return a(l);}),s){var c=[];R(s,function(l){l.priority>ca&&c.push(l);}),a(c);}}return r;}return e._staticInit=function(){var r=e.prototype;St(r,"ChannelControls",r.getChannelControls),St(r,"channelQueue",r.getChannelControls);}(),e;}(et);});function va(t,e){var r=cr[Kt]||ii[Kt];return r||(r=cr[Kt]=cr(t,e),ii[Kt]=r),r;}function ni(t){return t?t.isEnabled():true;}function $c(t){var e=t.cookieCfg=t.cookieCfg||{};if(K(e,"domain",t.cookieDomain,qi,x),K(e,"path",t.cookiePath||"/",null,x),x(e[pa])){var r=void 0;fe(t[Yo])||(r=!t[Yo]),fe(t[$o])||(r=!t[$o]),e[pa]=r;}return e;}function lr(t,e){var r;if(t)r=t.getCookieMgr();else if(e){var n=e.cookieCfg;n[Kt]?r=n[Kt]:r=cr(e);}return r||(r=va(e,(t||{}).logger)),r;}function cr(t,e){var r=$c(t||ii),n=r.path||"/",i=r.domain,a=r[pa]!==false,o={isEnabled:function isEnabled(){var u=a&&da(e),s=ii[Kt];return u&&s&&o!==s&&(u=ni(s)),u;},setEnabled:function setEnabled(u){a=u!==false;},set:function set(u,s,c,l,f2){if(ni(o)){var g={},C=oe(s||ht),E=C.indexOf(";");if(E!==-1&&(C=oe(s.substring(0,E)),g=as(s.substring(E+1))),K(g,"domain",l||i,br,fe),!x(c)){var b=Gt();if(fe(g[la])){var p=pe(),m=p+c*1e3;if(m>0){var y=new Date();y.setTime(m),K(g,la,rs(y,b?Qo:Zo)||rs(y,b?Qo:Zo)||ht,br);}}b||K(g,"max-age",ht+c,null,fe);}var w=$e();w&&w.protocol==="https:"&&(K(g,"secure",null,null,fe),fa===null&&(fa=!ai((Le()||{}).userAgent)),fa&&K(g,"SameSite","None",null,fe)),K(g,"path",f2||n,null,fe);var L=r.setCookie||is;L(u,ns(C,g));}},get:function get(u){var s=ht;return ni(o)&&(s=(r.getCookie||el)(u)),s;},del:function del(u,s){ni(o)&&o.purge(u,s);},purge:function purge(u,s){if(da(e)){var c=(f2={},f2.path=s||"/",f2[la]="Thu, 01 Jan 1970 00:00:01 GMT",f2);Gt()||(c["max-age"]="0");var l=r.delCookie||is;l(u,ns(ht,c));}var f2;}};return o[Kt]=o,o;}function da(t){if(ri===null){ri=false;try{var e=Zr||{};ri=e[ga]!==void 0;}catch(r){t&&t.throwInternal(S.WARNING,h.CannotAccessCookie,"Cannot access document.cookie - "+G(r),{exception:O(r)});}}return ri;}function as(t){var e={};if(t&&t.length){var r=oe(t).split(";");R(r,function(n){if(n=oe(n||ht),n){var i=n.indexOf("=");i===-1?e[n]=null:e[oe(n.substring(0,i))]=oe(n.substring(i+1));}});}return e;}function rs(t,e){return z(t[e])?t[e]():null;}function ns(t,e){var r=t||ht;return $(e,function(n,i){r+="; "+n+(x(i)?ht:"="+i);}),r;}function el(t){var e=ht;if(Zr){var r=Zr[ga]||ht;es!==r&&(ts=as(r),es=r),e=oe(ts[t]||ht);}return e;}function is(t,e){Zr&&(Zr[ga]=t+"="+e);}function ai(t){return U(t)?!!(Te(t,"CPU iPhone OS 12")||Te(t,"iPad; CPU OS 12")||Te(t,"Macintosh; Intel Mac OS X 10_14")&&Te(t,"Version/")&&Te(t,"Safari")||Te(t,"Macintosh; Intel Mac OS X 10_14")&&Gi(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Te(t,"Chrome/5")||Te(t,"Chrome/6")||Te(t,"UnrealEngine")&&!Te(t,"Chrome")||Te(t,"UCBrowser/12")||Te(t,"UCBrowser/11")):false;}var Qo;var Zo;var ga;var la;var pa;var Yo;var $o;var Kt;var ht;var ri;var fa;var es;var Zr;var ts;var ii;var oi=I(function(){jr();Ar();Me();Qo="toGMTString",Zo="toUTCString",ga="cookie",la="expires",pa="enabled",Yo="isCookieUseDisabled",$o="disableCookiesUsage",Kt="_ckMgr",ht="",ri=null,fa=null,es=null,Zr=De(),ts={},ii={};});var tl;var os;var Yr;var ma=I(function(){"use strict";ne();Ce();Jo();$n();ua();Jr();oi();Me();ia();tl="Extensions must provide callback to initialize",os="_notificationManager",Yr=function(){function t(){var e=false,r,n,i,a,o;W(t,this,function(u){u._extensions=new Array(),n=new Xo(),u.logger=Dt({throwInternal:function throwInternal(s,c,l,f2,g){g===void 0&&(g=false);},warnToConsole:function warnToConsole(s){},resetInternalMessageCount:function resetInternalMessageCount(){}}),r=[],u.isInitialized=function(){return e;},u.initialize=function(s,c,l,f2){u.isInitialized()&&Ae("Core should not be initialized more than once"),(!s||x(s.instrumentationKey))&&Ae("Please provide instrumentation key"),i=f2,u[os]=f2,u.config=s||{},s.extensions=x(s.extensions)?[]:s.extensions;var g=ge(s,ei);g.NotificationManager=f2,l&&(u.logger=l);var C=[];C.push.apply(C,c.concat(s.extensions)),C=sa(C);var E=[],b=[],p={};R(C,function(m){(x(m)||x(m.initialize))&&Ae(tl);var y=m.priority,w=m.identifier;m&&y&&(x(p[y])?p[y]=w:l.warnToConsole("Two extensions have same priority #"+y+" - "+p[y]+", "+w)),!y||y<n.priority?E.push(m):b.push(m);}),C.push(n),E.push(n),C=sa(C),u._extensions=C,Qr(new Lt([n],s,u),C),Qr(new Lt(E,s,u),C),u._extensions=E,u.getTransmissionControls().length===0&&Ae("No channels available"),e=true,u.releaseQueue();},u.getTransmissionControls=function(){return n.getChannelControls();},u.track=function(s){K(s,jo,u.config.instrumentationKey,null,Xn),K(s,"time",Re(new Date()),null,Xn),K(s,"ver","4.0",null,x),u.isInitialized()?u.getProcessTelContext().processNext(s):r.push(s);},u.getProcessTelContext=function(){var s=u._extensions,c=s;return(!s||s.length===0)&&(c=[n]),new Lt(c,u.config,u);},u.getNotifyMgr=function(){return i||(i=Dt({addNotificationListener:function addNotificationListener(s){},removeNotificationListener:function removeNotificationListener(s){},eventsSent:function eventsSent(s){},eventsDiscarded:function eventsDiscarded(s,c){},eventsSendRequest:function eventsSendRequest(s,c){}}),u[os]=i),i;},u.getCookieMgr=function(){return o||(o=cr(u.config,u.logger)),o;},u.setCookieMgr=function(s){o=s;},u.getPerfMgr=function(){return a||u.config&&u.config.enablePerfMgr&&(a=new Xr(u.getNotifyMgr())),a;},u.setPerfMgr=function(s){a=s;},u.eventCnt=function(){return r.length;},u.releaseQueue=function(){r.length>0&&(R(r,function(s){u.getProcessTelContext().processNext(s);}),r=[]);};});}return t;}();});var $r;var ha=I(function(){Ce();Me();$r=function(){function t(e){this.listeners=[];var r=!!(e||{}).perfEvtsSendAll;W(t,this,function(n){n.addNotificationListener=function(i){n.listeners.push(i);},n.removeNotificationListener=function(i){for(var a=Ft(n.listeners,i);a>-1;){n.listeners.splice(a,1),a=Ft(n.listeners,i);}},n.eventsSent=function(i){R(n.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i);},0);});},n.eventsDiscarded=function(i,a){R(n.listeners,function(o){o&&o.eventsDiscarded&&setTimeout(function(){return o.eventsDiscarded(i,a);},0);});},n.eventsSendRequest=function(i,a){R(n.listeners,function(o){if(o&&o.eventsSendRequest)if(a)setTimeout(function(){return o.eventsSendRequest(i,a);},0);else try{o.eventsSendRequest(i,a);}catch(u){}});},n.perfEvent=function(i){i&&(r||!i.isChildEvt())&&R(n.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i);},0);else try{a.perfEvent(i);}catch(o){}});};});}return t;}();});var en;var ss=I(function(){ne();ma();Io();ha();Jr();Yn();Ce();Me();en=function(t){B(e,t);function e(){var r=t.call(this)||this;return W(e,r,function(n,i){n.initialize=function(u,s,c,l){i.initialize(u,s,c||new Zn(u),l||new $r(u));},n.track=function(u){ut(n.getPerfMgr(),function(){return"AppInsightsCore:track";},function(){u===null&&(o(u),Ae("Invalid telemetry item")),a(u),i.track(u);},function(){return{item:u};},!u.sync);},n.addNotificationListener=function(u){var s=n.getNotifyMgr();s&&s.addNotificationListener(u);},n.removeNotificationListener=function(u){var s=n.getNotifyMgr();s&&s.removeNotificationListener(u);},n.pollInternalLogs=function(u){var s=n.config.diagnosticLogInterval;return(!s||!(s>0))&&(s=1e4),setInterval(function(){var c=n.logger?n.logger.queue:[];R(c,function(l){var f2={name:u||"InternalMessageId: "+l.messageId,iKey:n.config.instrumentationKey,time:Re(new Date()),baseType:Rt.dataType,baseData:{message:l.message}};n.track(f2);}),c.length=0;},s);};function a(u){if(x(u.name))throw o(u),Error("telemetry name required");}function o(u){var s=n.getNotifyMgr();s&&s.eventsDiscarded([u],So.InvalidEvent);}}),r;}return e;}(Yr);});function ls(t){t<0&&(t>>>=0),tn=123456789+t&Wt,rn=987654321-t&Wt,cs=true;}function fs(){try{var t=pe()&2147483647;ls((Math.random()*us^t)+t);}catch(e){}}function si(t){return t>0?Math.floor(Ct()/Wt*(t+1))>>>0:0;}function Ct(t){var e,r=$i()||ea();return r&&r.getRandomValues?e=r.getRandomValues(new Uint32Array(1))[0]&Wt:Gt()?(cs||fs(),e=ui()&Wt):e=Math.floor(us*Math.random()|0),t||(e>>>=0),e;}function xa(t){t?ls(t):fs();}function ui(t){rn=36969*(rn&65535)+(rn>>16)&Wt,tn=18e3*(tn&65535)+(tn>>16)&Wt;var e=(rn<<16)+(tn&65535)>>>0&Wt|0;return t||(e>>>=0),e;}var us;var Wt;var cs;var tn;var rn;var ya=I(function(){Ar();Me();us=4294967296,Wt=4294967295,cs=false,tn=123456789,rn=987654321;});function _t(t,e){var r=false,n=It();n&&(r=Vt(n,t,e),r=Vt(n.body,t,e)||r);var i=De();return i&&(r=Jt.Attach(i,t,e)||r),r;}function ps(){function t(){return si(15);}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(rl,function(e){var r=t()|0,n=e==="x"?r:r&3|8;return n.toString(16);});}function ds(){var t=Je();return t&&t.now?t.now():pe();}function Xt(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Ct()>>>0,n=0,i="";i.length<t;){n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(Ct()<<2&4294967295|r&3)>>>0,n=0);}return i;}function Oe(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e="",r,n=0;n<4;n++){r=Ct(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];}var i=t[8+(Ct()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12);}function Qt(t,e){var r=va(t,e),n=on._canUseCookies;return nn===null&&(nn=[],an=n,St(on,"_canUseCookies",function(){return an;},function(i){an=i,R(nn,function(a){a.setEnabled(i);});})),Ft(nn,r)===-1&&nn.push(r),Gr(n)&&r.setEnabled(n),Gr(an)&&r.setEnabled(an),r;}function ci(){Qt().setEnabled(false);}function Sa(t){return Qt(null,t).isEnabled();}function Ia(t,e){return Qt(null,t).get(e);}function Ca(t,e,r,n){Qt(null,t).set(e,r,null,n);}function Ta(t,e){return Qt(null,t).del(e);}var nn;var an;var on;var rl;var Jt;var gs=I(function(){"use strict";ne();oi();Ar();Me();ya();nn=null;on={_canUseCookies:void 0,isTypeof:Vi,isUndefined:fe,isNullOrUndefined:x,hasOwnProperty:wr,isFunction:z,isObject:st,isDate:Pr,isArray:Fe,isError:qt,isString:U,isNumber:ar,isBoolean:Gr,toISOString:Re,arrForEach:R,arrIndexOf:Ft,arrMap:jt,arrReduce:Kr,strTrim:oe,objCreate:Dt,objKeys:Ye,objDefineAccessors:St,addEventHandler:_t,dateNow:pe,isIE:Gt,disableCookies:ci,newGuid:ps,perfNow:ds,newId:Xt,randomValue:si,random32:Ct,mwcRandomSeed:xa,mwcRandom32:ui,generateW3CId:Oe},rl=/[xy]/g,Jt={Attach:Vt,AttachEvent:Vt,Detach:Wn,DetachEvent:Wn};});function wa(t,e){if(t)for(var r=0;r<t.length&&!e(t[r],r);r++){;}}function Ea(t,e,r,n,i){i>=0&&i<=2&&wa(t,function(a,o){var u=a.cbks,s=u[ms[i]];if(s){e.ctx=function(){var f2=n[o]=n[o]||{};return f2;};try{s.apply(e.inst,r);}catch(f2){var c=e.err;try{var l=u[ms[2]];l&&(e.err=f2,l.apply(e.inst,r));}catch(g){}finally{e.err=c;}}}});}function al(t){return function(){var e=this,r=arguments,n=t.h,i={name:t.n,inst:e,ctx:null,set:s},a=[],o=u([i],r);function u(l,f2){return wa(f2,function(g){l.push(g);}),l;}function s(l,f2){r=u([],r),r[l]=f2,o=u([i],r);}Ea(n,i,o,a,0);var c=t.f;try{i.rslt=c.apply(e,r);}catch(l){throw i.err=l,Ea(n,i,o,a,3),l;}return Ea(n,i,o,a,1),i.rslt;};}function ol(t){if(t){if(hs)return hs(t);var e=t[nl]||t[Ie]||t[il];if(e)return e;}return null;}function xs(t,e,r){var n=null;return t&&(wr(t,e)?n=t:r&&(n=xs(ol(t),e,false))),n;}function Pa(t,e,r){return t?sn(t[Ie],e,r,false):null;}function sn(t,e,r,n){if(n===void 0&&(n=true),t&&e&&r){var i=xs(t,e,n);if(i){var a=i[e];if(_typeof(a)===gt){var o=a[vs];if(!o){o={i:0,n:e,f:a,h:[]};var u=al(o);u[vs]=o,i[e]=u;}var s={id:o.i,cbks:r,rm:function rm(){var c=this.id;wa(o.h,function(l,f2){if(l.id===c)return o.h.splice(f2,1),1;});}};return o.i++,o.h.push(s),s;}}}return null;}var vs;var ms;var nl;var il;var hs;var ys=I(function(){ne();Me();vs="_aiHooks",ms=["req","rsp","hkErr","fnErr"],nl="__proto__",il="constructor";hs=Object.getPrototypeOf;});var X=I(function(){ss();ma();aa();ya();gs();Me();Ar();ne();ha();Jr();Yn();jr();ys();oi();});var te;var ba=I(function(){te={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"};});function li(t,e,r){var n=e.length,i=Aa(t,e);if(i.length!==n){for(var a=0,o=i;r[o]!==void 0;){a++,o=i.substring(0,150-3)+Da(a);}i=o;}return i;}function Aa(t,e){var r;return e&&(e=oe(e.toString()),e.length>150&&(r=e.substring(0,150),t.throwInternal(S.WARNING,h.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:e},true))),r||e;}function ae(t,e,r){r===void 0&&(r=1024);var n;return e&&(r=r||1024,e=oe(e),e.toString().length>r&&(n=e.toString().substring(0,r),t.throwInternal(S.WARNING,h.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:e},true))),n||e;}function Tt(t,e){return di(t,e,2048,h.UrlTooLong);}function Nr(t,e){var r;return e&&e.length>32768&&(r=e.substring(0,32768),t.throwInternal(S.WARNING,h.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:e},true)),r||e;}function fi(t,e){var r;if(e){var n=""+e;n.length>32768&&(r=n.substring(0,32768),t.throwInternal(S.WARNING,h.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:e},true));}return r||e;}function Be(t,e){if(e){var r={};$(e,function(n,i){if(st(i)&&mt())try{i=we().stringify(i);}catch(a){t.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},true);}i=ae(t,i,8192),n=li(t,n,r),r[n]=i;}),e=r;}return e;}function ze(t,e){if(e){var r={};$(e,function(n,i){n=li(t,n,r),r[n]=i;}),e=r;}return e;}function pi(t,e){return e&&di(t,e,128,h.IdTooLong).toString();}function di(t,e,r,n){var i;return e&&(e=oe(e),e.length>r&&(i=e.substring(0,r),t.throwInternal(S.WARNING,n,"input is too long, it has been truncated to "+r+" characters.",{data:e},true))),i||e;}function Da(t){var e="00"+t;return e.substr(e.length-3);}var Na;var ct=I(function(){X();Na={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:li,sanitizeKey:Aa,sanitizeString:ae,sanitizeUrl:Tt,sanitizeMessage:Nr,sanitizeException:fi,sanitizeProperties:Be,sanitizeMeasurements:ze,sanitizeId:pi,sanitizeInput:di,padNumber:Da,trim:oe};});function Ut(t){var e=null;if(z(Event))e=new Event(t);else{var r=De();r&&r.createEvent&&(e=r.createEvent("Event"),e.initEvent(t,true,true));}return e;}var ka=I(function(){X();});function ee(t,e){return e===void 0&&(e=false),t==null?e:t.toString().toLowerCase()==="true";}function Ge(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=""+t%1e3,r=""+Math.floor(t/1e3)%60,n=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,a=Math.floor(t/(1e3*60*60*24));return e=e.length===1?"00"+e:e.length===2?"0"+e:e,r=r.length<2?"0"+r:r,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+n+":"+r+"."+e;}function kr(){var t=Le();return"sendBeacon"in t&&t.sendBeacon;}function un(t,e){var r=null;return R(t,function(n){if(n.identifier===e)return r=n,-1;}),r;}function cn(t,e,r,n,i){return!i&&U(t)&&(t==="Script error."||t==="Script error");}var ln=I(function(){X();});var Et;var fr;var Ot;var Fr;var fn;var ce;var lt=I(function(){Et="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",fr="sampleRate",Ot="ProcessLegacy",Fr="http.method",fn="https://dc.services.visualstudio.com",ce="not_specified";});var Zt;var Ke;var Fa=I(function(){(function(t){t[t.LocalStorage=0]="LocalStorage",t[t.SessionStorage=1]="SessionStorage";})(Zt||(Zt={}));(function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C",t[t.W3C=2]="W3C";})(Ke||(Ke={}));});function Ra(){return Rr()?gi(Zt.LocalStorage):null;}function gi(t){try{if(x(ot()))return null;var e=new Date(),r=Ee(t===Zt.LocalStorage?"localStorage":"sessionStorage");r.setItem(e.toString(),e.toString());var n=r.getItem(e.toString())!==e.toString();if(r.removeItem(e.toString()),!n)return r;}catch(i){}return null;}function Ma(){return wt()?gi(Zt.SessionStorage):null;}function pn(){pr=false,dr=false;}function Rr(){return pr===void 0&&(pr=!!gi(Zt.LocalStorage)),pr;}function dn(t,e){var r=Ra();if(r!==null)try{return r.getItem(e);}catch(n){pr=false,t.throwInternal(S.WARNING,h.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+G(n),{exception:O(n)});}return null;}function gn(t,e,r){var n=Ra();if(n!==null)try{return n.setItem(e,r),true;}catch(i){pr=false,t.throwInternal(S.WARNING,h.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+G(i),{exception:O(i)});}return false;}function vn(t,e){var r=Ra();if(r!==null)try{return r.removeItem(e),true;}catch(n){pr=false,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+G(n),{exception:O(n)});}return false;}function wt(){return dr===void 0&&(dr=!!gi(Zt.SessionStorage)),dr;}function La(){var t=[];return wt()&&$(Ee("sessionStorage"),function(e){t.push(e);}),t;}function Yt(t,e){var r=Ma();if(r!==null)try{return r.getItem(e);}catch(n){dr=false,t.throwInternal(S.WARNING,h.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+G(n),{exception:O(n)});}return null;}function $t(t,e,r){var n=Ma();if(n!==null)try{return n.setItem(e,r),true;}catch(i){dr=false,t.throwInternal(S.WARNING,h.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+G(i),{exception:O(i)});}return false;}function mn(t,e){var r=Ma();if(r!==null)try{return r.removeItem(e),true;}catch(n){dr=false,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+G(n),{exception:O(n)});}return false;}var pr;var dr;var _a3=I(function(){X();Fa();pr=void 0,dr=void 0;});function gr(t){var e=Is,r=sl,n=r[e];return Ss.createElement?r[e]||(n=r[e]=Ss.createElement("a")):n={host:vi(t,true)},n.href=t,e++,e>=r.length&&(e=0),Is=e,n;}function hn(t){var e,r=gr(t);return r&&(e=r.href),e;}function Ua(t){var e,r=gr(t);return r&&(e=r.pathname),e;}function xn(t,e){return t?t.toUpperCase()+" "+e:e;}function vi(t,e){var r=yn(t,e)||"";if(r){var n=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>3&&U(n[2])&&n[2].length>0)return n[2]+(n[3]||"");}return r;}function yn(t,e){var r=null;if(t){var n=t.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>2&&U(n[2])&&n[2].length>0&&(r=n[2]||"",e&&n.length>2)){var i=(n[1]||"").toLowerCase(),a=n[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),r+=a;}}return r;}var Ss;var Is;var sl;var Oa=I(function(){X();Ss=De()||{},Is=0,sl=[null,null,null,null,null];});function Mr(t){return ul.indexOf(t.toLowerCase())!==-1;}function Cs(t,e,r,n){var i,a=n,o=n;if(e&&e.length>0){var u=gr(e);if(i=u.host,!a)if(u.pathname!=null){var s=u.pathname.length===0?"/":u.pathname;s.charAt(0)!=="/"&&(s="/"+s),o=u.pathname,a=ae(t,r?r+" "+s:s);}else a=ae(t,e);}else i=n,a=n;return{target:i,name:a,data:o};}function vr(){var t=Je();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e;}return pe();}function ve(t,e){var r=null;return t!==0&&e!==0&&!x(t)&&!x(e)&&(r=e-t),r;}var ul;var Sn;var Ba;var Pt;var za;var Ha=I(function(){X();ba();ct();ka();ln();lt();_a3();Oa();ul=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];Sn={NotSpecified:ce,createDomEvent:Ut,disableStorage:pn,isInternalApplicationInsightsEndpoint:Mr,canUseLocalStorage:Rr,getStorage:dn,setStorage:gn,removeStorage:vn,canUseSessionStorage:wt,getSessionStorageKeys:La,getSessionStorage:Yt,setSessionStorage:$t,removeSessionStorage:mn,disableCookies:ci,canUseCookies:Sa,disallowsSameSiteNone:ai,setCookie:Ca,stringToBoolOrDefault:ee,getCookie:Ia,deleteCookie:Ta,trim:oe,newId:Xt,random32:function random32(){return Ct(true);},generateW3CId:Oe,isArray:Fe,isError:qt,isDate:Pr,toISOStringForIE8:Re,getIEVersion:sr,msToTimeSpan:Ge,isCrossOriginError:cn,dump:O,getExceptionName:G,addEventHandler:Vt,IsBeaconApiSupported:kr,getExtension:un},Ba={parseUrl:gr,getAbsoluteUrl:hn,getPathName:Ua,getCompleteUrl:xn,parseHost:vi,parseFullHost:yn},Pt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function canIncludeCorrelationHeader(t,e,r){if(!e||t&&t.disableCorrelationHeaders)return false;if(t&&t.correlationHeaderExcludePatterns){for(var n=0;n<t.correlationHeaderExcludePatterns.length;n++){if(t.correlationHeaderExcludePatterns[n].test(e))return false;}}var i=gr(e).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(yn(e,true)||"").toLowerCase()),(!t||!t.enableCorsCorrelation)&&i&&i!==r)return false;var a=t&&t.correlationHeaderDomains;if(a){var o;if(R(a,function(c){var l=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||l.test(i);}),!o)return false;}var u=t&&t.correlationHeaderExcludedDomains;if(!u||u.length===0)return true;for(var n=0;n<u.length;n++){var s=new RegExp(u[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(s.test(i))return false;}return i&&i.length>0;},getCorrelationContext:function getCorrelationContext(t){if(t){var e=Pt.getCorrelationContextValue(t,te.requestContextTargetKey);if(e&&e!==Pt.correlationIdPrefix)return e;}},getCorrelationContextValue:function getCorrelationContextValue(t,e){if(t)for(var r=t.split(","),n=0;n<r.length;++n){var i=r[n].split("=");if(i.length===2&&i[0]===e)return i[1];}}};za={Now:vr,GetDuration:ve};});function mi(t){if(!t)return{};var e=t.split(cl),r=Kr(e,function(i,a){var o=a.split(ll);if(o.length===2){var u=o[0].toLowerCase(),s=o[1];i[u]=s;}return i;},{});if(Ye(r).length>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+n+"dc."+r.endpointsuffix;}r.ingestionendpoint=r.ingestionendpoint||fn;}return r;}var cl;var ll;var Va;var Ts=I(function(){lt();X();cl=";",ll="=";Va={parse:mi};});var In;var qa=I(function(){In=function(){function t(){}return t;}();});var Cn;var ja=I(function(){ne();qa();Cn=function(t){B(e,t);function e(){return t.call(this)||this;}return e;}(In);});var Es;var ws=I(function(){Es=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={};}return t;}();});var Tn;var Ps=I(function(){ne();ws();ct();X();lt();Tn=function(t){B(e,t);function e(r,n,i){var a=t.call(this)||this;return a.name=ae(r,i)||ce,a.data=n,a.time=Re(new Date()),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function sampleRate(){return a.sampleRate===100?4:1;},tags:1,data:1},a;}return e;}(Es);});var hi;var Ga=I(function(){hi=function(){function t(){this.ver=2,this.properties={},this.measurements={};}return t;}();});var He;var bs=I(function(){ne();Ga();ct();lt();He=function(t){B(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=ae(r,n)||ce,o.properties=Be(r,i),o.measurements=ze(r,a),o;}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e;}(hi);});var As;var Ds=I(function(){As=function(){function t(){}return t;}();});var Ns;var ks=I(function(){Ns=function(){function t(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={};}return t;}();});var Fs;var Rs=I(function(){Fs=function(){function t(){this.hasFullStack=true,this.parsedStack=[];}return t;}();});function Ja(t,e){var r=t;return r&&!U(r)&&(JSON&&JSON.stringify?(r=JSON.stringify(t),e&&(!r||r==="{}")&&(z(t.toString)?r=t.toString():r=""+t)):r=""+t+" - (Missing JSON.stringify)"),r||"";}function Os(t,e){var r=t;return t&&(r=t[Xa]||t[Us]||"",r&&!U(r)&&(r=Ja(r,true)),t.filename&&(r=r+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&(r||"").indexOf(e)===-1&&(r=e+": "+r),r||"";}function pl(t){return st(t)?"hasFullStack"in t&&"typeName"in t:false;}function dl(t){return st(t)?"ver"in t&&"exceptions"in t&&"properties"in t:false;}function Ls(t){return t&&t.src&&U(t.src)&&t.obj&&Fe(t.obj);}function Lr(t){var e=t||"";U(e)||(U(e[ft])?e=e[ft]:e=""+e);var r=e.split("\n");return{src:e,obj:r};}function gl(t){for(var e=[],r=t.split("\n"),n=0;n<r.length;n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),e.push(i);}return{src:t,obj:e};}function Bs(t){var e=null;if(t)try{if(t[ft])e=Lr(t[ft]);else if(t[_r]&&t[_r][ft])e=Lr(t[_r][ft]);else if(t.exception&&t.exception[ft])e=Lr(t.exception[ft]);else if(Ls(t))e=t;else if(Ls(t[Wa]))e=t[Wa];else if(window.opera&&t[Xa])e=gl(t.message);else if(U(t))e=Lr(t);else{var r=t[Xa]||t[Us]||"";U(t[Ms])&&(r&&(r+="\n"),r+=" from "+t[Ms]),r&&(e=Lr(r));}}catch(n){e=Lr(n);}return e||{src:"",obj:null};}function vl(t){var e="";return t&&(t.obj?R(t.obj,function(r){e+=r+"\n";}):e=t.src||""),e;}function ml(t){var e,r=t.obj;if(r&&r.length>0){e=[];var n=0,i=0;R(r,function(E){var b=E.toString();if(Qa.regex.test(b)){var p=new Qa(b,n++);i+=p.sizeInBytes,e.push(p);}});var a=32*1024;if(i>a)for(var o=0,u=e.length-1,s=0,c=o,l=u;o<u;){var f2=e[o].sizeInBytes,g=e[u].sizeInBytes;if(s+=f2+g,s>a){var C=l-c+1;e.splice(c,C);break;}c=o,l=u,o++,u--;}}return e;}function xi(t){var e="";if(t&&(e=t.typeName||t.name||"",!e))try{var r=/function (.{1,200})\(/,n=r.exec(t.constructor.toString());e=n&&n.length>1?n[1]:"";}catch(i){}return e;}function Ka(t){if(t)try{if(!U(t)){var e=xi(t),r=Ja(t,false);return(!r||r==="{}")&&(t[_r]&&(t=t[_r],e=xi(t)),r=Ja(t,true)),r.indexOf(e)!==0&&e!=="String"?e+":"+r:r;}}catch(n){}return""+(t||"");}var fl;var _r;var ft;var Wa;var Ms;var Xa;var Us;var me;var _s;var Qa;var zs=I(function(){ne();Ds();ks();Rs();ct();X();lt();fl="<no_method>",_r="error",ft="stack",Wa="stackDetails",Ms="errorSrc",Xa="message",Us="description";me=function(t){B(e,t);function e(r,n,i,a,o,u){var s=t.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},dl(n)?(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,x(n.isManual)||(s.isManual=n.isManual)):(i||(i={}),s.exceptions=[new _s(r,n,i)],s.properties=Be(r,i),s.measurements=ze(r,a),o&&(s.severityLevel=o),u&&(s.id=u)),s;}return e.CreateAutoException=function(r,n,i,a,o,u,s,c){var l=xi(o||u||r);return{message:Os(r,l),url:n,lineNumber:i,columnNumber:a,error:Ka(o||u||r),evt:Ka(u||r),typeName:l,stackDetails:Bs(s||o||u),errorSrc:c};},e.CreateFromInterface=function(r,n,i,a){var o=n.exceptions&&jt(n.exceptions,function(s){return _s.CreateFromInterface(r,s);}),u=new e(r,yt({},n,{exceptions:o}),i,a);return u;},e.prototype.toInterface=function(){var r=this,n=r.exceptions,i=r.properties,a=r.measurements,o=r.severityLevel,u=r.ver,s=r.problemGroup,c=r.id,l=r.isManual,f2=n instanceof Array&&jt(n,function(g){return g.toInterface();})||void 0;return{ver:"4.0",exceptions:f2,severityLevel:o,properties:i,measurements:a,problemGroup:s,id:c,isManual:l};},e.CreateSimpleException=function(r,n,i,a,o,u){return{exceptions:[{hasFullStack:true,message:r,stack:o,typeName:n}]};},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Ka,e;}(Ns),_s=function(t){B(e,t);function e(r,n,i){var a=t.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},pl(n))a.typeName=n.typeName,a.message=n.message,a[ft]=n[ft],a.parsedStack=n.parsedStack,a.hasFullStack=n.hasFullStack;else{var o=n,u=o&&o.evt;qt(o)||(o=o[_r]||u||o),a.typeName=ae(r,xi(o))||ce,a.message=Nr(r,Os(n||o,a.typeName))||ce;var s=n[Wa]||Bs(n);a.parsedStack=ml(s),a[ft]=fi(r,vl(s)),a.hasFullStack=Fe(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName);}return a;}return e.prototype.toInterface=function(){var r=this.parsedStack instanceof Array&&jt(this.parsedStack,function(i){return i.toInterface();}),n={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[ft],parsedStack:r||void 0};return n;},e.CreateFromInterface=function(r,n){var i=n.parsedStack instanceof Array&&jt(n.parsedStack,function(o){return Qa.CreateFromInterface(o);})||n.parsedStack,a=new e(r,yt({},n,{parsedStack:i}));return a;},e;}(Fs),Qa=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof r=="string"){var a=r;i.level=n,i.method=fl,i.assembly=oe(a),i.fileName="",i.line=0;var o=a.match(e.regex);o&&o.length>=5&&(i.method=oe(o[2])||i.method,i.fileName=oe(o[4]),i.line=parseInt(o[5])||0);}else i.level=r.level,i.method=r.method,i.assembly=r.assembly,i.fileName=r.fileName,i.line=r.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=e.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i;}return e.CreateFromInterface=function(r){return new e(r,null);},e.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line};},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e;}(As);});var Hs;var Vs=I(function(){Hs=function(){function t(){this.ver=2,this.metrics=[],this.properties={},this.measurements={};}return t;}();});var yi;var qs=I(function(){(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation";})(yi||(yi={}));});var js;var Gs=I(function(){qs();js=function(){function t(){this.kind=yi.Measurement;}return t;}();});var Ks;var Ws=I(function(){ne();Gs();Ks=function(t){B(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},r;}return e;}(js);});var Ve;var Xs=I(function(){ne();Vs();ct();Ws();lt();Ve=function(t){B(e,t);function e(r,n,i,a,o,u,s,c){var l=t.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f2=new Ks();return f2.count=a>0?a:void 0,f2.max=isNaN(u)||u===null?void 0:u,f2.min=isNaN(o)||o===null?void 0:o,f2.name=ae(r,n)||ce,f2.value=i,l.metrics=[f2],l.properties=Be(r,s),l.measurements=ze(r,c),l;}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e;}(Hs);});var mr;var Si=I(function(){ne();Ga();mr=function(t){B(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r;}return e;}(hi);});var Ne;var Js=I(function(){ne();Si();ct();ln();lt();Ne=function(t){B(e,t);function e(r,n,i,a,o,u,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=pi(r,s),c.url=Tt(r,i),c.name=ae(r,n)||ce,isNaN(a)||(c.duration=Ge(a)),c.properties=Be(r,o),c.measurements=ze(r,u),c;}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e;}(mr);});var Qs;var Zs=I(function(){Qs=function(){function t(){this.ver=2,this.success=true,this.properties={},this.measurements={};}return t;}();});var qe;var Ys=I(function(){ne();ct();Ha();Zs();ln();qe=function(t){B(e,t);function e(r,n,i,a,o,u,s,c,l,f2,g,C){l===void 0&&(l="Ajax");var E=t.call(this)||this;E.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},E.id=n,E.duration=Ge(o),E.success=u,E.resultCode=s+"",E.type=ae(r,l);var b=Cs(r,i,c,a);return E.data=Tt(r,a)||b.data,E.target=ae(r,b.target),f2&&(E.target=E.target+" | "+f2),E.name=ae(r,b.name),E.properties=Be(r,g),E.measurements=ze(r,C),E;}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e;}(Qs);});var $s;var eu=I(function(){$s=function(){function t(){this.ver=2,this.properties={},this.measurements={};}return t;}();});var Qe;var tu=I(function(){ne();eu();ct();lt();Qe=function(t){B(e,t);function e(r,n,i,a,o){var u=t.call(this)||this;return u.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||ce,u.message=Nr(r,n),u.properties=Be(r,a),u.measurements=ze(r,o),i&&(u.severityLevel=i),u;}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e;}($s);});var ru;var nu=I(function(){ne();Si();ru=function(t){B(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r;}return e;}(mr);});var Ze;var iu=I(function(){ne();nu();ct();lt();Ze=function(t){B(e,t);function e(r,n,i,a,o,u,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Tt(r,i),c.name=ae(r,n)||ce,c.properties=Be(r,o),c.measurements=ze(r,u),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c;}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e;}(ru);});var xt;var au=I(function(){ne();ja();xt=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=r,i.baseData=n,i;}return e;}(Cn);});var Bt;var ou=I(function(){(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical";})(Bt||(Bt={}));});var Za;var su=I(function(){X();Za=function(){function t(){}return t.getConfig=function(e,r,n,i){i===void 0&&(i=false);var a;return n&&e.extensionConfig&&e.extensionConfig[n]&&!x(e.extensionConfig[n][r])?a=e.extensionConfig[n][r]:a=e[r],x(a)?i:a;},t;}();});function tr(t){var e="ai."+t+".";return function(r){return e+r;};}var En;var Pe;var Ii;var Ur;var Ya;var er;var hr;var wn;var xr;var $a=I(function(){ne();X();En=tr("application"),Pe=tr("device"),Ii=tr("location"),Ur=tr("operation"),Ya=tr("session"),er=tr("user"),hr=tr("cloud"),wn=tr("internal"),xr=function(t){B(e,t);function e(){return t.call(this)||this;}return e;}(Ki({applicationVersion:En("ver"),applicationBuild:En("build"),applicationTypeId:En("typeId"),applicationId:En("applicationId"),applicationLayer:En("layer"),deviceId:Pe("id"),deviceIp:Pe("ip"),deviceLanguage:Pe("language"),deviceLocale:Pe("locale"),deviceModel:Pe("model"),deviceFriendlyName:Pe("friendlyName"),deviceNetwork:Pe("network"),deviceNetworkName:Pe("networkName"),deviceOEMName:Pe("oemName"),deviceOS:Pe("os"),deviceOSVersion:Pe("osVersion"),deviceRoleInstance:Pe("roleInstance"),deviceRoleName:Pe("roleName"),deviceScreenResolution:Pe("screenResolution"),deviceType:Pe("type"),deviceMachineName:Pe("machineName"),deviceVMName:Pe("vmName"),deviceBrowser:Pe("browser"),deviceBrowserVersion:Pe("browserVersion"),locationIp:Ii("ip"),locationCountry:Ii("country"),locationProvince:Ii("province"),locationCity:Ii("city"),operationId:Ur("id"),operationName:Ur("name"),operationParentId:Ur("parentId"),operationRootId:Ur("rootId"),operationSyntheticSource:Ur("syntheticSource"),operationCorrelationVector:Ur("correlationVector"),sessionId:Ya("id"),sessionIsFirst:Ya("isFirst"),sessionIsNew:Ya("isNew"),userAccountAcquisitionDate:er("accountAcquisitionDate"),userAccountId:er("accountId"),userAgent:er("userAgent"),userId:er("id"),userStoreRegion:er("storeRegion"),userAuthUserId:er("authUserId"),userAnonymousUserAcquisitionDate:er("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:er("authUserAcquisitionDate"),cloudName:hr("name"),cloudRole:hr("role"),cloudRoleVer:hr("roleVer"),cloudRoleInstance:hr("roleInstance"),cloudEnvironment:hr("environment"),cloudLocation:hr("location"),cloudDeploymentUnit:hr("deploymentUnit"),internalNodeName:wn("nodeName"),internalSdkVersion:wn("sdkVersion"),internalAgentVersion:wn("agentVersion"),internalSnippet:wn("snippet"),internalSdkSrc:wn("sdkSrc")}));});var tt;var uu=I(function(){ct();X();lt();tt=function(){function t(){}return t.create=function(e,r,n,i,a,o){if(n=ae(i,n)||ce,x(e)||x(r)||x(n))throw Error("Input doesn't contain all required fields");var u={name:n,time:Re(new Date()),iKey:"",ext:o||{},tags:[],data:{},baseType:r,baseData:e};return x(a)||$(a,function(s,c){u.data[s]=c;}),u;},t;}();});var _e;var re;var cu=I(function(){$a();_e={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},re=new xr();});var zt;var Or;var Ci;var he=I(function(){Ha();Ts();ba();lt();ja();qa();Ps();bs();zs();Xs();Js();Si();Ys();tu();iu();au();ou();su();$a();ct();uu();cu();Fa();ln();ka();_a3();Oa();zt="AppInsightsPropertiesPlugin",Or="AppInsightsChannelPlugin",Ci="ApplicationInsightsAnalytics";});var lu;var fu=I(function(){he();X();Ce();lu=function(){function t(e,r,n,i){W(t,this,function(a){var o=null,u=[],s=false,c;n&&(c=n.logger);function l(){n&&R(n.getTransmissionControls(),function(g){R(g,function(C){return C.flush(true);});});}function f2(g){u.push(g),o||(o=setInterval(function(){var C=u.slice(0),E=false;u=[],R(C,function(b){b()?E=true:u.push(b);}),u.length===0&&(clearInterval(o),o=null),E&&l();},100));}a.trackPageView=function(g,C){var E=g.name;if(x(E)||typeof E!="string"){var b=De();E=g.name=b&&b.title||"";}var p=g.uri;if(x(p)||typeof p!="string"){var m=$e();p=g.uri=m&&m.href||"";}if(!i.isPerformanceTimingSupported()){e.sendPageViewInternal(g,C),l(),c.throwInternal(S.WARNING,h.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return;}var y=false,w,L=i.getPerformanceTiming().navigationStart;L>0&&(w=ve(L,+new Date()),i.shouldCollectDuration(w)||(w=void 0));var k;!x(C)&&!x(C.duration)&&(k=C.duration),(r||!isNaN(k))&&(isNaN(k)&&(C||(C={}),C.duration=w),e.sendPageViewInternal(g,C),l(),y=true);var Q=6e4;C||(C={}),f2(function(){var ye=false;try{if(i.isPerformanceTimingDataReady()){ye=true;var J={name:E,uri:p};i.populatePageViewPerformanceEvent(J),!J.isValid&&!y?(C.duration=w,e.sendPageViewInternal(g,C)):(y||(C.duration=J.durationMs,e.sendPageViewInternal(g,C)),s||(e.sendPageViewPerformanceInternal(J,C),s=true));}else L>0&&ve(L,+new Date())>Q&&(ye=true,y||(C.duration=Q,e.sendPageViewInternal(g,C)));}catch(de){c.throwInternal(S.CRITICAL,h.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+G(de),{exception:O(de)});}return ye;});};});}return t;}();});var pu;var hl;var du=I(function(){he();X();pu=function(){function t(e,r){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=r,this._logger=e;}return t.prototype.trackPreviousPageVisit=function(e,r){try{var n=this.restartPageVisitTimer(e,r);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime);}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+O(i));}},t.prototype.restartPageVisitTimer=function(e,r){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,r),n;}catch(i){return this._logger.warnToConsole("Call to restart failed: "+O(i)),null;}},t.prototype.startPageVisitTimer=function(e,r){try{if(wt()){Yt(this._logger,this.prevPageVisitDataKeyName)!=null&&Ae("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new hl(e,r),i=we().stringify(n);$t(this._logger,this.prevPageVisitDataKeyName,i);}}catch(a){this._logger.warnToConsole("Call to start failed: "+O(a));}},t.prototype.stopPageVisitTimer=function(){try{if(wt()){var e=pe(),r=Yt(this._logger,this.prevPageVisitDataKeyName);if(r&&mt()){var n=we().parse(r);return n.pageVisitTime=e-n.pageVisitStartTime,mn(this._logger,this.prevPageVisitDataKeyName),n;}else return null;}return null;}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+O(i)),null;}},t;}(),hl=function(){function t(e,r){this.pageVisitStartTime=pe(),this.pageName=e,this.pageUrl=r;}return t;}();});var gu;var vu=I(function(){he();X();gu=function(){function t(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger);}return t.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=false;var r=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,a=0,o=0,u=0,s=0;(r||n)&&(r?(i=r.duration,a=r.startTime===0?r.connectEnd:ve(r.startTime,r.connectEnd),o=ve(r.requestStart,r.responseStart),u=ve(r.responseStart,r.responseEnd),s=ve(r.responseEnd,r.loadEventEnd)):(i=ve(n.navigationStart,n.loadEventEnd),a=ve(n.navigationStart,n.connectEnd),o=ve(n.requestStart,n.responseStart),u=ve(n.responseStart,n.responseEnd),s=ve(n.responseEnd,n.loadEventEnd)),i===0?this._logger.throwInternal(S.WARNING,h.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:o,response:u,dom:s}):this.shouldCollectDuration(i,a,o,u,s)?i<Math.floor(a)+Math.floor(o)+Math.floor(u)+Math.floor(s)?this._logger.throwInternal(S.WARNING,h.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:o,response:u,dom:s}):(e.durationMs=i,e.perfTotal=e.duration=Ge(i),e.networkConnect=Ge(a),e.sentRequest=Ge(o),e.receivedResponse=Ge(u),e.domProcessing=Ge(s),e.isValid=true):this._logger.throwInternal(S.WARNING,h.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:o,response:u,dom:s}));},t.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Je().timing:null;},t.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Je().getEntriesByType("navigation")[0]:null;},t.prototype.isPerformanceNavigationTimingSupported=function(){var e=Je();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0;},t.prototype.isPerformanceTimingSupported=function(){var e=Je();return e&&e.timing;},t.prototype.isPerformanceTimingDataReady=function(){var e=Je(),r=e?e.timing:0;return r&&r.domainLookupStart>0&&r.navigationStart>0&&r.responseStart>0&&r.requestStart>0&&r.loadEventEnd>0&&r.responseEnd>0&&r.connectEnd>0&&r.domLoading>0;},t.prototype.shouldCollectDuration=function(){for(var e=[],r=0;r<arguments.length;r++){e[r]=arguments[r];}var n=Le()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=n.userAgent,o=false;if(a)for(var u=0;u<i.length;u++){o=o||a.toLowerCase().indexOf(i[u])!==-1;}if(o)return false;for(var u=0;u<e.length;u++){if(e[u]<0||e[u]>=this.MAX_DURATION_ALLOWED)return false;}return true;},t;}();});function Pn(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e);}var mu;var eo;var bn;var hu;var xu=I(function(){ne();he();X();fu();du();vu();Ce();mu="duration",eo="event";bn=function(t){B(e,t);function e(){var r=t.call(this)||this;r.identifier=Ci,r.priority=180,r.autoRoutePVDelay=500;var n,i,a,o=0,u,s;return W(e,r,function(c,l){var f2=$e(true);u=f2&&f2.href||"",c.getCookieMgr=function(){return lr(c.core);},c.processTelemetry=function(p,m){ut(c.core,function(){return c.identifier+":processTelemetry";},function(){var y=false,w=c._telemetryInitializers.length;m=c._getTelCtx(m);for(var L=0;L<w;++L){var k=c._telemetryInitializers[L];if(k)try{if(k.apply(null,[p])===false){y=true;break;}}catch(Q){m.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(Q),{exception:O(Q)},true);}}y||c.processNext(p,m);},function(){return{item:p};},!p.sync);},c.trackEvent=function(p,m){try{var y=tt.create(p,He.dataType,He.envelopeType,c.diagLog(),m);c.core.track(y);}catch(w){c.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)});}},c.startTrackEvent=function(p){try{n.start(p);}catch(m){c.diagLog().throwInternal(S.CRITICAL,h.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+G(m),{exception:O(m)});}},c.stopTrackEvent=function(p,m,y){try{n.stop(p,void 0,m);}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+G(w),{exception:O(w)});}},c.trackTrace=function(p,m){try{var y=tt.create(p,Qe.dataType,Qe.envelopeType,c.diagLog(),m);c.core.track(y);}catch(w){c.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)});}},c.trackMetric=function(p,m){try{var y=tt.create(p,Ve.dataType,Ve.envelopeType,c.diagLog(),m);c.core.track(y);}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+G(w),{exception:O(w)});}},c.trackPageView=function(p,m){try{var y=p||{};c._pageViewManager.trackPageView(y,yt({},y.properties,y.measurements,m)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(y.name,y.uri);}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageView failed, page view will not be collected: "+G(w),{exception:O(w)});}},c.sendPageViewInternal=function(p,m,y){var w=De();w&&(p.refUri=p.refUri===void 0?w.referrer:p.refUri);var L=tt.create(p,Ne.dataType,Ne.envelopeType,c.diagLog(),m,y);c.core.track(L),o=0;},c.sendPageViewPerformanceInternal=function(p,m,y){var w=tt.create(p,Ze.dataType,Ze.envelopeType,c.diagLog(),m,y);c.core.track(w);},c.trackPageViewPerformance=function(p,m){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(p),c.sendPageViewPerformanceInternal(p,m);}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+G(y),{exception:O(y)});}},c.startTrackPage=function(p){try{if(typeof p!="string"){var m=De();p=m&&m.title||"";}i.start(p);}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+G(y),{exception:O(y)});}},c.stopTrackPage=function(p,m,y,w){try{if(typeof p!="string"){var L=De();p=L&&L.title||"";}if(typeof m!="string"){var k=$e();m=k&&k.href||"";}i.stop(p,m,y,w),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(p,m);}catch(Q){c.diagLog().throwInternal(S.CRITICAL,h.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+G(Q),{exception:O(Q)});}},c.sendExceptionInternal=function(p,m,y){var w=p.exception||p.error||new Error(ce),L=new me(c.diagLog(),w,p.properties||m,p.measurements,p.severityLevel,p.id).toInterface(),k=tt.create(L,me.dataType,me.envelopeType,c.diagLog(),m,y);c.core.track(k);},c.trackException=function(p,m){try{c.sendExceptionInternal(p,m);}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.TrackExceptionFailed,"trackException failed, exception will not be collected: "+G(y),{exception:O(y)});}},c._onerror=function(p){var m=p&&p.error,y=p&&p.evt;try{if(!y){var w=It();w&&(y=w[eo]);}var L=p&&p.url||(De()||{}).URL,k=p.errorSrc||"window.onerror@"+L+":"+(p.lineNumber||0)+":"+(p.columnNumber||0),Q={errorSrc:k,url:L,lineNumber:p.lineNumber||0,columnNumber:p.columnNumber||0,message:p.message};cn(p.message,p.url,p.lineNumber,p.columnNumber,p.error)?b(me.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",L,p.lineNumber||0,p.columnNumber||0,m,y,null,k),Q):(p.errorSrc||(p.errorSrc=k),c.trackException({exception:p,severityLevel:Bt.Error},Q));}catch(J){var ye=m?m.name+", "+m.message:"null";c.diagLog().throwInternal(S.CRITICAL,h.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+G(J),{exception:O(J),errorString:ye});}},c.addTelemetryInitializer=function(p){c._telemetryInitializers.push(p);},c.initialize=function(p,m,y,w){if(!c.isInitialized()){if(x(m))throw Error("Error initializing");l.initialize(p,m,y,w),c.setInitialized(false);var L=c._getTelCtx(),k=c.identifier;c.config=L.getExtCfg(k);var Q=e.getDefaultConfig(p);Q!==void 0&&$(Q,function(A,H){c.config[A]=L.getConfig(k,A,H),c.config[A]===void 0&&(c.config[A]=H);}),c.config.isStorageUseDisabled&&pn();var ye={instrumentationKey:function instrumentationKey(){return p.instrumentationKey;},accountId:function accountId(){return c.config.accountId||p.accountId;},sessionRenewalMs:function sessionRenewalMs(){return c.config.sessionRenewalMs||p.sessionRenewalMs;},sessionExpirationMs:function sessionExpirationMs(){return c.config.sessionExpirationMs||p.sessionExpirationMs;},sampleRate:function sampleRate(){return c.config.samplingPercentage||p.samplingPercentage;},sdkExtension:function sdkExtension(){return c.config.sdkExtension||p.sdkExtension;},isBrowserLinkTrackingEnabled:function isBrowserLinkTrackingEnabled(){return c.config.isBrowserLinkTrackingEnabled||p.isBrowserLinkTrackingEnabled;},appId:function appId(){return c.config.appId||p.appId;}};c._pageViewPerformanceManager=new gu(c.core),c._pageViewManager=new lu(r,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new pu(c.diagLog(),function(A,H,_){return g(A,H,_);}),c._telemetryInitializers=c._telemetryInitializers||[],C(ye),n=new hu(c.diagLog(),"trackEvent"),n.action=function(A,H,_,j){j||(j={}),j[mu]=_.toString(),c.trackEvent({name:A,properties:j});},i=new hu(c.diagLog(),"trackPageView"),i.action=function(A,H,_,j,Z){x(j)&&(j={}),j[mu]=_.toString();var ie={name:A,uri:H,properties:j,measurements:Z};c.sendPageViewInternal(ie,j);};var J=It(),de=Zi(),be=$e(true),pt=r;if(c.config.disableExceptionTracking===false&&!c.config.autoExceptionInstrumented&&J){var it="onerror",dt=J[it];J.onerror=function(A,H,_,j,Z){var ie=J[eo],Ht=dt&&dt(A,H,_,j,Z);return Ht!==true&&pt._onerror(me.CreateAutoException(A,H,_,j,Z,ie)),Ht;},c.config.autoExceptionInstrumented=true;}if(c.config.disableExceptionTracking===false&&c.config.enableUnhandledPromiseRejectionTracking===true&&!c.config.autoUnhandledPromiseInstrumented&&J){var d="onunhandledrejection",T=J[d];J[d]=function(A){var H=J[eo],_=T&&T.call(J,A);return _!==true&&pt._onerror(me.CreateAutoException(A.reason.toString(),be?be.href:"",0,0,A,H)),_;},c.config.autoUnhandledPromiseInstrumented=true;}if(c.config.enableAutoRouteTracking===true&&de&&z(de.pushState)&&z(de.replaceState)&&J&&typeof Event!="undefined"){var D=r;R(y,function(A){A.identifier===zt&&(a=A);}),de.pushState=function(A){return function(){var _=A.apply(this,arguments);return Pn(J,Ut(D.config.namePrefix+"pushState")),Pn(J,Ut(D.config.namePrefix+"locationchange")),_;};}(de.pushState),de.replaceState=function(A){return function(){var _=A.apply(this,arguments);return Pn(J,Ut(D.config.namePrefix+"replaceState")),Pn(J,Ut(D.config.namePrefix+"locationchange")),_;};}(de.replaceState),J.addEventListener&&(J.addEventListener(D.config.namePrefix+"popstate",function(){Pn(J,Ut(D.config.namePrefix+"locationchange"));}),J.addEventListener(D.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=Oe();var A="_unknown_";be&&be.pathname&&(A=be.pathname+(be.hash||"")),a.context.telemetryTrace.name=A;}s&&(u=s),s=be&&be.href||"",setTimeout(function(H){D.trackPageView({refUri:H,properties:{duration:0}});}.bind(r,u),D.autoRoutePVDelay);}));}c.setInitialized(true);}};function g(p,m,y){var w={PageName:p,PageUrl:m};c.trackMetric({name:"PageVisitTime",average:y,max:y,min:y,sampleCount:1},w);}function C(p){if(!p.isBrowserLinkTrackingEnabled()){var m=["/browserLinkSignalR/","/__browserLink/"],y=function y(w){if(w.baseType===qe.dataType){var L=w.baseData;if(L){for(var k=0;k<m.length;k++){if(L.target&&L.target.indexOf(m[k])>=0)return false;}}}return true;};E(y);}}function E(p){c._telemetryInitializers.push(p);}function b(p,m){var y=tt.create(p,me.dataType,me.envelopeType,c.diagLog(),m);c.core.track(y);}}),r;}return e.getDefaultConfig=function(r){return r||(r={}),r.sessionRenewalMs=30*60*1e3,r.sessionExpirationMs=24*60*60*1e3,r.disableExceptionTracking=ee(r.disableExceptionTracking),r.autoTrackPageVisitTime=ee(r.autoTrackPageVisitTime),r.overridePageViewDuration=ee(r.overridePageViewDuration),r.enableUnhandledPromiseRejectionTracking=ee(r.enableUnhandledPromiseRejectionTracking),(isNaN(r.samplingPercentage)||r.samplingPercentage<=0||r.samplingPercentage>=100)&&(r.samplingPercentage=100),r.isStorageUseDisabled=ee(r.isStorageUseDisabled),r.isBrowserLinkTrackingEnabled=ee(r.isBrowserLinkTrackingEnabled),r.enableAutoRouteTracking=ee(r.enableAutoRouteTracking),r.namePrefix=r.namePrefix||"",r.enableDebug=ee(r.enableDebug),r.disableFlushOnBeforeUnload=ee(r.disableFlushOnBeforeUnload),r.disableFlushOnUnload=ee(r.disableFlushOnUnload,r.disableFlushOnBeforeUnload),r;},e.Version="2.6.4",e;}(et),hu=function(){function t(e,r){var n=this,i={};n.start=function(a){typeof i[a]!="undefined"&&e.throwInternal(S.WARNING,h.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},true),i[a]=+new Date();},n.stop=function(a,o,u,s){var c=i[a];if(isNaN(c))e.throwInternal(S.WARNING,h.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},true);else{var l=+new Date(),f2=ve(c,l);n.action(a,o,f2,u,s);}delete i[a],i[a]=void 0;};}return t;}();});var to=I(function(){xu();});var yu;var Su;var Iu=I(function(){he();X();Ce();yu=function(){function t(e){var r=[];W(t,this,function(n){n.enqueue=function(i){r.push(i);},n.count=function(){return r.length;},n.clear=function(){r.length=0;},n.getItems=function(){return r.slice(0);},n.batchPayloads=function(i){if(i&&i.length>0){var a=e.emitLineDelimitedJson()?i.join("\n"):"["+i.join(",")+"]";return a;}return null;},n.markAsSent=function(i){n.clear();},n.clearSent=function(i){};});}return t;}(),Su=function(){function t(e,r){var n=false,i;W(t,this,function(a){var o=c(t.BUFFER_KEY),u=c(t.SENT_BUFFER_KEY);i=o.concat(u),i.length>t.MAX_BUFFER_SIZE&&(i.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,[]),l(t.BUFFER_KEY,i),a.enqueue=function(f2){if(i.length>=t.MAX_BUFFER_SIZE){n||(e.throwInternal(S.WARNING,h.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,true),n=true);return;}i.push(f2),l(t.BUFFER_KEY,i);},a.count=function(){return i.length;},a.clear=function(){i=[],l(t.BUFFER_KEY,[]),l(t.SENT_BUFFER_KEY,[]),n=false;},a.getItems=function(){return i.slice(0);},a.batchPayloads=function(f2){if(f2&&f2.length>0){var g=r.emitLineDelimitedJson()?f2.join("\n"):"["+f2.join(",")+"]";return g;}return null;},a.markAsSent=function(f2){i=s(f2,i),l(t.BUFFER_KEY,i);var g=c(t.SENT_BUFFER_KEY);g instanceof Array&&f2 instanceof Array&&(g=g.concat(f2),g.length>t.MAX_BUFFER_SIZE&&(e.throwInternal(S.CRITICAL,h.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+g.length,true),g.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,g));},a.clearSent=function(f2){var g=c(t.SENT_BUFFER_KEY);g=s(f2,g),l(t.SENT_BUFFER_KEY,g);};function s(f2,g){var C=[];return R(g,function(E){!z(E)&&Ft(f2,E)===-1&&C.push(E);}),C;}function c(f2){var g=f2;try{g=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+g:g;var C=Yt(e,g);if(C){var E=we().parse(C);if(U(E)&&(E=we().parse(E)),E&&Fe(E))return E;}}catch(b){e.throwInternal(S.CRITICAL,h.FailedToRestoreStorageBuffer," storage key: "+g+", "+G(b),{exception:O(b)});}return[];}function l(f2,g){var C=f2;try{C=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+C:C;var E=JSON.stringify(g);$t(e,C,E);}catch(b){$t(e,C,JSON.stringify([])),e.throwInternal(S.WARNING,h.FailedToSetStorageBuffer," storage key: "+C+", "+G(b)+". Buffer cleared",{exception:O(b)});}}});}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t;}();});function xe(t,e,r){return K(t,e,r,br);}var ro;var se;var ke;var Cu;var le;var Tu;var no;var Eu;var wu;var Pu;var bu;var Au;var Du=I(function(){ne();he();X();ro="baseType",se="baseData",ke="properties",Cu="true";le=function(){function t(){}return t.extractPropsAndMeasurements=function(e,r,n){x(e)||$(e,function(i,a){ar(a)?n[i]=a:U(a)?r[i]=a:mt()&&(r[i]=we().stringify(a));});},t.createEnvelope=function(e,r,n,i){var a=new Tn(e,i,r);xe(a,"sampleRate",n[fr]),(n[se]||{}).startTime&&(a.time=Re(n[se].startTime)),a.iKey=n.iKey;var o=n.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",o),t.extractPartAExtensions(n,a),n.tags=n.tags||[],Jn(a);},t.extractPartAExtensions=function(e,r){var n=r.tags=r.tags||{},i=e.ext=e.ext||{},a=e.tags=e.tags||[],o=i.user;o&&(xe(n,re.userAuthUserId,o.authId),xe(n,re.userId,o.id||o.localId));var u=i.app;u&&xe(n,re.sessionId,u.sesId);var s=i.device;s&&(xe(n,re.deviceId,s.id||s.localId),xe(n,re.deviceType,s.deviceClass),xe(n,re.deviceIp,s.ip),xe(n,re.deviceModel,s.model),xe(n,re.deviceType,s.deviceType));var c=e.ext.web;if(c){xe(n,re.deviceLanguage,c.browserLang),xe(n,re.deviceBrowserVersion,c.browserVer),xe(n,re.deviceBrowser,c.browser);var l=r.data=r.data||{},f2=l[se]=l[se]||{},g=f2[ke]=f2[ke]||{};xe(g,"domain",c.domain),xe(g,"isManual",c.isManual?Cu:null),xe(g,"screenRes",c.screenRes),xe(g,"userConsent",c.userConsent?Cu:null);}var C=i.os;C&&xe(n,re.deviceOS,C.name);var E=i.trace;E&&(xe(n,re.operationParentId,E.parentID),xe(n,re.operationName,E.name),xe(n,re.operationId,E.traceID));for(var b={},p=a.length-1;p>=0;p--){var m=a[p];$(m,function(w,L){b[w]=L;}),a.splice(p,1);}$(a,function(w,L){b[w]=L;});var y=yt({},n,b);y[re.internalSdkVersion]||(y[re.internalSdkVersion]="javascript:"+t.Version),r.tags=Jn(y);},t.prototype.Init=function(e,r){this._logger=e,x(r[se])&&this._logger.throwInternal(S.CRITICAL,h.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.");},t.Version="2.6.4",t;}(),Tu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this;}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].measurements||{},a=n[se][ke]||{};le.extractPropsAndMeasurements(n.data,a,i);var o=n[se];if(x(o))return r.warnToConsole("Invalid input for dependency data"),null;var u=o[ke]&&o[ke][Fr]?o[ke][Fr]:"GET",s=new qe(r,o.id,o.target,o.name,o.duration,o.success,o.responseCode,u,o.type,o.correlationContext,a,i),c=new xt(qe.dataType,s);return le.createEnvelope(r,qe.envelopeType,n,c);},e.DependencyEnvelopeCreator=new e(),e;}(le),no=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this;}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i={},a={};n[ro]!==He.dataType&&(i.baseTypeSource=n[ro]),n[ro]===He.dataType?(i=n[se][ke]||{},a=n[se].measurements||{}):n[se]&&le.extractPropsAndMeasurements(n[se],i,a),le.extractPropsAndMeasurements(n.data,i,a);var o=n[se].name,u=new He(r,o,i,a),s=new xt(He.dataType,u);return le.createEnvelope(r,He.envelopeType,n,s);},e.EventEnvelopeCreator=new e(),e;}(le),Eu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this;}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].measurements||{},a=n[se][ke]||{};le.extractPropsAndMeasurements(n.data,a,i);var o=n[se],u=me.CreateFromInterface(r,o,a,i),s=new xt(me.dataType,u);return le.createEnvelope(r,me.envelopeType,n,s);},e.ExceptionEnvelopeCreator=new e(),e;}(le),wu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this;}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se],a=i[ke]||{},o=i.measurements||{};le.extractPropsAndMeasurements(n.data,a,o);var u=new Ve(r,i.name,i.average,i.sampleCount,i.min,i.max,a,o),s=new xt(Ve.dataType,u);return le.createEnvelope(r,Ve.envelopeType,n,s);},e.MetricEnvelopeCreator=new e(),e;}(le),Pu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this;}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i="duration",a,o=n[se];!x(o)&&!x(o[ke])&&!x(o[ke][i])?(a=o[ke][i],delete o[ke][i]):!x(n.data)&&!x(n.data[i])&&(a=n.data[i],delete n.data[i]);var u=n[se],s;((n.ext||{}).trace||{}).traceID&&(s=n.ext.trace.traceID);var c=u.id||s,l=u.name,f2=u.uri,g=u[ke]||{},C=u.measurements||{};if(x(u.refUri)||(g.refUri=u.refUri),x(u.pageType)||(g.pageType=u.pageType),x(u.isLoggedIn)||(g.isLoggedIn=u.isLoggedIn.toString()),!x(u[ke])){var E=u[ke];$(E,function(m,y){g[m]=y;});}le.extractPropsAndMeasurements(n.data,g,C);var b=new Ne(r,l,f2,a,g,C,c),p=new xt(Ne.dataType,b);return le.createEnvelope(r,Ne.envelopeType,n,p);},e.PageViewEnvelopeCreator=new e(),e;}(le),bu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this;}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se],a=i.name,o=i.uri||i.url,u=i[ke]||{},s=i.measurements||{};le.extractPropsAndMeasurements(n.data,u,s);var c=new Ze(r,a,o,void 0,u,s,i),l=new xt(Ze.dataType,c);return le.createEnvelope(r,Ze.envelopeType,n,l);},e.PageViewPerformanceEnvelopeCreator=new e(),e;}(le),Au=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this;}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].message,a=n[se].severityLevel,o=n[se][ke]||{},u=n[se].measurements||{};le.extractPropsAndMeasurements(n.data,o,u);var s=new Qe(r,i,a,o,u),c=new xt(Qe.dataType,s);return le.createEnvelope(r,Qe.envelopeType,n,c);},e.TraceEnvelopeCreator=new e(),e;}(le);});var Nu;var ku=I(function(){X();Ce();Nu=function(){function t(e){W(t,this,function(r){r.serialize=function(o){var u=n(o,"root");try{return we().stringify(u);}catch(s){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,s&&z(s.toString)?s.toString():"Error serializing object",null,true);}};function n(o,u){var s="__aiCircularRefCheck",c={};if(!o)return e.throwInternal(S.CRITICAL,h.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:u},true),c;if(o[s])return e.throwInternal(S.WARNING,h.CircularReferenceDetected,"Circular reference detected while serializing object",{name:u},true),c;if(!o.aiDataContract){if(u==="measurements")c=a(o,"number",u);else if(u==="properties")c=a(o,"string",u);else if(u==="tags")c=a(o,"string",u);else if(Fe(o))c=i(o,u);else{e.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:u},true);try{we().stringify(o),c=o;}catch(l){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,l&&z(l.toString)?l.toString():"Error serializing object",null,true);}}return c;}return o[s]=true,$(o.aiDataContract,function(l,f2){var g=z(f2)?f2()&1:f2&1,C=z(f2)?f2()&4:f2&4,E=f2&2,b=o[l]!==void 0,p=st(o[l])&&o[l]!==null;if(g&&!b&&!E)e.throwInternal(S.CRITICAL,h.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:u});else if(!C){var m=void 0;p?E?m=i(o[l],l):m=n(o[l],l):m=o[l],m!==void 0&&(c[l]=m);}}),delete o[s],c;}function i(o,u){var s;if(o)if(!Fe(o))e.throwInternal(S.CRITICAL,h.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:u},true);else{s=[];for(var c=0;c<o.length;c++){var l=o[c],f2=n(l,u+"["+c+"]");s.push(f2);}}return s;}function a(o,u,s){var c;return o&&(c={},$(o,function(l,f2){if(u==="string")f2===void 0?c[l]="undefined":f2===null?c[l]="null":f2.toString?c[l]=f2.toString():c[l]="invalid field: toString() is not defined.";else if(u==="number"){if(f2===void 0)c[l]="undefined";else if(f2===null)c[l]="null";else{var g=parseFloat(f2);isNaN(g)?c[l]="NaN":c[l]=g;}}else c[l]="invalid field: "+s+" is of unknown type.",e.throwInternal(S.CRITICAL,c[l],null,true);})),c;}});}return t;}();});var xl;var io;var Fu=I(function(){X();Ce();xl=function(){function t(){var e=It(),r=De(),n=false,i=true;W(t,this,function(a){try{if(e&&Jt.Attach(e,"online",s)&&(Jt.Attach(e,"offline",c),n=true),r){var o=r.body||r;fe(o.ononline)||(o.ononline=s,o.onoffline=c,n=true);}if(n){var u=Le();u&&!x(u.onLine)&&(i=u.onLine);}}catch(l){n=false;}a.isListening=n,a.isOnline=function(){var l=true,f2=Le();return n?l=i:f2&&!x(f2.onLine)&&(l=f2.onLine),l;},a.isOffline=function(){return!a.isOnline();};function s(){i=true;}function c(){i=false;}});}return t.Offline=new t(),t;}(),io=xl.Offline;});var Ru;var Mu=I(function(){Ru=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var r=this.getHashCode(e)/t.INT_MAX_VALUE;return r*100;},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e.length<t.MIN_INPUT_LENGTH;){e=e.concat(e);}for(var r=5381,n=0;n<e.length;++n){r=(r<<5)+r+e.charCodeAt(n),r=r&r;}return Math.abs(r);},t.INT_MAX_VALUE=2147483647,t.MIN_INPUT_LENGTH=8,t;}();});var Lu;var _u=I(function(){Mu();he();Lu=function(){function t(){this.hashCodeGeneragor=new Ru(),this.keys=new xr();}return t.prototype.getSamplingScore=function(e){var r=0;return e.tags&&e.tags[this.keys.userId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):r=Math.random()*100,r;},t;}();});var Uu;var Ou=I(function(){_u();he();X();Uu=function(){function t(e,r){this.INT_MAX_VALUE=2147483647,this._logger=r||Mt(null),(e>100||e<0)&&(this._logger.throwInternal(S.WARNING,h.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},true),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Lu();}return t.prototype.isSampledIn=function(e){var r=this.sampleRate,n=false;return r==null||r>=100||e.baseType===Ve.dataType?true:(n=this.samplingScoreGenerator.getSamplingScore(e)<r,n);},t;}();});function Ti(t){try{return t.responseText;}catch(e){}return null;}var An;var Bu=I(function(){ne();Iu();Du();ku();he();X();Fu();Ou();Ce();An=function(t){B(e,t);function e(){var r=t.call(this)||this;r.priority=1001,r.identifier=Or,r._XMLHttpRequestSupported=false;var n,i,a,o,u,s,c={};return W(e,r,function(l,f2){function g(){Ae("Method not implemented.");}l.pause=g,l.resume=g,l.flush=function(){try{l.triggerSend(true,null,1);}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FlushFailed,"flush failed, telemetry will not be collected: "+G(d),{exception:O(d)});}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===false||l._senderConfig.isBeaconApiDisabled()===false)&&kr())try{l.triggerSend(true,p,2);}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+G(d),{exception:O(d)});}else l.flush();},l.teardown=g,l.addHeader=function(d,T){c[d]=T;},l.initialize=function(d,T,D,A){f2.initialize(d,T,D,A);var H=l._getTelCtx(),_=l.identifier;u=new Nu(T.logger),n=0,i=null,a=0,l._sender=null,s=0;var j=e._getDefaultAppInsightsChannelConfig();if(l._senderConfig=e._getEmptyAppInsightsChannelConfig(),$(j,function(v,P){l._senderConfig[v]=function(){return H.getConfig(_,v,P());};}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&wt()?new Su(l.diagLog(),l._senderConfig):new yu(l._senderConfig),l._sample=new Uu(l._senderConfig.samplingPercentage(),l.diagLog()),dt(d)||l.diagLog().throwInternal(S.CRITICAL,h.InvalidInstrumentationKey,"Invalid Instrumentation key "+d.instrumentationKey),!Mr(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&R(l._senderConfig.customHeaders(),function(v){r.addHeader(v.header,v.value);}),!l._senderConfig.isBeaconApiDisabled()&&kr())l._sender=p;else{var Z=Ee("XMLHttpRequest");if(Z){var ie=new Z();"withCredentials"in ie?(l._sender=m,l._XMLHttpRequestSupported=true):(typeof XDomainRequest==="undefined"?"undefined":_typeof(XDomainRequest))!==Ue&&(l._sender=de);}else{var Ht=Ee("fetch");Ht&&(l._sender=y);}}},l.processTelemetry=function(d,T){T=l._getTelCtx(T);try{if(l._senderConfig.disableTelemetry())return;if(!d){T.diagLog().throwInternal(S.CRITICAL,h.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return;}if(d.baseData&&!d.baseType){T.diagLog().throwInternal(S.CRITICAL,h.InvalidEvent,"Cannot send telemetry without baseData and baseType");return;}if(d.baseType||(d.baseType="EventData"),!l._sender){T.diagLog().throwInternal(S.CRITICAL,h.SenderNotInitialized,"Sender was not initialized");return;}if(C(d))d[fr]=l._sample.sampleRate;else{T.diagLog().throwInternal(S.WARNING,h.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return;}var D=e.constructEnvelope(d,l._senderConfig.instrumentationKey(),T.diagLog());if(!D){T.diagLog().throwInternal(S.CRITICAL,h.CreateEnvelopeError,"Unable to create an AppInsights envelope");return;}var A=false;if(d.tags&&d.tags[Ot]&&(R(d.tags[Ot],function(Z){try{Z&&Z(D)===false&&(A=true,T.diagLog().warnToConsole("Telemetry processor check returns false"));}catch(ie){T.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(ie),{exception:O(ie)},true);}}),delete d.tags[Ot]),A)return;var H=u.serialize(D),_=l._buffer.getItems(),j=l._buffer.batchPayloads(_);j&&j.length+H.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(true,null,10),l._buffer.enqueue(H),Q();}catch(Z){T.diagLog().throwInternal(S.WARNING,h.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+G(Z),{exception:O(Z)});}l.processNext(d,T);},l._xhrReadyStateChange=function(d,T,D){d.readyState===4&&E(d.status,T,d.responseURL,D,J(d),Ti(d)||d.response);},l.triggerSend=function(d,T,D){d===void 0&&(d=true);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var A=l._buffer.getItems();it(D||0,d),T?T.call(r,A,d):l._sender(A,d);}a=+new Date();}clearTimeout(o),o=null,i=null;}catch(_){var H=sr();(!H||H>9)&&l.diagLog().throwInternal(S.CRITICAL,h.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+G(_),{exception:O(_)});}},l._onError=function(d,T,D){l.diagLog().throwInternal(S.WARNING,h.OnError,"Failed to send telemetry.",{message:T}),l._buffer.clearSent(d);},l._onPartialSuccess=function(d,T){for(var D=[],A=[],H=T.errors.reverse(),_=0,j=H;_<j.length;_++){var Z=j[_],ie=d.splice(Z.index,1)[0];ye(Z.statusCode)?A.push(ie):D.push(ie);}d.length>0&&l._onSuccess(d,T.itemsAccepted),D.length>0&&l._onError(D,J(null,["partial success",T.itemsAccepted,"of",T.itemsReceived].join(" "))),A.length>0&&(L(A),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,"Partial success. Delivered: "+d.length+", Failed: "+D.length+". Will retry to send "+A.length+" our of "+T.itemsReceived+" items"));},l._onSuccess=function(d,T){l._buffer.clearSent(d);},l._xdrOnLoad=function(d,T){var D=Ti(d);if(d&&(D+""=="200"||D===""))n=0,l._onSuccess(T,0);else{var A=w(D);A&&A.itemsReceived&&A.itemsReceived>A.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,A):l._onError(T,be(d));}};function C(d){return l._sample.isSampledIn(d);}function E(d,T,D,A,H,_){var j=null;if(l._appId||(j=w(_),j&&j.appId&&(l._appId=j.appId)),(d<200||d>=300)&&d!==0){if((d===301||d===307||d===308)&&!b(D)){l._onError(T,H);return;}!l._senderConfig.isRetryDisabled()&&ye(d)?(L(T),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Response code "+d+". Will retry to send "+T.length+" items.")):l._onError(T,H);}else if(io.isOffline()){if(!l._senderConfig.isRetryDisabled()){var Z=10;L(T,Z),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Offline - Response Code: "+d+". Offline status: "+io.isOffline()+". Will retry to send "+T.length+" items.");}}else b(D),d===206?(j||(j=w(_)),j&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,j):l._onError(T,H)):(n=0,l._onSuccess(T,A));}function b(d){return s>=10?false:!x(d)&&d!==""&&d!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return d;},++s,true):false;}function p(d,T){var D=l._senderConfig.endpointUrl(),A=l._buffer.batchPayloads(d),H=new Blob([A],{type:"text/plain;charset=UTF-8"}),_=Le().sendBeacon(D,H);_?(l._buffer.markAsSent(d),l._onSuccess(d,d.length)):(m(d,true),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."));}function m(d,T){var D=new XMLHttpRequest(),A=l._senderConfig.endpointUrl();try{D[Et]=true;}catch(_){}D.open("POST",A,T),D.setRequestHeader("Content-type","application/json"),Mr(A)&&D.setRequestHeader(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Ye(c),function(_){D.setRequestHeader(_,c[_]);}),D.onreadystatechange=function(){return l._xhrReadyStateChange(D,d,d.length);},D.onerror=function(_){return l._onError(d,J(D),_);};var H=l._buffer.batchPayloads(d);D.send(H),l._buffer.markAsSent(d);}function y(d,T){var D=l._senderConfig.endpointUrl(),A=l._buffer.batchPayloads(d),H=new Blob([A],{type:"text/plain;charset=UTF-8"}),_=new Headers();Mr(D)&&_.append(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Ye(c),function(ie){_.append(ie,c[ie]);});var j={method:"POST",headers:_,body:H},Z=new Request(D,j);fetch(Z).then(function(ie){if(ie.ok)ie.text().then(function(Ht){E(ie.status,d,ie.url,d.length,ie.statusText,Ht);}),l._buffer.markAsSent(d);else throw Error(ie.statusText);}).catch(function(ie){l._onError(d,ie.message);});}function w(d){try{if(d&&d!==""){var T=we().parse(d);if(T&&T.itemsReceived&&T.itemsReceived>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors.length)return T;}}catch(D){l.diagLog().throwInternal(S.CRITICAL,h.InvalidBackendResponse,"Cannot parse the response. "+G(D),{response:d});}return null;}function L(d,T){if(T===void 0&&(T=1),!(!d||d.length===0)){l._buffer.clearSent(d),n++;for(var D=0,A=d;D<A.length;D++){var H=A[D];l._buffer.enqueue(H);}k(T),Q();}}function k(d){var T=10,D;if(n<=1)D=T;else{var A=(Math.pow(2,n)-1)/2,H=Math.floor(Math.random()*A*T)+1;H=d*H,D=Math.max(Math.min(H,3600),T);}var _=pe()+D*1e3;i=_;}function Q(){if(!o){var d=i?Math.max(0,i-pe()):0,T=Math.max(l._senderConfig.maxBatchInterval(),d);o=setTimeout(function(){l.triggerSend(true,null,1);},T);}}function ye(d){return d===408||d===429||d===500||d===503;}function J(d,T){return d?"XMLHttpRequest,Status:"+d.status+",Response:"+Ti(d)||d.response||"":T;}function de(d,T){var D=It(),A=new XDomainRequest();A.onload=function(){return l._xdrOnLoad(A,d);},A.onerror=function(Z){return l._onError(d,be(A),Z);};var H=D&&D.location&&D.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(H,0)!==0){l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return;}var _=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");A.open("POST",_);var j=l._buffer.batchPayloads(d);A.send(j),l._buffer.markAsSent(d);}function be(d,T){return d?"XDomainRequest,Response:"+Ti(d)||"":T;}function pt(){var d="getNotifyMgr";return l.core[d]?l.core[d]():l.core._notificationManager;}function it(d,T){var D=pt();if(D&&D.eventsSendRequest)try{D.eventsSendRequest(d,T);}catch(A){l.diagLog().throwInternal(S.CRITICAL,h.NotificationException,"send request notification failed: "+G(A),{exception:O(A)});}}function dt(d){var T=x(d.disableInstrumentationKeyValidation)?false:d.disableInstrumentationKeyValidation;if(T)return true;var D="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",A=new RegExp(D);return A.test(d.instrumentationKey);}}),r;}return e.constructEnvelope=function(r,n,i){var a;switch(n!==r.iKey&&!x(n)?a=yt({},r,{iKey:n}):a=r,a.baseType){case He.dataType:return no.EventEnvelopeCreator.Create(i,a);case Qe.dataType:return Au.TraceEnvelopeCreator.Create(i,a);case Ne.dataType:return Pu.PageViewEnvelopeCreator.Create(i,a);case Ze.dataType:return bu.PageViewPerformanceEnvelopeCreator.Create(i,a);case me.dataType:return Eu.ExceptionEnvelopeCreator.Create(i,a);case Ve.dataType:return wu.MetricEnvelopeCreator.Create(i,a);case qe.dataType:return Tu.DependencyEnvelopeCreator.Create(i,a);default:return no.EventEnvelopeCreator.Create(i,a);}},e._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function endpointUrl(){return"https://dc.services.visualstudio.com/v2/track";},emitLineDelimitedJson:function emitLineDelimitedJson(){return false;},maxBatchInterval:function maxBatchInterval(){return 15e3;},maxBatchSizeInBytes:function maxBatchSizeInBytes(){return 102400;},disableTelemetry:function disableTelemetry(){return false;},enableSessionStorageBuffer:function enableSessionStorageBuffer(){return true;},isRetryDisabled:function isRetryDisabled(){return false;},isBeaconApiDisabled:function isBeaconApiDisabled(){return true;},onunloadDisableBeacon:function onunloadDisableBeacon(){return false;},instrumentationKey:function instrumentationKey(){},namePrefix:function namePrefix(){},samplingPercentage:function samplingPercentage(){return 100;},customHeaders:function customHeaders(){}};},e._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0};},e;}(et);});var ao=I(function(){Bu();});var yl;var oo;var zu;var Hu=I(function(){Ce();he();X();yl="ai_session",oo=function(){function t(){}return t;}(),zu=function(){function t(e,r){var n=this,i,a,o=Mt(r),u=lr(r);W(t,n,function(s){e||(e={}),z(e.sessionExpirationMs)||(e.sessionExpirationMs=function(){return t.acquisitionSpan;}),z(e.sessionRenewalMs)||(e.sessionRenewalMs=function(){return t.renewalSpan;}),s.config=e;var c=s.config.sessionCookiePostfix&&s.config.sessionCookiePostfix()?s.config.sessionCookiePostfix():s.config.namePrefix&&s.config.namePrefix()?s.config.namePrefix():"";i=function i(){return yl+c;},s.automaticSession=new oo(),s.update=function(){var b=pe(),p=false,m=s.automaticSession;m.id||(p=!l(m,b));var y=s.config.sessionExpirationMs();if(!p&&y>0){var w=s.config.sessionRenewalMs(),L=b-m.acquisitionDate,k=b-m.renewalDate;p=L<0||k<0,p=p||L>y,p=p||k>w;}p?g(b):(!a||b-a>t.cookieUpdateInterval)&&C(m,b);},s.backup=function(){var b=s.automaticSession;E(b.id,b.acquisitionDate,b.renewalDate);};function l(b,p){var m=false,y=u.get(i());if(y&&z(y.split))m=f2(b,y);else{var w=dn(o,i());w&&(m=f2(b,w));}return m||!!b.id;}function f2(b,p){var m=false,y=", session will be reset",w=p.split("|");if(w.length>=2)try{var L=+w[1]||0,k=+w[2]||0;isNaN(L)||L<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session acquisition date is 0"+y):isNaN(k)||k<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session renewal date is 0"+y):w[0]&&(b.id=w[0],b.acquisitionDate=L,b.renewalDate=k,m=true);}catch(Q){o.throwInternal(S.CRITICAL,h.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(p||"")+"]"+y+" - "+G(Q),{exception:O(Q)});}return m;}function g(b){var p=s.config||{},m=(p.getNewId?p.getNewId():null)||Xt;s.automaticSession.id=m(p.idLength?p.idLength():22),s.automaticSession.acquisitionDate=b,C(s.automaticSession,b),Rr()||o.throwInternal(S.WARNING,h.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.");}function C(b,p){var m=b.acquisitionDate;b.renewalDate=p;var y=s.config,w=y.sessionRenewalMs(),L=m+y.sessionExpirationMs()-p,k=[b.id,m,p],Q=0;L<w?Q=L/1e3:Q=w/1e3;var ye=y.cookieDomain?y.cookieDomain():null;u.set(i(),k.join("|"),y.sessionExpirationMs()>0?Q:null,ye),a=p;}function E(b,p,m){gn(o,i(),[b,p,m].join("|"));}});}return t.acquisitionSpan=864e5,t.renewalSpan=18e5,t.cookieUpdateInterval=6e4,t;}();});var Vu;var qu=I(function(){Vu=function(){function t(){}return t;}();});var ju;var Gu=I(function(){ju=function(){function t(){this.id="browser",this.deviceClass="Browser";}return t;}();});var Sl;var Ku;var Wu=I(function(){Sl="2.6.4",Ku=function(){function t(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+Sl;}return t;}();});function Xu(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/));}var Ju;var Qu=I(function(){Ce();he();X();Ju=function(){function t(e,r){this.isNewUser=false;var n=Mt(r),i=lr(r),a;W(t,this,function(o){o.config=e;var u=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"";a=function a(){return t.userCookieName+u;};var s=i.get(a());if(s){o.isNewUser=false;var c=s.split(t.cookieSeparator);c.length>0&&(o.id=c[0]);}if(!o.id){var l=e||{},f2=(l.getNewId?l.getNewId():null)||Xt;o.id=f2(l.idLength?e.idLength():22);var g=31536e3,C=Re(new Date());o.accountAcquisitionDate=C,o.isNewUser=true;var E=[o.id,C];i.set(a(),E.join(t.cookieSeparator),g);var b=e.namePrefix&&e.namePrefix()?e.namePrefix()+"ai_session":"ai_session";vn(n,b);}o.accountId=e.accountId?e.accountId():void 0;var p=i.get(t.authUserCookieName);if(p){p=decodeURI(p);var m=p.split(t.cookieSeparator);m[0]&&(o.authenticatedId=m[0]),m.length>1&&m[1]&&(o.accountId=m[1]);}o.setAuthenticatedUserContext=function(y,w,L){L===void 0&&(L=false);var k=!Xu(y)||w&&!Xu(w);if(k){n.throwInternal(S.WARNING,h.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",true);return;}o.authenticatedId=y;var Q=o.authenticatedId;w&&(o.accountId=w,Q=[o.authenticatedId,o.accountId].join(t.cookieSeparator)),L&&i.set(t.authUserCookieName,encodeURI(Q));},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,i.del(t.authUserCookieName);};});}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t;}();});var Zu;var Yu=I(function(){Zu=function(){function t(){}return t;}();});var $u;var ec=I(function(){he();X();$u=function(){function t(e,r,n,i){var a=this;a.traceID=e||Oe(),a.parentID=r,a.name=n;var o=$e();!n&&o&&o.pathname&&(a.name=o.pathname),a.name=ae(i,a.name);}return t;}();});function Br(t,e){t&&t[e]&&Ye(t[e]).length===0&&delete t[e];}var Ei;var wi;var tc;var rc=I(function(){Ce();X();Hu();he();qu();Gu();Wu();Qu();Yu();ec();Ei="ext",wi="tags";tc=function(){function t(e,r){var n=this,i=e.logger;this.appId=function(){return null;},W(t,this,function(a){a.application=new Vu(),a.internal=new Ku(r),or()&&(a.sessionManager=new zu(r,e),a.device=new ju(),a.location=new Zu(),a.user=new Ju(r,e),a.telemetryTrace=new $u(void 0,void 0,void 0,i),a.session=new oo()),a.applySessionContext=function(o,u){var s=a.session,c=a.sessionManager;s&&U(s.id)?K(ge(o.ext,_e.AppExt),"sesId",s.id):c&&c.automaticSession&&K(ge(o.ext,_e.AppExt),"sesId",c.automaticSession.id,U);},a.applyOperatingSystemContxt=function(o,u){K(o.ext,_e.OSExt,a.os);},a.applyApplicationContext=function(o,u){var s=a.application;if(s){var c=ge(o,wi);K(c,re.applicationVersion,s.ver,U),K(c,re.applicationBuild,s.build,U);}},a.applyDeviceContext=function(o,u){var s=a.device;if(s){var c=ge(ge(o,Ei),_e.DeviceExt);K(c,"localId",s.id,U),K(c,"ip",s.ip,U),K(c,"model",s.model,U),K(c,"deviceClass",s.deviceClass,U);}},a.applyInternalContext=function(o,u){var s=a.internal;if(s){var c=ge(o,wi);K(c,re.internalAgentVersion,s.agentVersion,U),K(c,re.internalSdkVersion,s.sdkVersion,U),(o.baseType===Rt.dataType||o.baseType===Ne.dataType)&&(K(c,re.internalSnippet,s.snippetVer,U),K(c,re.internalSdkSrc,s.sdkSrc,U));}},a.applyLocationContext=function(o,u){var s=n.location;s&&K(ge(o,wi,[]),re.locationIp,s.ip,U);},a.applyOperationContext=function(o,u){var s=a.telemetryTrace;if(s){var c=ge(ge(o,Ei),_e.TraceExt,{traceID:void 0,parentID:void 0});K(c,"traceID",s.traceID,U),K(c,"name",s.name,U),K(c,"parentID",s.parentID,U);}},a.applyWebContext=function(o,u){var s=n.web;s&&K(ge(o,Ei),_e.WebExt,s);},a.applyUserContext=function(o,u){var s=a.user;if(s){var c=ge(o,wi,[]);K(c,re.userAccountId,s.accountId,U);var l=ge(ge(o,Ei),_e.UserExt);K(l,"id",s.id,U),K(l,"authId",s.authenticatedId,U);}},a.cleanUp=function(o,u){var s=o.ext;s&&(Br(s,_e.DeviceExt),Br(s,_e.UserExt),Br(s,_e.WebExt),Br(s,_e.OSExt),Br(s,_e.AppExt),Br(s,_e.TraceExt));};});}return t;}();});var Il;var Dn;var nc=I(function(){ne();Ce();X();rc();he();Il=function(t){B(e,t);function e(){var r=t.call(this)||this;r.priority=110,r.identifier=zt;var n,i;return W(e,r,function(a,o){a.initialize=function(s,c,l,f2){o.initialize(s,c,l,f2);var g=a._getTelCtx(),C=a.identifier,E=e.getDefaultConfig();i=i||{},$(E,function(b,p){i[b]=function(){return g.getConfig(C,b,p());};}),a.context=new tc(c,i),n=un(l,Or),a.context.appId=function(){return n?n._appId:null;},a._extConfig=i;},a.processTelemetry=function(s,c){if(!x(s)){c=a._getTelCtx(c),s.name===Ne.envelopeType&&c.diagLog().resetInternalMessageCount();var l=a.context||{};if(l.session&&typeof a.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),u(s,c),l.user&&l.user.isNewUser){l.user.isNewUser=false;var f2=new Rt(h.SendBrowserInfoOnUserInit,(Le()||{}).userAgent||"");c.diagLog().logInternalMessage(S.CRITICAL,f2);}a.processNext(s,c);}};function u(s,c){ge(s,"tags",[]),ge(s,"ext",{});var l=a.context;l.applySessionContext(s,c),l.applyApplicationContext(s,c),l.applyDeviceContext(s,c),l.applyOperationContext(s,c),l.applyUserContext(s,c),l.applyOperatingSystemContxt(s,c),l.applyWebContext(s,c),l.applyLocationContext(s,c),l.applyInternalContext(s,c),l.cleanUp(s,c);}}),r;}return e.getDefaultConfig=function(){var r={instrumentationKey:function instrumentationKey(){},accountId:function accountId(){return null;},sessionRenewalMs:function sessionRenewalMs(){return 18e5;},samplingPercentage:function samplingPercentage(){return 100;},sessionExpirationMs:function sessionExpirationMs(){return 864e5;},cookieDomain:function cookieDomain(){return null;},sdkExtension:function sdkExtension(){return null;},isBrowserLinkTrackingEnabled:function isBrowserLinkTrackingEnabled(){return false;},appId:function appId(){return null;},namePrefix:function namePrefix(){},sessionCookiePostfix:function sessionCookiePostfix(){},userCookiePostfix:function userCookiePostfix(){},idLength:function idLength(){return 22;},getNewId:function getNewId(){return null;}};return r;},e;}(et),Dn=Il;});var so=I(function(){nc();});function ic(t,e,r){var n=0,i=t[e],a=t[r];return i&&a&&(n=ve(i,a)),n;}function yr(t,e,r,n,i){var a=0,o=ic(r,n,i);return o&&(a=rr(t,e,Ge(o))),a;}function rr(t,e,r){var n="ajaxPerf",i=0;if(t&&e&&r){var a=t[n]=t[n]||{};a[e]=r,i=1;}return i;}function Cl(t,e){var r=t.perfTiming,n=e[rt]||{},i=0,a="name",o="Start",u="End",s="domainLookup",c="connect",l="redirect",f2="request",g="response",C="duration",E="startTime",b=s+o,p=s+u,m=c+o,y=c+u,w=f2+o,L=f2+u,k=g+o,Q=g+u,ye=l+o,J=l=u,de="transferSize",be="encodedBodySize",pt="decodedBodySize",it="serverTiming";if(r){i|=yr(n,l,r,ye,J),i|=yr(n,s,r,b,p),i|=yr(n,c,r,m,y),i|=yr(n,f2,r,w,L),i|=yr(n,g,r,k,Q),i|=yr(n,"networkConnect",r,E,y),i|=yr(n,"sentRequest",r,w,Q);var dt=r[C];dt||(dt=ic(r,E,Q)||0),i|=rr(n,C,dt),i|=rr(n,"perfTotal",dt);var d=r[it];if(d){var T={};R(d,function(D,A){var H=ji(D[a]||""+A),_=T[H]||{};$(D,function(j,Z){(j!==a&&U(Z)||ar(Z))&&(_[j]&&(Z=_[j]+";"+Z),(Z||!U(Z))&&(_[j]=Z));}),T[H]=_;}),i|=rr(n,it,T);}i|=rr(n,de,r[de]),i|=rr(n,be,r[be]),i|=rr(n,pt,r[pt]);}else t.perfMark&&(i|=rr(n,"missing",t.perfAttempts));i&&(e[rt]=n);}var rt;var Tl;var uo;var ac=I(function(){he();X();Ce();rt="properties";Tl=function(){function t(){var e=this;e.openDone=false,e.setRequestHeaderDone=false,e.sendDone=false,e.abortDone=false,e.stateChangeAttached=false;}return t;}(),uo=function(){function t(e,r,n){var i=this,a=n,o="responseText";i.perfMark=null,i.completed=false,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Tl(),i.clientFailure=0,i.traceID=e,i.spanID=r,W(t,i,function(u){u.getAbsoluteUrl=function(){return u.requestUrl?hn(u.requestUrl):null;},u.getPathName=function(){return u.requestUrl?Tt(a,xn(u.method,u.requestUrl)):null;},u.CreateTrackItem=function(s,c,l){if(u.ajaxTotalDuration=Math.round(ve(u.requestSentTime,u.responseFinishedTime)*1e3)/1e3,u.ajaxTotalDuration<0)return null;var f2=(b={id:"|"+u.traceID+"."+u.spanID,target:u.getAbsoluteUrl(),name:u.getPathName(),type:s,startTime:null,duration:u.ajaxTotalDuration,success:+u.status>=200&&+u.status<400,responseCode:+u.status,method:u.method},b[rt]={HttpMethod:u.method},b);if(u.requestSentTime&&(f2.startTime=new Date(),f2.startTime.setTime(u.requestSentTime)),Cl(u,f2),c&&Ye(u.requestHeaders).length>0&&(f2[rt]=f2[rt]||{},f2[rt].requestHeaders=u.requestHeaders),l){var g=l();if(g){var C=g.correlationContext;if(C&&(f2.correlationContext=C),g.headerMap&&Ye(g.headerMap).length>0&&(f2[rt]=f2[rt]||{},f2[rt].responseHeaders=g.headerMap),u.status>=400){var E=g.type;f2[rt]=f2[rt]||{},(E===""||E==="text")&&(f2[rt][o]=g[o]?g.statusText+" - "+g[o]:g.statusText),E==="json"&&(f2[rt][o]=g.response?g.statusText+" - "+JSON.stringify(g.response):g.statusText);}}}return f2;var b;};});}return t;}();});var Th;var oc=I(function(){X();X();Th=function(){function t(){}return t.GetLength=function(e){var r=0;if(!x(e)){var n="";try{n=e.toString();}catch(i){}r=n.length,r=isNaN(r)?0:r;}return r;},t;}();});var co;var sc=I(function(){X();co=function(){function t(e,r){var n=this;n.traceFlag=t.DEFAULT_TRACE_FLAG,n.version=t.DEFAULT_VERSION,e&&t.isValidTraceId(e)?n.traceId=e:n.traceId=Oe(),r&&t.isValidSpanId(r)?n.spanId=r:n.spanId=Oe().substr(0,16);}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000";},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000";},t.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag;},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t;}();});function El(){var t=ot();return!t||x(t.Request)||x(t.Request[Ie])||x(t[Fn])?null:t[Fn];}function wl(t){var e=false;if((typeof XMLHttpRequest==="undefined"?"undefined":_typeof(XMLHttpRequest))!==Ue&&!x(XMLHttpRequest)){var r=XMLHttpRequest[Ie];e=!x(r)&&!x(r.open)&&!x(r.send)&&!x(r.abort);}var n=sr();if(n&&n<9&&(e=false),e)try{var i=new XMLHttpRequest();i[nt]={};var a=XMLHttpRequest[Ie].open;XMLHttpRequest[Ie].open=a;}catch(o){e=false,Rn(t,h.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:O(o)});}return e;}function bi(t){var e="";try{!x(t)&&!x(t[nt])&&!x(t[nt].requestUrl)&&(e+="(url: '"+t[nt].requestUrl+"')");}catch(r){}return e;}function Rn(t,e,r,n,i){t[kn]()[lc](S.CRITICAL,e,r,n,i);}function Pi(t,e,r,n,i){t[kn]()[lc](S.WARNING,e,r,n,i);}function Nn(t,e,r){return function(n){Rn(t,e,r,{ajaxDiagnosticsMessage:bi(n.inst),exception:O(n.err)});};}function zr(t,e){return t&&e?t.indexOf(e):-1;}var uc;var kn;var nt;var lc;var Fn;var cc;var Mn;var fc=I(function(){ne();he();X();ac();oc();sc();Ce();uc="ai.ajxmn.",kn="diagLog",nt="ajaxData",lc="throwInternal",Fn="fetch",cc=0;Mn=function(t){B(e,t);function e(){var r=t.call(this)||this;r.identifier=e.identifier,r.priority=120;var n="trackDependencyDataInternal",i=$e(),a=false,o=false,u=i&&i.host&&i.host.toLowerCase(),s=e.getEmptyConfig(),c=false,l=0,f2,g,C,E,b=false,p=0,m=false,y=[],w={},L;return W(e,r,function(k,Q){k.initialize=function(v,P,N,F){if(!k.isInitialized()){Q.initialize(v,P,N,F);var M=k._getTelCtx(),q=e.getDefaultConfig();$(q,function(We,Sr){s[We]=M.getConfig(e.identifier,We,Sr);});var V=s.distributedTracingMode;if(c=s.enableRequestHeaderTracking,b=s.enableAjaxPerfTracking,p=s.maxAjaxCallsPerView,m=s.enableResponseHeaderTracking,L=s.excludeRequestFromAutoTrackingPatterns,C=V===Ke.AI||V===Ke.AI_AND_W3C,g=V===Ke.AI_AND_W3C||V===Ke.W3C,b){var Y=v.instrumentationKey||"unkwn";Y.length>5?E=uc+Y.substring(Y.length-5)+".":E=uc+Y+".";}if(s.disableAjaxTracking===false&&be(),J(),N.length>0&&N){for(var ue=void 0,Se=0;!ue&&Se<N.length;){N[Se]&&N[Se].identifier===zt&&(ue=N[Se]),Se++;}ue&&(f2=ue.context);}}},k.teardown=function(){R(y,function(v){v.rm();}),y=[],a=false,o=false,k.setInitialized(false);},k.trackDependencyData=function(v,P){k[n](v,P);},k.includeCorrelationHeaders=function(v,P,N,F){var M=k._currentWindowHost||u;if(P){if(Pt.canIncludeCorrelationHeader(s,v.getAbsoluteUrl(),M)){if(N||(N={}),N.headers=new Headers(N.headers||(P instanceof Request?P.headers||{}:{})),C){var q="|"+v.traceID+"."+v.spanID;N.headers.set(te.requestIdHeader,q),c&&(v.requestHeaders[te.requestIdHeader]=q);}var V=s.appId||f2&&f2.appId();if(V&&(N.headers.set(te.requestContextHeader,te.requestContextAppIdFormat+V),c&&(v.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+V)),g){var Y=new co(v.traceID,v.spanID);N.headers.set(te.traceParentHeader,Y.toString()),c&&(v.requestHeaders[te.traceParentHeader]=Y.toString());}}return N;}else if(F){if(Pt.canIncludeCorrelationHeader(s,v.getAbsoluteUrl(),M)){if(C){var q="|"+v.traceID+"."+v.spanID;F.setRequestHeader(te.requestIdHeader,q),c&&(v.requestHeaders[te.requestIdHeader]=q);}var V=s.appId||f2&&f2.appId();if(V&&(F.setRequestHeader(te.requestContextHeader,te.requestContextAppIdFormat+V),c&&(v.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+V)),g){var Y=new co(v.traceID,v.spanID);F.setRequestHeader(te.traceParentHeader,Y.toString()),c&&(v.requestHeaders[te.traceParentHeader]=Y.toString());}}return F;}},k[n]=function(v,P,N){if(p===-1||l<p){(s.distributedTracingMode===Ke.W3C||s.distributedTracingMode===Ke.AI_AND_W3C)&&typeof v.id=="string"&&v.id[v.id.length-1]!=="."&&(v.id+="."),x(v.startTime)&&(v.startTime=new Date());var F=tt.create(v,qe.dataType,qe.envelopeType,k[kn](),P,N);k.core.track(F);}else l===p&&Rn(k,h.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",true);++l;};function ye(v){var P=true;return(v||s.ignoreHeaders)&&R(s.ignoreHeaders,function(N){if(N.toLowerCase()===v.toLowerCase())return P=false,-1;}),P;}function J(){var v=El();if(!!v){var P=ot(),N=v.polyfill;s.disableFetchTracking===false?(y.push(sn(P,Fn,{req:function req(F,M,q){var V;if(a&&!pt(null,M,q)&&!(N&&o)){var Y=F.ctx();V=j(M,q);var ue=k.includeCorrelationHeaders(V,M,q);ue!==q&&F.set(1,ue),Y.data=V;}},rsp:function rsp(F,M){var q=F.ctx().data;q&&(F.rslt=F.rslt.then(function(V){return ie(F,(V||{}).status,V,q,function(){var Y={statusText:V.statusText,headerMap:null,correlationContext:Ht(V)};if(m){var ue={};V.headers.forEach(function(Se,We){ye(We)&&(ue[We]=Se);}),Y.headerMap=ue;}return Y;}),V;}).catch(function(V){throw ie(F,0,M,q,null,{error:V.message}),V;}));},hkErr:Nn(k,h.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=true):N&&y.push(sn(P,Fn,{req:function req(F,M,q){pt(null,M,q);}})),N&&(P[Fn].polyfill=N);}}function de(v,P,N){y.push(Pa(v,P,N));}function be(){wl(k)&&!o&&(de(XMLHttpRequest,"open",{req:function req(v,P,N,F){var M=v.inst,q=M[nt];!pt(M,N)&&it(M,true)&&(!q||!q.xhrMonitoringState.openDone)&&dt(M,P,N,F);},hkErr:Nn(k,h.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),de(XMLHttpRequest,"send",{req:function req(v,P){var N=v.inst,F=N[nt];it(N)&&!F.xhrMonitoringState.sendDone&&(H("xhr",F),F.requestSentTime=vr(),k.includeCorrelationHeaders(F,void 0,void 0,N),F.xhrMonitoringState.sendDone=true);},hkErr:Nn(k,h.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),de(XMLHttpRequest,"abort",{req:function req(v){var P=v.inst,N=P[nt];it(P)&&!N.xhrMonitoringState.abortDone&&(N.aborted=1,N.xhrMonitoringState.abortDone=true);},hkErr:Nn(k,h.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&de(XMLHttpRequest,"setRequestHeader",{req:function req(v,P,N){var F=v.inst;it(F)&&ye(P)&&(F[nt].requestHeaders[P]=N);},hkErr:Nn(k,h.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),o=true);}function pt(v,P,N){var F=false,M=((U(P)?P:(P||{}).url||"")||"").toLowerCase();if(R(L,function(Y){var ue=Y;U(Y)&&(ue=new RegExp(Y)),F||(F=ue.test(M));}),F)return F;var q=zr(M,"?"),V=zr(M,"#");return(q===-1||V!==-1&&V<q)&&(q=V),q!==-1&&(M=M.substring(0,q)),x(v)?x(P)||(F=(_typeof(P)=="object"?P[Et]===true:false)||(N?N[Et]===true:false)):F=v[Et]===true||M[Et]===true,F?w[M]||(w[M]=1):w[M]&&(F=true),F;}function it(v,P){var N=true,F=o;return x(v)||(N=P===true||!x(v[nt])),F&&N;}function dt(v,P,N,F){var M=f2&&f2.telemetryTrace&&f2.telemetryTrace.traceID||Oe(),q=Oe().substr(0,16),V=new uo(M,q,k[kn]());V.method=P,V.requestUrl=N,V.xhrMonitoringState.openDone=true,V.requestHeaders={},V.async=F,v[nt]=V,d(v);}function d(v){v[nt].xhrMonitoringState.stateChangeAttached=Jt.Attach(v,"readystatechange",function(){try{v&&v.readyState===4&&it(v)&&D(v);}catch(N){var P=O(N);(!P||zr(P.toLowerCase(),"c00c023f")===-1)&&Rn(k,h.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:bi(v),exception:P});}});}function T(v){try{var P=v.responseType;if(P===""||P==="text")return v.responseText;}catch(N){}return null;}function D(v){var P=v[nt];P.responseFinishedTime=vr(),P.status=v.status;function N(F,M){var q=M||{};q.ajaxDiagnosticsMessage=bi(v),F&&(q.exception=O(F)),Pi(k,h.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",q);}_("xmlhttprequest",P,function(){try{var F=P.CreateTrackItem("Ajax",c,function(){var M={statusText:v.statusText,headerMap:null,correlationContext:A(v),type:v.responseType,responseText:T(v),response:v.response};if(m){var q=v.getAllResponseHeaders();if(q){var V=oe(q).split(/[\r\n]+/),Y={};R(V,function(ue){var Se=ue.split(": "),We=Se.shift(),Sr=Se.join(": ");ye(We)&&(Y[We]=Sr);}),M.headerMap=Y;}}return M;});F?k[n](F):N(null,{requestSentTime:P.requestSentTime,responseFinishedTime:P.responseFinishedTime});}finally{try{v[nt]=null;}catch(M){}}},function(F){N(F,null);});}function A(v){try{var P=v.getAllResponseHeaders();if(P!==null){var N=zr(P.toLowerCase(),te.requestContextHeaderLowerCase);if(N!==-1){var F=v.getResponseHeader(te.requestContextHeader);return Pt.getCorrelationContext(F);}}}catch(M){Pi(k,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:bi(v),exception:O(M)});}}function H(v,P){if(P.requestUrl&&E&&b){var N=Je();if(N&&z(N.mark)){cc++;var F=E+v+"#"+cc;N.mark(F);var M=N.getEntriesByName(F);M&&M.length===1&&(P.perfMark=M[0]);}}}function _(v,P,N,F){var M=P.perfMark,q=Je(),V=s.maxAjaxPerfLookupAttempts,Y=s.ajaxPerfLookupDelay,ue=P.requestUrl,Se=0;(function We(){try{if(q&&M){Se++;for(var Sr=null,vo=q.getEntries(),Di=vo.length-1;Di>=0;Di--){var bt=vo[Di];if(bt){if(bt.entryType==="resource")bt.initiatorType===v&&(zr(bt.name,ue)!==-1||zr(ue,bt.name)!==-1)&&(Sr=bt);else if(bt.entryType==="mark"&&bt.name===M.name){P.perfTiming=Sr;break;}if(bt.startTime<M.startTime-1e3)break;}}}!M||P.perfTiming||Se>=V||P.async===false?(M&&z(q.clearMarks)&&q.clearMarks(M.name),P.perfAttempts=Se,N()):setTimeout(We,Y);}catch(Ic){F(Ic);}})();}function j(v,P){var N=f2&&f2.telemetryTrace&&f2.telemetryTrace.traceID||Oe(),F=Oe().substr(0,16),M=new uo(N,F,k[kn]());M.requestSentTime=vr(),v instanceof Request?M.requestUrl=v?v.url:"":M.requestUrl=v;var q="GET";P&&P.method?q=P.method:v&&v instanceof Request&&(q=v.method),M.method=q;var V={};if(c){var Y=new Headers((P?P.headers:0)||(v instanceof Request?v.headers||{}:{}));Y.forEach(function(ue,Se){ye(Se)&&(V[Se]=ue);});}return M.requestHeaders=V,H("fetch",M),M;}function Z(v){var P="";try{x(v)||(typeof v=="string"?P+="(url: '"+v+"')":P+="(url: '"+v.url+"')");}catch(N){Rn(k,h.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:O(N)});}return P;}function ie(v,P,N,F,M,q){if(!F)return;function V(Y,ue,Se){var We=Se||{};We.fetchDiagnosticsMessage=Z(N),ue&&(We.exception=O(ue)),Pi(k,Y,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",We);}F.responseFinishedTime=vr(),F.status=P,_("fetch",F,function(){var Y=F.CreateTrackItem("Fetch",c,M);Y?k[n](Y):V(h.FailedMonitorAjaxDur,null,{requestSentTime:F.requestSentTime,responseFinishedTime:F.responseFinishedTime});},function(Y){V(h.FailedMonitorAjaxGetCorrelationHeader,Y,null);});}function Ht(v){if(v&&v.headers)try{var P=v.headers.get(te.requestContextHeader);return Pt.getCorrelationContext(P);}catch(N){Pi(k,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:Z(v),exception:O(N)});}}}),r;}return e.getDefaultConfig=function(){var r={maxAjaxCallsPerView:500,disableAjaxTracking:false,disableFetchTracking:true,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:false,distributedTracingMode:Ke.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:false,enableRequestHeaderTracking:false,enableResponseHeaderTracking:false,enableAjaxErrorStatusText:false,enableAjaxPerfTracking:false,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return r;},e.getEmptyConfig=function(){var r=this.getDefaultConfig();return $(r,function(n){r[n]=void 0;}),r;},e.prototype.processTelemetry=function(r,n){this.processNext(r,n);},e.identifier="AjaxDependencyPlugin",e;}(et);});var lo=I(function(){fc();});var fo;var pc;var Pl;var dc;var Ai;var po=I(function(){X();to();ao();so();lo();he();pc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Pl={Default:0,Required:1,Array:2,Hidden:4},dc={__proto__:null,PropertiesPluginIdentifier:zt,BreezeChannelIdentifier:Or,AnalyticsPluginIdentifier:Ci,Util:Sn,CorrelationIdHelper:Pt,UrlHelper:Ba,DateTimeUtils:za,ConnectionStringParser:Va,FieldType:Pl,RequestHeaders:te,DisabledPropertyName:Et,ProcessLegacy:Ot,SampleRate:fr,HttpMethod:Fr,DEFAULT_BREEZE_ENDPOINT:fn,AIData:Cn,AIBase:In,Envelope:Tn,Event:He,Exception:me,Metric:Ve,PageView:Ne,PageViewData:mr,RemoteDependencyData:qe,Trace:Qe,PageViewPerformance:Ze,Data:xt,SeverityLevel:Bt,ConfigurationManager:Za,ContextTagKeys:xr,DataSanitizer:Na,TelemetryItemCreator:tt,CtxTagKeys:re,Extensions:_e,DistributedTracingModes:Ke},Ai=function(){function t(e){var r=this;r._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var i=mi(n.connectionString),a=i.ingestionendpoint;n.endpointUrl=a?a+"/v2/track":n.endpointUrl,n.instrumentationKey=i.instrumentationkey||n.instrumentationKey;}r.appInsights=new bn(),r.properties=new Dn(),r.dependencies=new Mn(),r.core=new en(),r._sender=new An(),r.snippet=e,r.config=n,r.getSKUDefaults();}return t.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr();},t.prototype.trackEvent=function(e,r){this.appInsights.trackEvent(e,r);},t.prototype.trackPageView=function(e){var r=e||{};this.appInsights.trackPageView(r);},t.prototype.trackPageViewPerformance=function(e){var r=e||{};this.appInsights.trackPageViewPerformance(r);},t.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e);},t.prototype._onerror=function(e){this.appInsights._onerror(e);},t.prototype.trackTrace=function(e,r){this.appInsights.trackTrace(e,r);},t.prototype.trackMetric=function(e,r){this.appInsights.trackMetric(e,r);},t.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e);},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsights.stopTrackPage(e,r,n,i);},t.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e);},t.prototype.stopTrackEvent=function(e,r,n){this.appInsights.stopTrackEvent(e,r,n);},t.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e);},t.prototype.setAuthenticatedUserContext=function(e,r,n){n===void 0&&(n=false),this.properties.context.user.setAuthenticatedUserContext(e,r,n);},t.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext();},t.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e);},t.prototype.flush=function(e){var r=this;e===void 0&&(e=true),ut(this.core,function(){return"AISKU.flush";},function(){R(r.core.getTransmissionControls(),function(n){R(n,function(i){i.flush(e);});});},null,e);},t.prototype.onunloadFlush=function(e){e===void 0&&(e=true),R(this.core.getTransmissionControls(),function(r){R(r,function(n){n.onunloadFlush?n.onunloadFlush():n.flush(e);});});},t.prototype.loadAppInsights=function(e,r,n){var i=this;e===void 0&&(e=false);var a=this;function o(u){if(u){var s="";x(a._snippetVersion)||(s+=a._snippetVersion),e&&(s+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=s||"-"),$(a,function(c,l){U(c)&&!z(l)&&c&&c[0]!=="_"&&pc.indexOf(c)===-1&&(u[c]=l);});}}return e&&a.config.extensions&&a.config.extensions.length>0&&Ae("Extensions not allowed in legacy mode"),ut(a.core,function(){return"AISKU.loadAppInsights";},function(){var u=[];u.push(a._sender),u.push(a.properties),u.push(a.dependencies),u.push(a.appInsights),a.core.initialize(a.config,u,r,n),a.context=a.properties.context,fo&&a.context&&(a.context.internal.sdkSrc=fo),o(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i);}),a;},t.prototype.updateSnippetDefinitions=function(e){Wr(e,this,function(r){return r&&pc.indexOf(r)===-1;});},t.prototype.emptyQueue=function(){var e=this;try{if(Fe(e.snippet.queue)){for(var r=e.snippet.queue.length,n=0;n<r;n++){var i=e.snippet.queue[n];i();}e.snippet.queue=void 0,delete e.snippet.queue;}}catch(o){var a={};o&&z(o.toString)&&(a.exception=o.toString());}},t.prototype.pollInternalLogs=function(){this.core.pollInternalLogs();},t.prototype.addHousekeepingBeforeUnload=function(e){if(or()||Qn()){var r=function r(){e.onunloadFlush(false),R(e.appInsights.core._extensions,function(i){if(i.identifier===zt)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1;});};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=_t("beforeunload",r);n=_t("unload",r)||n,n=_t("pagehide",r)||n,n=_t("visibilitychange",r)||n,!n&&!ta()&&e.appInsights.core.logger.throwInternal(S.CRITICAL,h.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide");}e.appInsights.config.disableFlushOnUnload||(_t("pagehide",r),_t("visibilitychange",r));}},t.prototype.getSender=function(){return this._sender;},t.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4;},t;}();(function(){var t=null,e=false,r=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(t=n.src);}catch(u){}if(t)try{var i=t.toLowerCase();if(i){for(var a="",o=0;o<r.length;o++){if(i.indexOf(r[o])!==-1){a="cdn"+(o+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),fo=a+(e?".mod":"");break;}}}}catch(u){}})();});var bl;var gc;var vc=I(function(){he();X();bl=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],gc=function(){function t(e,r){this._hasLegacyInitializers=false,this._queue=[],this.config=t.getDefaultConfig(e.config),this.appInsightsNew=r,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)};}return t.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=30*60*1e3,e.sessionExpirationMs=24*60*60*1e3,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=ee(e.enableDebug),e.disableExceptionTracking=ee(e.disableExceptionTracking),e.disableTelemetry=ee(e.disableTelemetry),e.verboseLogging=ee(e.verboseLogging),e.emitLineDelimitedJson=ee(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=ee(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=ee(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=ee(e.isBeaconApiDisabled,true),e.disableCorrelationHeaders=ee(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=ee(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ee(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=ee(e.enableSessionStorageBuffer,true),e.isRetryDisabled=ee(e.isRetryDisabled),e.isCookieUseDisabled=ee(e.isCookieUseDisabled),e.isStorageUseDisabled=ee(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ee(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=ee(e.enableCorsCorrelation),e;},t.prototype.addTelemetryInitializers=function(e){var r=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(n){r._processLegacyInitializers(n);}),this._hasLegacyInitializers=true),this._queue.push(e);},t.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr();},t.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e);},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsightsNew.stopTrackPage(e,r,n);},t.prototype.trackPageView=function(e,r,n,i,a){var o={name:e,uri:r,properties:n,measurements:i};this.appInsightsNew.trackPageView(o);},t.prototype.trackEvent=function(e,r,n){this.appInsightsNew.trackEvent({name:e});},t.prototype.trackDependency=function(e,r,n,i,a,o,u){this.appInsightsNew.trackDependencyData({id:e,target:n,type:i,duration:a,properties:{HttpMethod:r},success:o,responseCode:u});},t.prototype.trackException=function(e,r,n,i,a){this.appInsightsNew.trackException({exception:e});},t.prototype.trackMetric=function(e,r,n,i,a,o){this.appInsightsNew.trackMetric({name:e,average:r,sampleCount:n,min:i,max:a});},t.prototype.trackTrace=function(e,r,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n});},t.prototype.flush=function(e){this.appInsightsNew.flush(e);},t.prototype.setAuthenticatedUserContext=function(e,r,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,r,n);},t.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext();},t.prototype._onerror=function(e,r,n,i,a){this.appInsightsNew._onerror({message:e,url:r,lineNumber:n,columnNumber:i,error:a});},t.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e);},t.prototype.stopTrackEvent=function(e,r,n){this.appInsightsNew.stopTrackEvent(e,r,n);},t.prototype.downloadAndSetup=function(e){Ae("downloadAndSetup not implemented in web SKU");},t.prototype.updateSnippetDefinitions=function(e){Wr(e,this,function(r){return r&&bl.indexOf(r)===-1;});},t.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var r=this.trackPageView;this.trackPageView=function(a,o,u){r.apply(e,[null,a,o,u]);};}var n="logPageView";typeof this.snippet[n]=="function"&&(this[n]=function(a,o,u){e.trackPageView(null,a,o,u);});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(a,o,u){e.trackEvent(a,o,u);}),this;},t.prototype._processLegacyInitializers=function(e){return e.tags[Ot]=this._queue,e;},t;}();});var mc;var hc=I(function(){vc();po();X();mc=function(){function t(){}return t.getAppInsights=function(e,r){var n=new Ai(e),i=r!==2;if(Qt(),r===2)return n.updateSnippetDefinitions(e),n.loadAppInsights(i),n;var a=new gc(e,n);return a.updateSnippetDefinitions(e),n.loadAppInsights(i),a;},t;}();});var xc={};Ec(xc,{AppInsightsCore:function AppInsightsCore(){return en;},ApplicationAnalytics:function ApplicationAnalytics(){return bn;},ApplicationInsights:function ApplicationInsights(){return Ai;},ApplicationInsightsContainer:function ApplicationInsightsContainer(){return mc;},BaseCore:function BaseCore(){return Yr;},BaseTelemetryPlugin:function BaseTelemetryPlugin(){return et;},CoreUtils:function CoreUtils(){return on;},DependenciesPlugin:function DependenciesPlugin(){return Mn;},DistributedTracingModes:function DistributedTracingModes(){return Ke;},Event:function Event(){return He;},Exception:function Exception(){return me;},LoggingSeverity:function LoggingSeverity(){return S;},Metric:function Metric(){return Ve;},NotificationManager:function NotificationManager(){return $r;},PageView:function PageView(){return Ne;},PageViewPerformance:function PageViewPerformance(){return Ze;},PerfEvent:function PerfEvent(){return ur;},PerfManager:function PerfManager(){return Xr;},PropertiesPlugin:function PropertiesPlugin(){return Dn;},RemoteDependencyData:function RemoteDependencyData(){return qe;},Sender:function Sender(){return An;},SeverityLevel:function SeverityLevel(){return Bt;},Telemetry:function Telemetry(){return dc;},Trace:function Trace(){return Qe;},Util:function Util(){return Sn;},_InternalMessageId:function _InternalMessageId(){return h;},doPerf:function doPerf(){return ut;}});var yc=I(function(){po();hc();X();he();ao();to();so();lo();});var wc=function wc(t,e,r){return At(void 0,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee37(){var n,i,a,o,u,l,c;return regeneratorRuntime.wrap(function _callee37$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:_context37.next=2;return Promise.resolve().then(function(){return init_Index(),Index_exports;});case 2:n=_context37.sent;_context37.next=5;return Promise.resolve().then(function(){return init_Index2(),Index_exports2;});case 5:i=_context37.sent;a=new n.AppInsightsCore();o=new i.PostChannel();u={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:true,disableDbgExt:true,disableInstrumentationKeyValidation:true,channels:[[o]]};if(r){u.extensionConfig={};l={alwaysUseXhrOverride:true,httpXHROverride:r};u.extensionConfig[o.identifier]=l;}c=e.workspace.getConfiguration("telemetry").get("internalTesting");return _context37.abrupt("return",(a.initialize(u,[]),a.addTelemetryInitializer(function(l){var f2,g;!c||(l.ext=(f2=l.ext)!=null?f2:{},l.ext.utc=(g=l.ext.utc)!=null?g:{},l.ext.utc.flags=8462029);}),a));case 12:case"end":return _context37.stop();}}},_callee37);}));};var yo=function yo(t,e,r){return At(void 0,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee39(){var n;return regeneratorRuntime.wrap(function _callee39$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_context39.next=2;return wc(t,e,r);case 2:n=_context39.sent;return _context39.abrupt("return",{logEvent:function logEvent(a,o){try{n==null||n.track({name:a,baseData:{name:a,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}});}catch(u){throw new Error("Failed to log event to app insights!\n"+u.message);}},logException:function logException(a,o){throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking");},flush:function flush(){return At(void 0,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee38(){return regeneratorRuntime.wrap(function _callee38$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:_context38.prev=0;n==null||n.unload();_context38.next=7;break;case 4:_context38.prev=4;_context38.t0=_context38["catch"](0);throw new Error("Failed to flush app insights!\n"+_context38.t0.message);case 7:case"end":return _context38.stop();}}},_callee38,null,[[0,4]]);}));}});case 4:case"end":return _context39.stop();}}},_callee39);}));};var Ln=/*#__PURE__*/function(){function Ln(e,r){_classCallCheck(this,Ln);this._instantiationStatus=0;this._eventQueue=[];this._exceptionQueue=[];this._clientFactory=r,this._key=e;}_createClass(Ln,[{key:"logEvent",value:function logEvent(e,r){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:r});return;}this._telemetryClient.logEvent(e,r);}},{key:"logException",value:function logException(e,r){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:r});return;}this._telemetryClient.logException(e,r);}},{key:"flush",value:function flush(){return At(this,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee40(){return regeneratorRuntime.wrap(function _callee40$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:_context40.t0=this._telemetryClient;if(!_context40.t0){_context40.next=5;break;}_context40.next=4;return this._telemetryClient.flush();case 4:this._telemetryClient=void 0;case 5:case"end":return _context40.stop();}}},_callee40,this);}));}},{key:"_flushQueues",value:function _flushQueues(){var _this125=this;this._eventQueue.forEach(function(_ref27){var e=_ref27.eventName,r=_ref27.data;return _this125.logEvent(e,r);}),this._eventQueue=[],this._exceptionQueue.forEach(function(_ref28){var e=_ref28.exception,r=_ref28.data;return _this125.logException(e,r);}),this._exceptionQueue=[];}},{key:"instantiateAppender",value:function instantiateAppender(){var _this126=this;this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(function(e){_this126._telemetryClient=e,_this126._instantiationStatus=2,_this126._flushQueues();}).catch(function(e){console.error(e),_this126._instantiationStatus=2;}));}}]);return Ln;}();var je=/*#__PURE__*/function(){function je(e){_classCallCheck(this,je);this.vscodeAPI=e;}_createClass(je,[{key:"getTelemetryLevel",value:function getTelemetryLevel(){var e="telemetry",r="enableTelemetry";try{var n=this.vscodeAPI.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?"on":n.isErrorsEnabled&&n.isCrashEnabled?"error":"off";}catch(n){return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(r)?"on":"off";}}}],[{key:"applyReplacements",value:function applyReplacements(e,r){for(var _i6=0,_Object$keys3=Object.keys(e);_i6<_Object$keys3.length;_i6++){var n=_Object$keys3[_i6];var _iterator67=_createForOfIteratorHelper(r),_step64;try{for(_iterator67.s();!(_step64=_iterator67.n()).done;){var i=_step64.value;i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n]);}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}}}},{key:"shouldUseOneDataSystemSDK",value:function shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-";}},{key:"getInstance",value:function getInstance(e){return je._instance||(je._instance=new je(e)),je._instance;}}]);return je;}();var _n=/*#__PURE__*/function(){function _n(e,r,n,i,a,o){var _this127=this;_classCallCheck(this,_n);this.extensionId=e;this.extensionVersion=r;this.telemetryAppender=n;this.osShim=i;this.vscodeAPI=a;this.firstParty=false;this.userOptIn=false;this.errorOptIn=false;this.disposables=[];this.firstParty=!!o,this.updateUserOptStatus(),a.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(a.env.onDidChangeTelemetryEnabled(function(){return _this127.updateUserOptStatus();})),this.disposables.push(a.workspace.onDidChangeConfiguration(function(){return _this127.updateUserOptStatus();}))):this.disposables.push(a.workspace.onDidChangeConfiguration(function(){return _this127.updateUserOptStatus();}));}_createClass(_n,[{key:"updateUserOptStatus",value:function updateUserOptStatus(){var e=je.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender();}},{key:"cleanRemoteName",value:function cleanRemoteName(e){if(!e)return"none";var r="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(function(n){e.indexOf("".concat(n))===0&&(r=n);}),r;}},{key:"extension",get:function get(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension;}},{key:"cloneAndChange",value:function cloneAndChange(e,r){if(e===null||_typeof(e)!="object"||typeof r!="function")return e;var n={};for(var i in e){n[i]=r(i,e[i]);}return n;}},{key:"shouldSendErrorTelemetry",value:function shouldSendErrorTelemetry(){return this.errorOptIn===false?false:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):true;}},{key:"getCommonProperties",value:function getCommonProperties(){var e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown";}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName);}return e;}},{key:"anonymizeFilePaths",value:function anonymizeFilePaths(e,r){var n;if(e==null)return"";var i=[];this.vscodeAPI.env.appRoot!==""&&i.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&i.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var a=e;if(r){var o=[];var _iterator68=_createForOfIteratorHelper(i),_step65;try{for(_iterator68.s();!(_step65=_iterator68.n()).done;){var l=_step65.value;for(;(n=l.exec(e))&&n;){o.push([n.index,l.lastIndex]);}}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}var u=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(a="";(n=s.exec(e))&&n;){n[0]&&!u.test(n[0])&&o.every(function(_ref29){var _ref30=_slicedToArray(_ref29,2),l=_ref30[0],f2=_ref30[1];return n.index<l||n.index>=f2;})&&(a+=e.substring(c,n.index)+"<REDACTED: user-file-path>",c=s.lastIndex);}c<e.length&&(a+=e.substr(c));}for(var _i8=0,_i7=i;_i8<_i7.length;_i8++){var _o2=_i7[_i8];a=a.replace(_o2,"");}return a;}},{key:"removePropertiesWithPossibleUserInfo",value:function removePropertiesWithPossibleUserInfo(e){if(_typeof(e)!="object")return;var r={};for(var _i9=0,_Object$keys4=Object.keys(e);_i9<_Object$keys4.length;_i9++){var n=_Object$keys4[_i9];var i=e[n];if(!i)continue;var a=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,u=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(i.toLowerCase())?r[n]="<REDACTED: secret>":a.test(i)?r[n]="<REDACTED: email>":u.test(i)?r[n]="<REDACTED: token>":r[n]=i;}return r;}},{key:"telemetryLevel",get:function get(){switch(je.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off";}}},{key:"internalSendTelemetryEvent",value:function internalSendTelemetryEvent(e,r,n,i,a){var _this128=this;if((this.userOptIn||a)&&e!==""){if(r=at(at({},r),this.getCommonProperties()),i){var o=this.cloneAndChange(r,function(u,s){return _this128.anonymizeFilePaths(s,_this128.firstParty);});r=this.removePropertiesWithPossibleUserInfo(o);}r=r!=null?r:{},n=n!=null?n:{},e="".concat(this.extensionId,"/").concat(e),this.telemetryAppender.logEvent(e,{properties:r,measurements:n});}}},{key:"sendTelemetryEvent",value:function sendTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,true,false);}},{key:"sendRawTelemetryEvent",value:function sendRawTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,false,false);}},{key:"sendDangerousTelemetryEvent",value:function sendDangerousTelemetryEvent(e,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,r,n,i,true);}},{key:"internalSendTelemetryErrorEvent",value:function internalSendTelemetryErrorEvent(e,r,n,i,a){var _this129=this;if((this.shouldSendErrorTelemetry()||a)&&e!==""){if(r=at(at({},r),this.getCommonProperties()),i){var o=this.cloneAndChange(r,function(u,s){return _this129.anonymizeFilePaths(s,_this129.firstParty);});r=this.removePropertiesWithPossibleUserInfo(o);}r=r!=null?r:{},n=n!=null?n:{},e="".concat(this.extensionId,"/").concat(e),this.telemetryAppender.logEvent(e,{properties:r,measurements:n});}}},{key:"sendTelemetryErrorEvent",value:function sendTelemetryErrorEvent(e,r,n){this.internalSendTelemetryErrorEvent(e,r,n,true,false);}},{key:"sendDangerousTelemetryErrorEvent",value:function sendDangerousTelemetryErrorEvent(e,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,r,n,i,true);}},{key:"internalSendTelemetryException",value:function internalSendTelemetryException(e,r,n,i,a){var _this130=this;if((this.shouldSendErrorTelemetry()||a)&&e){if(r=at(at({},r),this.getCommonProperties()),i){var o=this.cloneAndChange(r,function(u,s){return _this130.anonymizeFilePaths(s,_this130.firstParty);});e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),r=this.removePropertiesWithPossibleUserInfo(o);}r=r!=null?r:{},n=n!=null?n:{},this.telemetryAppender.logException(e,{properties:r,measurements:n});}}},{key:"sendTelemetryException",value:function sendTelemetryException(e,r,n){this.internalSendTelemetryException(e,r,n,true,false);}},{key:"sendDangerousTelemetryException",value:function sendDangerousTelemetryException(e,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,r,n,i,true);}},{key:"dispose",value:function dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(function(e){return e.dispose();}));}}]);return _n;}();var Al=function Al(t,e){return At(void 0,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee42(){var r,i,a;return regeneratorRuntime.wrap(function _callee42$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:_context42.prev=0;_context42.next=3;return Promise.resolve().then(function(){return yc(),xc;});case 3:i=_context42.sent;t&&t.indexOf("AIF-")===0&&(a="https://vscode.vortex.data.microsoft.com/collect/v1"),r=new i.ApplicationInsights({config:{instrumentationKey:t,endpointUrl:a,disableAjaxTracking:true,disableExceptionTracking:true,disableFetchTracking:true,disableCorrelationHeaders:true,disableCookiesUsage:true,autoTrackPageVisitTime:false,emitLineDelimitedJson:true,disableInstrumentationKeyValidation:true}}),r.loadAppInsights(),a&&fetch(a).catch(function(){return r=void 0;});_context42.next=10;break;case 7:_context42.prev=7;_context42.t0=_context42["catch"](0);return _context42.abrupt("return",Promise.reject(_context42.t0));case 10:return _context42.abrupt("return",{logEvent:function logEvent(i,a){var o=at(at({},a==null?void 0:a.properties),a==null?void 0:a.measurements);e!=null&&e.length&&je.applyReplacements(o,e),r==null||r.trackEvent({name:i},o);},logException:function logException(i,a){var o=at(at({},a==null?void 0:a.properties),a==null?void 0:a.measurements);e!=null&&e.length&&je.applyReplacements(o,e),r==null||r.trackException({exception:i,properties:o});},flush:function flush(){return At(void 0,null,/*#__PURE__*/regeneratorRuntime.mark(function _callee41(){return regeneratorRuntime.wrap(function _callee41$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:r==null||r.flush();case 1:case"end":return _context41.stop();}}},_callee41);}));}});case 11:case"end":return _context42.stop();}}},_callee42,null,[[0,7]]);}));};var go=/*#__PURE__*/function(_n2){_inherits(go,_n2);var _super88=_createSuper(go);function go(e,r,n,i,a){var _this131;_classCallCheck(this,go);var o=function o(s){return Al(s,a);};je.shouldUseOneDataSystemSDK(n)&&(o=function o(s){return yo(s,Sc);});var u=new Ln(n,o);n&&(n.indexOf("AIF-")===0||je.shouldUseOneDataSystemSDK(n))&&(i=true),_this131=_super88.call(this,e,r,u,{release:navigator.appVersion,platform:"web",architecture:"web"},Sc,i);return _this131;}return _createClass(go);}(_n);// shared/common/messages.ts
var CustomMessages;(function(CustomMessages2){CustomMessages2["QueueInit"]="queue/init";CustomMessages2["QueueUnleash"]="queue/unleash";CustomMessages2["FileRead"]="file/read";})(CustomMessages||(CustomMessages={}));// client/src/common/client.ts
function startClient(_x36,_x37){return _startClient.apply(this,arguments);}function _startClient(){_startClient=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee45(factory,context){var channel,telemetry,supportedLanguages,serverHandles,startServer,stopServers,_stopServers;return regeneratorRuntime.wrap(function _callee45$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:_stopServers=function _stopServers3(){_stopServers=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee44(){var oldHandles,result,_iterator69,_step66,item;return regeneratorRuntime.wrap(function _callee44$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:oldHandles=serverHandles.slice(0);serverHandles=[];_context44.next=4;return Promise.allSettled(oldHandles);case 4:result=_context44.sent;_iterator69=_createForOfIteratorHelper(result);try{for(_iterator69.s();!(_step66=_iterator69.n()).done;){item=_step66.value;if(item.status==="fulfilled"){item.value.dispose();}}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}case 7:case"end":return _context44.stop();}}},_callee44);}));return _stopServers.apply(this,arguments);};stopServers=function _stopServers2(){return _stopServers.apply(this,arguments);};startServer=function _startServer3(){serverHandles.push(_startServer(factory,context,supportedLanguages,telemetry,channel));};channel=vscode2.window.createOutputChannel("anycode");telemetry=new go(context.extension.id,context.extension.packageJSON["version"],context.extension.packageJSON["aiKey"]);supportedLanguages=new SupportedLanguages(channel);serverHandles=[];startServer();context.subscriptions.push(channel);context.subscriptions.push(supportedLanguages);context.subscriptions.push(supportedLanguages.onDidChange(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee43(){return regeneratorRuntime.wrap(function _callee43$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:_context43.next=2;return stopServers();case 2:startServer();case 3:case"end":return _context43.stop();}}},_callee43);}))));context.subscriptions.push(new vscode2.Disposable(stopServers));case 12:case"end":return _context45.stop();}}},_callee45);}));return _startClient.apply(this,arguments);}function _showStatusAndInfo(selector,showCommandHint,disposables){var statusItem=vscode2.languages.createLanguageStatusItem("info",selector);disposables.push(statusItem);statusItem.severity=vscode2.LanguageStatusSeverity.Warning;statusItem.text="Partial Mode";if(showCommandHint){statusItem.detail="Language support is inaccurate in this context. $(lightbulb-autofix) Did not index all files because search [indexing is disabled](command:remoteHub.enableIndexing).";}else{statusItem.detail="Language support is inaccurate in this context, results may be imprecise and incomplete.";}statusItem.command={title:"Learn More",command:"vscode.open",arguments:[vscode2.Uri.parse("https://aka.ms/vscode-anycode")]};}function _startServer(_x38,_x39,_x40,_x41,_x42){return _startServer2.apply(this,arguments);}function _startServer2(){_startServer2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee48(factory,context,supportedLanguagesInfo,telemetry,log){var _vscode2$workspace$ge,_vscode2$workspace$ge2;var supportedLanguages,documentSelector,_sendFeatureTelementry,disposables,databaseName,findAndSearchSuffixes,_iterator70,_step67,_step67$value,info,config,langPattern,watcher,treeSitterWasmUri,initializationOptions,clientOptions,client,exclude,size,init;return regeneratorRuntime.wrap(function _callee48$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:_sendFeatureTelementry=function _sendFeatureTelementr(name,language){telemetry.sendTelemetryEvent("feature",{name:name,language:language});};_context48.next=3;return supportedLanguagesInfo.getSupportedLanguages();case 3:supportedLanguages=_context48.sent;_context48.next=6;return supportedLanguagesInfo.getSupportedLanguagesAsSelector();case 6:documentSelector=_context48.sent;if(!(documentSelector.length===0)){_context48.next=10;break;}log.appendLine("[anycode] NO supported languages, no server needed");return _context48.abrupt("return",new vscode2.Disposable(function(){}));case 10:disposables=[];databaseName=context.workspaceState.get("dbName","anycode_".concat(Math.random().toString(32).slice(2)));context.workspaceState.update("dbName",databaseName);findAndSearchSuffixes=[];_iterator70=_createForOfIteratorHelper(supportedLanguages);try{for(_iterator70.s();!(_step67=_iterator70.n()).done;){_step67$value=_slicedToArray(_step67.value,2),info=_step67$value[0],config=_step67$value[1];if(config.workspaceSymbols||config.references||config.definitions){findAndSearchSuffixes.push(info.suffixes);}}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}langPattern="**/*.{".concat(findAndSearchSuffixes.join(","),"}");watcher=vscode2.workspace.createFileSystemWatcher(langPattern);disposables.push(watcher);treeSitterWasmUri=vscode2.Uri.joinPath(context.extensionUri,"./server/node_modules/web-tree-sitter/tree-sitter.wasm");initializationOptions={treeSitterWasmUri:"importScripts"in globalThis?treeSitterWasmUri.toString():treeSitterWasmUri.fsPath,supportedLanguages:Array.from(supportedLanguages.entries()),databaseName:databaseName};clientOptions={outputChannel:log,revealOutputChannelOn:import_vscode_languageclient.RevealOutputChannelOn.Never,documentSelector:documentSelector,synchronize:{fileEvents:watcher},initializationOptions:initializationOptions,middleware:{provideWorkspaceSymbols:function provideWorkspaceSymbols(query,token,next){_sendFeatureTelementry("workspaceSymbols","");return next(query,token);},provideDefinition:function provideDefinition(document2,position,token,next){_sendFeatureTelementry("definition",document2.languageId);return next(document2,position,token);},provideReferences:function provideReferences(document2,position,options,token,next){_sendFeatureTelementry("references",document2.languageId);return next(document2,position,options,token);},provideDocumentHighlights:function provideDocumentHighlights(document2,position,token,next){_sendFeatureTelementry("documentHighlights",document2.languageId);return next(document2,position,token);},provideCompletionItem:function provideCompletionItem(document2,position,context2,token,next){_sendFeatureTelementry("completions",document2.languageId);return next(document2,position,context2,token);}}};client=factory.createLanguageClient("anycode","anycode",clientOptions);disposables.push(client.start());disposables.push(new vscode2.Disposable(function(){return factory.destoryLanguageClient(client);}));_context48.next=27;return client.onReady();case 27:exclude="{".concat([].concat(_toConsumableArray(Object.keys((_vscode2$workspace$ge=vscode2.workspace.getConfiguration("search",null).get("exclude"))!==null&&_vscode2$workspace$ge!==void 0?_vscode2$workspace$ge:{})),_toConsumableArray(Object.keys((_vscode2$workspace$ge2=vscode2.workspace.getConfiguration("files",null).get("exclude"))!==null&&_vscode2$workspace$ge2!==void 0?_vscode2$workspace$ge2:{}))).join(","),"}");size=Math.max(0,vscode2.workspace.getConfiguration("anycode").get("symbolIndexSize",500));init=Promise.resolve(vscode2.workspace.findFiles(langPattern,exclude).then(/*#__PURE__*/function(){var _ref33=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee46(all){var hasWorkspaceContents,uris,t1,suffixesByLangId,_iterator71,_step68,_step68$value,lang,handleTextDocument,listener;return regeneratorRuntime.wrap(function _callee46$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:hasWorkspaceContents=0;if(!(all.length>50)){_context46.next=7;break;}_context46.next=4;return _canInitWithoutLimits();case 4:if(!_context46.sent){_context46.next=7;break;}size=Number.MAX_SAFE_INTEGER;hasWorkspaceContents=1;case 7:uris=all.slice(0,size);log.appendLine("[INDEX] using ".concat(uris.length," of ").concat(all.length," files for ").concat(langPattern));t1=performance.now();_context46.next=12;return client.sendRequest(CustomMessages.QueueInit,uris.map(String));case 12:telemetry.sendTelemetryEvent("init",void 0,{numOfFiles:all.length,indexSize:uris.length,hasWorkspaceContents:hasWorkspaceContents,duration:performance.now()-t1});suffixesByLangId=new Map();_iterator71=_createForOfIteratorHelper(supportedLanguages);try{for(_iterator71.s();!(_step68=_iterator71.n()).done;){_step68$value=_slicedToArray(_step68.value,1),lang=_step68$value[0];suffixesByLangId.set(lang.languageId,lang.suffixes);}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}handleTextDocument=function handleTextDocument(doc){var suffixes=suffixesByLangId.get(doc.languageId);if(!suffixes){return;}suffixesByLangId.delete(doc.languageId);var initLang=client.sendRequest(CustomMessages.QueueUnleash,suffixes);var initCancel=new Promise(function(resolve){return disposables.push(new vscode2.Disposable(resolve));});vscode2.window.withProgress({location:vscode2.ProgressLocation.Window,title:"Updating Index for '".concat(doc.languageId,"'...")},function(){return Promise.race([initLang,initCancel]);});if(suffixesByLangId.size===0){listener.dispose();}};listener=vscode2.workspace.onDidOpenTextDocument(handleTextDocument);disposables.push(listener);vscode2.workspace.textDocuments.forEach(handleTextDocument);_showStatusAndInfo(documentSelector,!hasWorkspaceContents&&_isRemoteHubWorkspace(),disposables);case 21:case"end":return _context46.stop();}}},_callee46);}));return function(_x44){return _ref33.apply(this,arguments);};}()));client.onRequest(CustomMessages.FileRead,/*#__PURE__*/function(){var _ref34=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee47(raw){var uri,doc,data,stat;return regeneratorRuntime.wrap(function _callee47$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:uri=vscode2.Uri.parse(raw);if(!(uri.scheme==="vscode-notebook-cell")){_context47.next=13;break;}_context47.prev=2;_context47.next=5;return vscode2.workspace.openTextDocument(uri);case 5:doc=_context47.sent;return _context47.abrupt("return",Array.from(new TextEncoder().encode(doc.getText())));case 9:_context47.prev=9;_context47.t0=_context47["catch"](2);console.warn(_context47.t0);return _context47.abrupt("return",[]);case 13:if(!(vscode2.workspace.fs.isWritableFileSystem(uri.scheme)===void 0)){_context47.next=15;break;}return _context47.abrupt("return",[]);case 15:_context47.prev=15;_context47.next=18;return vscode2.workspace.fs.stat(uri);case 18:stat=_context47.sent;if(!(stat.size>Math.pow(1024,2))){_context47.next=24;break;}console.warn("IGNORING \"".concat(uri.toString(),"\" because it is too large (").concat(stat.size,"bytes)"));data=[];_context47.next=29;break;case 24:_context47.t1=Array;_context47.next=27;return vscode2.workspace.fs.readFile(uri);case 27:_context47.t2=_context47.sent;data=_context47.t1.from.call(_context47.t1,_context47.t2);case 29:return _context47.abrupt("return",data);case 32:_context47.prev=32;_context47.t3=_context47["catch"](15);console.warn(_context47.t3);return _context47.abrupt("return",[]);case 36:case"end":return _context47.stop();}}},_callee47,null,[[2,9],[15,32]]);}));return function(_x45){return _ref34.apply(this,arguments);};}());return _context48.abrupt("return",new vscode2.Disposable(function(){return disposables.forEach(function(d){return d.dispose();});}));case 32:case"end":return _context48.stop();}}},_callee48);}));return _startServer2.apply(this,arguments);}function _getRemoteHubExtension(){var _ref31,_vscode2$extensions$g;var remoteHub=(_ref31=(_vscode2$extensions$g=vscode2.extensions.getExtension("ms-vscode.remote-repositories",true))!==null&&_vscode2$extensions$g!==void 0?_vscode2$extensions$g:vscode2.extensions.getExtension("GitHub.remoteHub",true))!==null&&_ref31!==void 0?_ref31:vscode2.extensions.getExtension("GitHub.remoteHub-insiders",true);return remoteHub;}function _isRemoteHubWorkspace(){var _vscode2$workspace$wo,_vscode2$workspace$wo2;if(!_getRemoteHubExtension()){return false;}return(_vscode2$workspace$wo=(_vscode2$workspace$wo2=vscode2.workspace.workspaceFolders)===null||_vscode2$workspace$wo2===void 0?void 0:_vscode2$workspace$wo2.every(function(folder){return folder.uri.scheme==="vscode-vfs";}))!==null&&_vscode2$workspace$wo!==void 0?_vscode2$workspace$wo:false;}function _canInitWithoutLimits(){return _canInitWithoutLimits2.apply(this,arguments);}// client/src/browser/main.ts
function _canInitWithoutLimits2(){_canInitWithoutLimits2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee49(){var remoteFolders,remoteHub,remoteHubApi,_iterator72,_step69,folder;return regeneratorRuntime.wrap(function _callee49$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:if(vscode2.workspace.workspaceFolders){_context49.next=2;break;}return _context49.abrupt("return",false);case 2:remoteFolders=vscode2.workspace.workspaceFolders.filter(function(folder){return folder.uri.scheme==="vscode-vfs";});if(!(remoteFolders.length===0)){_context49.next=5;break;}return _context49.abrupt("return",true);case 5:remoteHub=_getRemoteHubExtension();_context49.next=8;return remoteHub===null||remoteHub===void 0?void 0:remoteHub.activate();case 8:remoteHubApi=_context49.sent;if(!(typeof(remoteHubApi===null||remoteHubApi===void 0?void 0:remoteHubApi.loadWorkspaceContents)!=="function")){_context49.next=11;break;}return _context49.abrupt("return",false);case 11:_iterator72=_createForOfIteratorHelper(remoteFolders);_context49.prev=12;_iterator72.s();case 14:if((_step69=_iterator72.n()).done){_context49.next=22;break;}folder=_step69.value;_context49.next=18;return remoteHubApi.loadWorkspaceContents(folder.uri);case 18:if(_context49.sent){_context49.next=20;break;}return _context49.abrupt("return",false);case 20:_context49.next=14;break;case 22:_context49.next=27;break;case 24:_context49.prev=24;_context49.t0=_context49["catch"](12);_iterator72.e(_context49.t0);case 27:_context49.prev=27;_iterator72.f();return _context49.finish(27);case 30:return _context49.abrupt("return",true);case 31:case"end":return _context49.stop();}}},_callee49,null,[[12,24,27,30]]);}));return _canInitWithoutLimits2.apply(this,arguments);}function _activate(_x43){return _activate2.apply(this,arguments);}/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */function _activate2(){_activate2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee50(context){var factory;return regeneratorRuntime.wrap(function _callee50$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:factory=new(/*#__PURE__*/function(){function _class(){_classCallCheck(this,_class);this._map=new Map();}_createClass(_class,[{key:"createLanguageClient",value:function createLanguageClient(id,name,clientOptions){var serverMain=vscode3.Uri.joinPath(context.extensionUri,"dist/anycode.server.browser.js");var worker=new Worker(serverMain.toString());var result=new import_browser.LanguageClient(id,name,clientOptions,worker);this._map.set(result,worker);return result;}},{key:"destoryLanguageClient",value:function destoryLanguageClient(client){var worker=this._map.get(client);if(worker){worker.terminate();this._map.delete(client);}}}]);return _class;}())();return _context50.abrupt("return",startClient(factory,context));case 2:case"end":return _context50.stop();}}},_callee50);}));return _activate2.apply(this,arguments);}